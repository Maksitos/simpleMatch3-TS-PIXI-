"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[390],{5390:(e,t,i)=>{var n=i(8507),o=i(5815),s=i(5101);class r{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=r.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new s.b,this.page=new s.b,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,i,n,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var a=/iPhone/i,h=/iPod/i,l=/iPad/i,d=/\biOS-universal(?:.+)Mac\b/i,c=/\bAndroid(?:.+)Mobile\b/i,p=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,v=/Silk/i,m=/Windows Phone/i,g=/\bWindows(?:.+)ARM\b/i,y=/BlackBerry/i,_=/BB10/i,E=/Opera Mini/i,b=/\b(CriOS|Chrome)(?:.+)Mobile/i,f=/Mobile(?:.+)Firefox\b/i,T=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function P(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=t.userAgent,n=i.split("[FBAN");void 0!==n[1]&&(i=n[0]),void 0!==(n=i.split("Twitter"))[1]&&(i=n[0]);var o=function(e){return function(t){return t.test(e)}}(i),s={apple:{phone:o(a)&&!o(m),ipod:o(h),tablet:!o(a)&&(o(l)||T(t))&&!o(m),universal:o(d),device:(o(a)||o(h)||o(l)||o(d)||T(t))&&!o(m)},amazon:{phone:o(u),tablet:!o(u)&&o(v),device:o(u)||o(v)},android:{phone:!o(m)&&o(u)||!o(m)&&o(c),tablet:!o(m)&&!o(u)&&!o(c)&&(o(v)||o(p)),device:!o(m)&&(o(u)||o(v)||o(c)||o(p))||o(/\bokhttp\b/i)},windows:{phone:o(m),tablet:o(g),device:o(m)||o(g)},other:{blackberry:o(y),blackberry10:o(_),opera:o(E),firefox:o(f),chrome:o(b),device:o(y)||o(_)||o(E)||o(f)||o(b)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const w=(P.default??P)(globalThis.navigator);var M=i(9903);const A=class e{constructor(e,t=w){this._mobileInfo=t,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(t.tablet||t.phone)&&this._createTouchHook(),this._renderer=e}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){if(this._isActive)return;this._isActive=!0,this._div||(this._div=document.createElement("div"),this._div.style.width="100px",this._div.style.height="100px",this._div.style.position="absolute",this._div.style.top="0px",this._div.style.left="0px",this._div.style.zIndex=2..toString(),this._div.style.pointerEvents="none"),this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._deactivateOnMouseMove&&(this._onMouseMove=this._onMouseMove.bind(this),globalThis.document.addEventListener("mousemove",this._onMouseMove,!0));const e=this._renderer.view.canvas;if(e.parentNode)e.parentNode.appendChild(this._div),this._initAccessibilitySetup();else{const t=new MutationObserver(()=>{e.parentNode&&(e.parentNode.appendChild(this._div),t.disconnect(),this._initAccessibilitySetup())});t.observe(document.body,{childList:!0,subtree:!0})}}_initAccessibilitySetup(){this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(this._isActive&&!this._isMobileAccessibility){this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),this._activateOnTab&&globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this);for(const e of this._children)e._accessibleDiv&&e._accessibleDiv.parentNode&&(e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),e._accessibleDiv=null),e._accessibleActive=!1;this._pool.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this._div&&this._div.parentNode&&this._div.parentNode.removeChild(this._div),this._pool=[],this._children=[]}}_updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&(e._accessibleActive||this._addChild(e),e._renderId=this._renderId);const t=e.children;if(t)for(let e=0;e<t.length;e++)this._updateAccessibleObjects(t[e])}init(t){const i={accessibilityOptions:{...e.defaultOptions,...t?.accessibilityOptions||{}}};this.debug=i.accessibilityOptions.debug,this._activateOnTab=i.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=i.accessibilityOptions.deactivateOnMouseMove,i.accessibilityOptions.enabledByDefault?this._activate():this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._renderer.runners.postrender.remove(this)}postrender(){const e=performance.now();if(this._mobileInfo.android.device&&e<this._androidUpdateCount)return;if(this._androidUpdateCount=e+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas)return;const t=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(const e of this._children)e._renderId===this._renderId&&t.add(this._children.indexOf(e))}for(let e=this._children.length-1;e>=0;e--){const i=this._children[e];t.has(e)||(i._accessibleDiv&&i._accessibleDiv.parentNode&&(i._accessibleDiv.parentNode.removeChild(i._accessibleDiv),this._pool.push(i._accessibleDiv),i._accessibleDiv=null),i._accessibleActive=!1,(0,M.d)(this._children,e,1))}if(this._renderer.renderingToScreen){const{x:e,y:t,width:i,height:n}=this._renderer.screen,o=this._div;o.style.left=`${e}px`,o.style.top=`${t}px`,o.style.width=`${i}px`,o.style.height=`${n}px`}for(let e=0;e<this._children.length;e++){const t=this._children[e];if(!t._accessibleActive||!t._accessibleDiv)continue;const i=t._accessibleDiv,n=t.hitArea||t.getBounds().rectangle;if(t.hitArea){const e=t.worldTransform,o=this._renderer.resolution,s=this._renderer.resolution;i.style.left=(e.tx+n.x*e.a)*o+"px",i.style.top=(e.ty+n.y*e.d)*s+"px",i.style.width=n.width*e.a*o+"px",i.style.height=n.height*e.d*s+"px"}else{this._capHitArea(n);const e=this._renderer.resolution,t=this._renderer.resolution;i.style.left=n.x*e+"px",i.style.top=n.y*t+"px",i.style.width=n.width*e+"px",i.style.height=n.height*t+"px"}}this._renderId++}_updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}_capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:i}=this._renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>i&&(e.height=i-e.y)}_addChild(e){let t=this._pool.pop();t||("button"===e.accessibleType?t=document.createElement("button"):(t=document.createElement(e.accessibleType),t.style.cssText="\n                        color: transparent;\n                        pointer-events: none;\n                        padding: 0;\n                        margin: 0;\n                        border: 0;\n                        outline: 0;\n                        background: transparent;\n                        box-sizing: border-box;\n                        user-select: none;\n                        -webkit-user-select: none;\n                        -moz-user-select: none;\n                        -ms-user-select: none;\n                    ",e.accessibleText&&(t.innerText=e.accessibleText)),t.style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title=`container ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this._updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.container=e,this._children.push(e),this._div.appendChild(e._accessibleDiv),e.interactive&&(e._accessibleDiv.tabIndex=e.tabIndex)}_dispatchEvent(e,t){const{container:i}=e.target,n=this._renderer.events.rootBoundary,o=Object.assign(new r(n),{target:i});n.rootTarget=this._renderer.lastObjectRendered,t.forEach(e=>n.dispatchEvent(o,e))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this._activateOnTab&&this._activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this._deactivate()}destroy(){this._deactivate(),this._destroyTouchHook(),this._div=null,this._pool=null,this._children=null,this._renderer=null,this._activateOnTab&&globalThis.removeEventListener("keydown",this._onKeyDown)}setAccessibilityEnabled(e){e?this._activate():this._deactivate()}};A.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"accessibility"},A.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};let D=A;n.XO.add(D),n.XO.mixin(o.mc,{accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_accessibleActive:!1,_accessibleDiv:null,_renderId:-1}),i(4732);var O=i(4486),x=i(268),I=i(4458),k=i(7309);const L=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){!this._tickerAdded&&this.domElement&&(k.R.system.add(this._tickerUpdate,this,I.d.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(k.R.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(this.events.supportsPointerEvents?new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY,pointerType:e.pointerType,pointerId:e.pointerId}):new MouseEvent("mousemove",{clientX:e.clientX,clientY:e.clientY}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this._update())}};class B extends r{constructor(){super(...arguments),this.client=new s.b,this.movement=new s.b,this.offset=new s.b,this.global=new s.b,this.screen=new s.b}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,i){return e.worldTransform.applyInverse(i||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,i,n,o,s,r,a,h,l,d,c,p,u,v){throw new Error("Method not implemented.")}}class C extends B{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class S extends B{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}S.DOM_DELTA_PIXEL=0,S.DOM_DELTA_LINE=1,S.DOM_DELTA_PAGE=2;const U=new s.b,R=new s.b;class X{constructor(e){this.dispatch=new O.A,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let i=0,n=t.length;i<n;i++)t[i].fn(e);else(0,x.R)(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){L.pauseUpdate=!0;const i=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,U.set(e,t),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,t){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,o=i.length-1;n<o;n++)if(e.currentTarget=i[n],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(e.currentTarget=i[n],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,i=this._allInteractiveElements){if(0===i.length)return;e.eventPhase=e.BUBBLING_PHASE;const n=Array.isArray(t)?t:[t];for(let t=i.length-1;t>=0;t--)n.forEach(n=>{e.currentTarget=i[t],this.notifyTarget(e,n)})}propagationPath(e){const t=[e];for(let i=0;i<2048&&e!==this.rootTarget&&e.parent;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,i,n,o,s=!1){let r=!1;if(this._interactivePrune(e))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(L.pauseUpdate=!1),e.interactiveChildren&&e.children){const a=e.children;for(let h=a.length-1;h>=0;h--){const l=a[h],d=this.hitTestMoveRecursive(l,this._isInteractive(t)?t:l.eventMode,i,n,o,s||o(e,i));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const t=e.isInteractive();(d.length>0||t)&&(t&&this._allInteractiveElements.push(e),d.push(e)),0===this._hitElements.length&&(this._hitElements=d),r=!0}}}const a=this._isInteractive(t),h=e.isInteractive();return h&&h&&this._allInteractiveElements.push(e),s||this._hitElements.length>0?null:r?this._hitElements:a&&!o(e,i)&&n(e,i)?h?[e]:[]:null}hitTestRecursive(e,t,i,n,o){if(this._interactivePrune(e)||o(e,i))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(L.pauseUpdate=!1),e.interactiveChildren&&e.children){const s=e.children,r=i;for(let i=s.length-1;i>=0;i--){const a=s[i],h=this.hitTestRecursive(a,this._isInteractive(t)?t:a.eventMode,r,n,o);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const t=e.isInteractive();return(h.length>0||t)&&h.push(e),h}}}const s=this._isInteractive(t),r=e.isInteractive();return s&&n(e,i)?r?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&e.visible&&e.renderable&&e.measurable)||"none"===e.eventMode||"passive"===e.eventMode&&!e.interactiveChildren}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,R),!e.hitArea.contains(R.x,R.y)))return!0;if(e.effects&&e.effects.length)for(let i=0;i<e.effects.length;i++){const n=e.effects[i];if(n.containsPoint&&!n.containsPoint(t,this.hitTestFn))return!0}return!1}hitTestFn(e,t){return!!e.hitArea||!!e?.containsPoint&&(e.worldTransform.applyInverse(t,R),e.containsPoint(R))}notifyTarget(e,t){if(!e.currentTarget.isInteractive())return;t??(t=e.type);const i=`on${t}`;e.currentTarget[i]?.(e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this._notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof C))return void(0,x.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){const e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof C))return void(0,x.R)("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const i="mouse"===t.pointerType||"pen"===t.pointerType,n=this.trackingData(e.pointerId),o=this.findMountedTarget(n.overTargets);if(n.overTargets?.length>0&&o!==t.target){const n="mousemove"===e.type?"mouseout":"pointerout",s=this.createPointerEvent(e,n,o);if(this.dispatchEvent(s,"pointerout"),i&&this.dispatchEvent(s,"mouseout"),!t.composedPath().includes(o)){const n=this.createPointerEvent(e,"pointerleave",o);for(n.eventPhase=n.AT_TARGET;n.target&&!t.composedPath().includes(n.target);)n.currentTarget=n.target,this.notifyTarget(n),i&&this.notifyTarget(n,"mouseleave"),n.target=n.target.parent;this.freeEvent(n)}this.freeEvent(s)}if(o!==t.target){const n="mousemove"===e.type?"mouseover":"pointerover",s=this.clonePointerEvent(t,n);this.dispatchEvent(s,"pointerover"),i&&this.dispatchEvent(s,"mouseover");let r=o?.parent;for(;r&&r!==this.rootTarget.parent&&r!==t.target;)r=r.parent;if(!r||r===this.rootTarget.parent){const e=this.clonePointerEvent(t,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==o&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),i&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(s)}const s=[],r=this.enableGlobalMoveEvents??!0;this.moveOnAll?s.push("pointermove"):this.dispatchEvent(t,"pointermove"),r&&s.push("globalpointermove"),"touch"===t.pointerType&&(this.moveOnAll?s.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),r&&s.push("globaltouchmove")),i&&(this.moveOnAll?s.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),r&&s.push("globalmousemove"),this.cursor=t.target?.cursor),s.length>0&&this.all(t,s),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof C))return void(0,x.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=i.target?.cursor);const o=this.clonePointerEvent(i,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;t.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof C))return void(0,x.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId);if(t.overTargets){const i="mouse"===e.pointerType||"pen"===e.pointerType,n=this.findMountedTarget(t.overTargets),o=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(o),i&&this.dispatchEvent(o,"mouseout");const s=this.createPointerEvent(e,"pointerleave",n);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;t.overTargets=null,this.freeEvent(o),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof C))return void(0,x.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),"touch"===i.pointerType)this.dispatchEvent(i,"touchend");else if("mouse"===i.pointerType||"pen"===i.pointerType){const e=2===i.button;this.dispatchEvent(i,e?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),o=this.findMountedTarget(n.pressTargetsByButton[e.button]);let s=o;if(o&&!i.composedPath().includes(o)){let t=o;for(;t&&!i.composedPath().includes(t);){if(i.currentTarget=t,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType)this.notifyTarget(i,"touchendoutside");else if("mouse"===i.pointerType||"pen"===i.pointerType){const e=2===i.button;this.notifyTarget(i,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete n.pressTargetsByButton[e.button],s=t}if(s){const o=this.clonePointerEvent(i,"click");o.target=s,o.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:o.target,timeStamp:t});const r=n.clicksByButton[e.button];if(r.target===o.target&&t-r.timeStamp<200?++r.clickCount:r.clickCount=1,r.target=o.target,r.timeStamp=t,o.detail=r.clickCount,"mouse"===o.pointerType){const e=2===o.button;this.dispatchEvent(o,e?"rightclick":"click")}else"touch"===o.pointerType&&this.dispatchEvent(o,"tap");this.dispatchEvent(o,"pointertap"),this.freeEvent(o)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof C))return void(0,x.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),i=this.findMountedTarget(t.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(i){let o=i;for(;o;)n.currentTarget=o,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType?this.notifyTarget(n,"touchendoutside"):"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.notifyTarget(n,2===n.button?"rightupoutside":"mouseupoutside"),o=o.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof S))return void(0,x.R)("EventBoundary cannot map a non-wheel event as a wheel event");const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let i=1;i<e.length&&e[i].parent===t;i++)t=e[i];return t}createPointerEvent(e,t,i){const n=this.allocateEvent(C);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],"string"==typeof t&&(n.type=t),n}createWheelEvent(e){const t=this.allocateEvent(S);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const i=this.allocateEvent(C);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=t??i.type,i}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof C&&t instanceof C&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof B&&t instanceof B&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.defaultPrevented=!1,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}_notifyListeners(e,t){const i=e.currentTarget._events[t];if(i)if("fn"in i)i.once&&e.currentTarget.removeListener(t,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let n=0,o=i.length;n<o&&!e.propagationImmediatelyStopped;n++)i[n].once&&e.currentTarget.removeListener(t,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,e)}}const F={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},N=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new X(null),L.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new C(null),this._rootWheelEvent=new S(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...e.defaultEventFeatures},{set:(e,t,i)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=i),e[t]=i,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{canvas:i,resolution:n}=this.renderer;this.setTargetElement(i),this.resolution=n,e._defaultEventMode=t.eventMode??"passive",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e||(e="default");let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this._currentCursor===e)return;this._currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":t&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":t&&Object.assign(this.domElement.style,i)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this._normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let e=0,i=t.length;e<i;e++){const i=t[e],n=this._bootstrapEvent(this._rootPointerEvent,i);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,L.pointerMoved();const t=this._normalizeToPointerData(e);for(let e=0,i=t.length;e<i;e++){const i=this._bootstrapEvent(this._rootPointerEvent,t[e]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const i=t!==this.domElement?"outside":"",n=this._normalizeToPointerData(e);for(let e=0,t=n.length;e<t;e++){const t=this._bootstrapEvent(this._rootPointerEvent,n[e]);t.type+=i,this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this._normalizeToPointerData(e);for(let e=0,i=t.length;e<i;e++){const i=this._bootstrapEvent(this._rootPointerEvent,t[e]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this._removeEvents(),this.domElement=e,L.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;L.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;L.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,t,i){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(t-n.left)*(this.domElement.width/n.width)*o,e.y=(i-n.top)*(this.domElement.height/n.height)*o}_normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,n=e.changedTouches.length;i<n;i++){const n=e.changedTouches[i];void 0===n.button&&(n.button=0),void 0===n.buttons&&(n.buttons=1),void 0===n.isPrimary&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,n.type=e.type,t.push(n)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)){const i=e;void 0===i.isPrimary&&(i.isPrimary=!0),void 0===i.width&&(i.width=1),void 0===i.height&&(i.height=1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="mouse"),void 0===i.pointerId&&(i.pointerId=1),void 0===i.pressure&&(i.pressure=.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),i.isNormalized=!0,t.push(i)}else t.push(e);return t}normalizeWheelEvent(e){const t=this._rootWheelEvent;return this._transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}_bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this._transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=F[e.type]||e.type),e}_transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};N.extension={name:"events",type:[n.Ag.WebGLSystem,n.Ag.CanvasSystem,n.Ag.WebGPUSystem],priority:-1},N.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Y=N;const G={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return"dynamic"===this.eventMode||"static"===this.eventMode},set interactive(e){this.eventMode=e?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Y.defaultEventMode},set eventMode(e){this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,i){const n="boolean"==typeof i&&i||"object"==typeof i&&i.capture,o="object"==typeof i?i.signal:void 0,s="object"==typeof i&&!0===i.once,r="function"==typeof t?void 0:t;e=n?`${e}capture`:e;const a="function"==typeof t?t:t.handleEvent,h=this;o&&o.addEventListener("abort",()=>{h.off(e,a,r)}),s?h.once(e,a,r):h.on(e,a,r)},removeEventListener(e,t,i){const n="function"==typeof t?void 0:t;e="boolean"==typeof i&&i||"object"==typeof i&&i.capture?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,n)},dispatchEvent(e){if(!(e instanceof r))throw new Error("Container cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};n.XO.add(Y),n.XO.mixin(o.mc,G);class W{constructor(e){this._attachedDomElements=[],this._renderer=e,this._renderer.runners.postrender.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}addRenderable(e,t){this._attachedDomElements.includes(e)||this._attachedDomElements.push(e)}updateRenderable(e){}validateRenderable(e){return!0}postrender(){const e=this._attachedDomElements;if(0===e.length)return void this._domElement.remove();const t=this._renderer.view.canvas;this._domElement.parentNode!==t.parentNode&&t.parentNode?.appendChild(this._domElement);const i=parseFloat(t.style.width)/t.width*this._renderer.resolution,n=parseFloat(t.style.height)/t.height*this._renderer.resolution;this._domElement.style.transform=`translate(${t.offsetLeft}px, ${t.offsetTop}px) scale(${i}, ${n})`;for(let t=0;t<e.length;t++){const i=e[t],n=i.element;if(!i.parent||i.globalDisplayStatus<7)n?.remove(),e.splice(t,1),t--;else{this._domElement.contains(n)||(n.style.position="absolute",n.style.pointerEvents="auto",this._domElement.appendChild(n));const e=i.worldTransform,t=i._anchor,o=i.width*t.x,s=i.height*t.y;n.style.transformOrigin=`${o}px ${s}px`,n.style.transform=`matrix(${e.a}, ${e.b}, ${e.c}, ${e.d}, ${e.tx-o}, ${e.ty-s})`,n.style.opacity=i.groupAlpha.toString()}}}destroy(){this._renderer.runners.postrender.remove(this);for(let e=0;e<this._attachedDomElements.length;e++){const t=this._attachedDomElements[e];t.element?.remove()}this._attachedDomElements.length=0,this._domElement.remove(),this._renderer=null}}W.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"dom"},n.XO.add(W),i(9010),i(8480),i(8928),i(5285),i(9305),i(2206),i(6444),i(9796),i(8723),i(7252),i(4980)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SWthLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0ZlZGVyYXRlZEV2ZW50Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNtb2JpbGVqcy9lc20vaXNNb2JpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3V0aWxzL2Jyb3dzZXIvaXNNb2JpbGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L0FjY2Vzc2liaWxpdHlTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2luaXQubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9hY2Nlc3NpYmlsaXR5L2FjY2Vzc2liaWxpdHlUYXJnZXQubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9ldmVudHMvRXZlbnRUaWNrZXIubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9ldmVudHMvRmVkZXJhdGVkTW91c2VFdmVudC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V2ZW50cy9GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9ldmVudHMvRmVkZXJhdGVkV2hlZWxFdmVudC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2V2ZW50cy9FdmVudEJvdW5kYXJ5Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0V2ZW50U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL0ZlZGVyYXRlZEV2ZW50VGFyZ2V0Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZXZlbnRzL2luaXQubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9kb20vRE9NUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2RvbS9pbml0Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21hdGhzL3BvaW50L1BvaW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgRmVkZXJhdGVkRXZlbnQge1xuICAvKipcbiAgICogQHBhcmFtIG1hbmFnZXIgLSBUaGUgZXZlbnQgYm91bmRhcnkgd2hpY2ggbWFuYWdlcyB0aGlzIGV2ZW50LiBQcm9wYWdhdGlvbiBjYW4gb25seSBvY2N1clxuICAgKiAgd2l0aGluIHRoZSBib3VuZGFyeSdzIGp1cmlzZGljdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1hbmFnZXIpIHtcbiAgICAvKiogRmxhZ3Mgd2hldGhlciB0aGlzIGV2ZW50IGJ1YmJsZXMuIFRoaXMgd2lsbCB0YWtlIGVmZmVjdCBvbmx5IGlmIGl0IGlzIHNldCBiZWZvcmUgcHJvcGFnYXRpb24uICovXG4gICAgdGhpcy5idWJibGVzID0gdHJ1ZTtcbiAgICAvKiogQGRlcHJlY2F0ZWQgc2luY2UgNy4wLjAgKi9cbiAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogRmxhZ3Mgd2hldGhlciB0aGlzIGV2ZW50IGNhbiBiZSBjYW5jZWxlZCB1c2luZyB7QGxpbmsgRmVkZXJhdGVkRXZlbnQucHJldmVudERlZmF1bHR9LiBUaGlzIGlzIGFsd2F5c1xuICAgICAqIGZhbHNlIChmb3Igbm93KS5cbiAgICAgKi9cbiAgICB0aGlzLmNhbmNlbGFibGUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBGbGFnIGFkZGVkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggRE9NIGBFdmVudGAuIEl0IGlzIG5vdCB1c2VkIGluIHRoZSBGZWRlcmF0ZWQgRXZlbnRzXG4gICAgICogQVBJLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kb20uc3BlYy53aGF0d2cub3JnLyNkb20tZXZlbnQtY29tcG9zZWRcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgdGhpcy5jb21wb3NlZCA9IGZhbHNlO1xuICAgIC8qKiBGbGFncyB3aGV0aGVyIHRoZSBkZWZhdWx0IHJlc3BvbnNlIG9mIHRoZSB1c2VyIGFnZW50IHdhcyBwcmV2ZW50IHRocm91Z2ggdGhpcyBldmVudC4gKi9cbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBUaGUgcHJvcGFnYXRpb24gcGhhc2UuXG4gICAgICogQGRlZmF1bHQge0BsaW5rIEZlZGVyYXRlZEV2ZW50Lk5PTkV9XG4gICAgICovXG4gICAgdGhpcy5ldmVudFBoYXNlID0gRmVkZXJhdGVkRXZlbnQucHJvdG90eXBlLk5PTkU7XG4gICAgLyoqIEZsYWdzIHdoZXRoZXIgcHJvcGFnYXRpb24gd2FzIHN0b3BwZWQuICovXG4gICAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWQgPSBmYWxzZTtcbiAgICAvKiogRmxhZ3Mgd2hldGhlciBwcm9wYWdhdGlvbiB3YXMgaW1tZWRpYXRlbHkgc3RvcHBlZC4gKi9cbiAgICB0aGlzLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkID0gZmFsc2U7XG4gICAgLyoqIFRoZSBjb29yZGluYXRlcyBvZiB0aGUgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIG5lYXJlc3QgRE9NIGxheWVyLiBUaGlzIGlzIGEgbm9uLXN0YW5kYXJkIHByb3BlcnR5LiAqL1xuICAgIHRoaXMubGF5ZXIgPSBuZXcgUG9pbnQoKTtcbiAgICAvKiogVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgRE9NIGRvY3VtZW50LiBUaGlzIGlzIGEgbm9uLXN0YW5kYXJkIHByb3BlcnR5LiAqL1xuICAgIHRoaXMucGFnZSA9IG5ldyBQb2ludCgpO1xuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCBwcm9wYWdhdGlvbiBwaGFzZSBOT05FIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIGV2ZW50IGlzIG5vdCBpbiBhbnkgcGhhc2UuXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqIEBhZHZhbmNlZFxuICAgICAqL1xuICAgIHRoaXMuTk9ORSA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHByb3BhZ2F0aW9uIHBoYXNlIENBUFRVUklOR19QSEFTRSB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBldmVudCBpcyBpbiB0aGUgY2FwdHVyaW5nIHBoYXNlLlxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKiBAYWR2YW5jZWRcbiAgICAgKi9cbiAgICB0aGlzLkNBUFRVUklOR19QSEFTRSA9IDE7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHByb3BhZ2F0aW9uIHBoYXNlIEFUX1RBUkdFVCB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBldmVudCBpcyBhdCB0aGUgdGFyZ2V0LlxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKiBAYWR2YW5jZWRcbiAgICAgKi9cbiAgICB0aGlzLkFUX1RBUkdFVCA9IDI7XG4gICAgLyoqXG4gICAgICogVGhlIGV2ZW50IHByb3BhZ2F0aW9uIHBoYXNlIEJVQkJMSU5HX1BIQVNFIHRoYXQgaW5kaWNhdGVzIHRoYXQgdGhlIGV2ZW50IGlzIGluIHRoZSBidWJibGluZyBwaGFzZS5cbiAgICAgKiBAZGVmYXVsdCAzXG4gICAgICogQGFkdmFuY2VkXG4gICAgICovXG4gICAgdGhpcy5CVUJCTElOR19QSEFTRSA9IDM7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBsYXllclgoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXIueDtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBsYXllclkoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXIueTtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBwYWdlWCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlLng7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgcGFnZVkoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFnZS55O1xuICB9XG4gIC8qKlxuICAgKiBGYWxsYmFjayBmb3IgdGhlIGRlcHJlY2F0ZWQgYEludGVyYWN0aW9uRXZlbnQuZGF0YWAuXG4gICAqIEBkZXByZWNhdGVkIHNpbmNlIDcuMC4wXG4gICAqL1xuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVGhlIHByb3BhZ2F0aW9uIHBhdGggZm9yIHRoaXMgZXZlbnQuIEFsaWFzIGZvciB7QGxpbmsgRXZlbnRCb3VuZGFyeS5wcm9wYWdhdGlvblBhdGh9LlxuICAgKiBAYWR2YW5jZWRcbiAgICovXG4gIGNvbXBvc2VkUGF0aCgpIHtcbiAgICBpZiAodGhpcy5tYW5hZ2VyICYmICghdGhpcy5wYXRoIHx8IHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0gIT09IHRoaXMudGFyZ2V0KSkge1xuICAgICAgdGhpcy5wYXRoID0gdGhpcy50YXJnZXQgPyB0aGlzLm1hbmFnZXIucHJvcGFnYXRpb25QYXRoKHRoaXMudGFyZ2V0KSA6IFtdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYXRoO1xuICB9XG4gIC8qKlxuICAgKiBVbmltcGxlbWVudGVkIG1ldGhvZCBpbmNsdWRlZCBmb3IgaW1wbGVtZW50aW5nIHRoZSBET00gaW50ZXJmYWNlIGBFdmVudGAuIEl0IHdpbGwgdGhyb3cgYW4gYEVycm9yYC5cbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGlnbm9yZVxuICAgKiBAcGFyYW0gX3R5cGVcbiAgICogQHBhcmFtIF9idWJibGVzXG4gICAqIEBwYXJhbSBfY2FuY2VsYWJsZVxuICAgKi9cbiAgaW5pdEV2ZW50KF90eXBlLCBfYnViYmxlcywgX2NhbmNlbGFibGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbml0RXZlbnQoKSBpcyBhIGxlZ2FjeSBET00gQVBJLiBJdCBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIEZlZGVyYXRlZCBFdmVudHMgQVBJLlwiKTtcbiAgfVxuICAvKipcbiAgICogVW5pbXBsZW1lbnRlZCBtZXRob2QgaW5jbHVkZWQgZm9yIGltcGxlbWVudGluZyB0aGUgRE9NIGludGVyZmFjZSBgVUlFdmVudGAuIEl0IHdpbGwgdGhyb3cgYW4gYEVycm9yYC5cbiAgICogQGlnbm9yZVxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAcGFyYW0gX3R5cGVBcmdcbiAgICogQHBhcmFtIF9idWJibGVzQXJnXG4gICAqIEBwYXJhbSBfY2FuY2VsYWJsZUFyZ1xuICAgKiBAcGFyYW0gX3ZpZXdBcmdcbiAgICogQHBhcmFtIF9kZXRhaWxBcmdcbiAgICovXG4gIGluaXRVSUV2ZW50KF90eXBlQXJnLCBfYnViYmxlc0FyZywgX2NhbmNlbGFibGVBcmcsIF92aWV3QXJnLCBfZGV0YWlsQXJnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW5pdFVJRXZlbnQoKSBpcyBhIGxlZ2FjeSBET00gQVBJLiBJdCBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIEZlZGVyYXRlZCBFdmVudHMgQVBJLlwiKTtcbiAgfVxuICAvKipcbiAgICogUHJldmVudCBkZWZhdWx0IGJlaGF2aW9yIG9mIGJvdGggUGl4aUpTIGFuZCB0aGUgdXNlciBhZ2VudC5cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogc3ByaXRlLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgKiAgICAgLy8gUHJldmVudCBib3RoIGJyb3dzZXIncyBkZWZhdWx0IGNsaWNrIGJlaGF2aW9yXG4gICAqICAgICAvLyBhbmQgUGl4aUpTJ3MgZGVmYXVsdCBoYW5kbGluZ1xuICAgKiAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICpcbiAgICogICAgIC8vIEN1c3RvbSBoYW5kbGluZ1xuICAgKiAgICAgY3VzdG9tQ2xpY2tIYW5kbGVyKCk7XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICogQHJlbWFya3NcbiAgICogLSBPbmx5IHdvcmtzIGlmIHRoZSBuYXRpdmUgZXZlbnQgaXMgY2FuY2VsYWJsZVxuICAgKiAtIERvZXMgbm90IHN0b3AgZXZlbnQgcHJvcGFnYXRpb25cbiAgICovXG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIGlmICh0aGlzLm5hdGl2ZUV2ZW50IGluc3RhbmNlb2YgRXZlbnQgJiYgdGhpcy5uYXRpdmVFdmVudC5jYW5jZWxhYmxlKSB7XG4gICAgICB0aGlzLm5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgdGhpcyBldmVudCBmcm9tIHByb3BhZ2F0aW5nIHRvIGFueSBhZGRpdGlvbmFsIGxpc3RlbmVycywgaW5jbHVkaW5nIHRob3NlXG4gICAqIG9uIHRoZSBjdXJyZW50IHRhcmdldCBhbmQgYW55IGZvbGxvd2luZyB0YXJnZXRzIGluIHRoZSBwcm9wYWdhdGlvbiBwYXRoLlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb250YWluZXIub24oJ3BvaW50ZXJkb3duJywgKGV2ZW50KSA9PiB7XG4gICAqICAgICAvLyBTdG9wIGFsbCBmdXJ0aGVyIGV2ZW50IGhhbmRsaW5nXG4gICAqICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICpcbiAgICogICAgIC8vIFRoZXNlIGhhbmRsZXJzIHdvbid0IGJlIGNhbGxlZDpcbiAgICogICAgIC8vIC0gT3RoZXIgcG9pbnRlcmRvd24gbGlzdGVuZXJzIG9uIHRoaXMgY29udGFpbmVyXG4gICAqICAgICAvLyAtIEFueSBwb2ludGVyZG93biBsaXN0ZW5lcnMgb24gcGFyZW50IGNvbnRhaW5lcnNcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAcmVtYXJrc1xuICAgKiAtIEltbWVkaWF0ZWx5IHN0b3BzIGFsbCBldmVudCBwcm9wYWdhdGlvblxuICAgKiAtIFByZXZlbnRzIG90aGVyIGxpc3RlbmVycyBvbiBzYW1lIHRhcmdldCBmcm9tIGJlaW5nIGNhbGxlZFxuICAgKiAtIE1vcmUgYWdncmVzc2l2ZSB0aGFuIHN0b3BQcm9wYWdhdGlvbigpXG4gICAqL1xuICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSB7XG4gICAgdGhpcy5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgdGhpcyBldmVudCBmcm9tIHByb3BhZ2F0aW5nIHRvIHRoZSBuZXh0IHRhcmdldCBpbiB0aGUgcHJvcGFnYXRpb24gcGF0aC5cbiAgICogVGhlIHJlc3Qgb2YgdGhlIGxpc3RlbmVycyBvbiB0aGUgY3VycmVudCB0YXJnZXQgd2lsbCBzdGlsbCBiZSBub3RpZmllZC5cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY2hpbGQub24oJ3BvaW50ZXJtb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAqICAgICAvLyBIYW5kbGUgZXZlbnQgb24gY2hpbGRcbiAgICogICAgIHVwZGF0ZUNoaWxkKCk7XG4gICAqXG4gICAqICAgICAvLyBQcmV2ZW50IHBhcmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGNhbGxlZFxuICAgKiAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBUaGlzIHdvbid0IGJlIGNhbGxlZCBpZiBjaGlsZCBoYW5kbGVzIHRoZSBldmVudFxuICAgKiBwYXJlbnQub24oJ3BvaW50ZXJtb3ZlJywgKGV2ZW50KSA9PiB7XG4gICAqICAgICB1cGRhdGVQYXJlbnQoKTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAcmVtYXJrc1xuICAgKiAtIFN0b3BzIGV2ZW50IGJ1YmJsaW5nIHRvIHBhcmVudCBjb250YWluZXJzXG4gICAqIC0gRG9lcyBub3QgcHJldmVudCBvdGhlciBsaXN0ZW5lcnMgb24gc2FtZSB0YXJnZXRcbiAgICogLSBMZXNzIGFnZ3Jlc3NpdmUgdGhhbiBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKVxuICAgKi9cbiAgc3RvcFByb3BhZ2F0aW9uKCkge1xuICAgIHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkRXZlbnQubWpzLm1hcFxuIiwidmFyIGFwcGxlSXBob25lID0gL2lQaG9uZS9pO1xudmFyIGFwcGxlSXBvZCA9IC9pUG9kL2k7XG52YXIgYXBwbGVUYWJsZXQgPSAvaVBhZC9pO1xudmFyIGFwcGxlVW5pdmVyc2FsID0gL1xcYmlPUy11bml2ZXJzYWwoPzouKylNYWNcXGIvaTtcbnZhciBhbmRyb2lkUGhvbmUgPSAvXFxiQW5kcm9pZCg/Oi4rKU1vYmlsZVxcYi9pO1xudmFyIGFuZHJvaWRUYWJsZXQgPSAvQW5kcm9pZC9pO1xudmFyIGFtYXpvblBob25lID0gLyg/OlNENDkzMFVSfFxcYlNpbGsoPzouKylNb2JpbGVcXGIpL2k7XG52YXIgYW1hem9uVGFibGV0ID0gL1NpbGsvaTtcbnZhciB3aW5kb3dzUGhvbmUgPSAvV2luZG93cyBQaG9uZS9pO1xudmFyIHdpbmRvd3NUYWJsZXQgPSAvXFxiV2luZG93cyg/Oi4rKUFSTVxcYi9pO1xudmFyIG90aGVyQmxhY2tCZXJyeSA9IC9CbGFja0JlcnJ5L2k7XG52YXIgb3RoZXJCbGFja0JlcnJ5MTAgPSAvQkIxMC9pO1xudmFyIG90aGVyT3BlcmEgPSAvT3BlcmEgTWluaS9pO1xudmFyIG90aGVyQ2hyb21lID0gL1xcYihDcmlPU3xDaHJvbWUpKD86LispTW9iaWxlL2k7XG52YXIgb3RoZXJGaXJlZm94ID0gL01vYmlsZSg/Oi4rKUZpcmVmb3hcXGIvaTtcbnZhciBpc0FwcGxlVGFibGV0T25Jb3MxMyA9IGZ1bmN0aW9uIChuYXZpZ2F0b3IpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIG5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gJ01hY0ludGVsJyAmJlxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID09PSAnbnVtYmVyJyAmJlxuICAgICAgICBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxICYmXG4gICAgICAgIHR5cGVvZiBNU1N0cmVhbSA9PT0gJ3VuZGVmaW5lZCcpO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZU1hdGNoKHVzZXJBZ2VudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVnZXgpIHsgcmV0dXJuIHJlZ2V4LnRlc3QodXNlckFnZW50KTsgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzTW9iaWxlKHBhcmFtKSB7XG4gICAgdmFyIG5hdiA9IHtcbiAgICAgICAgdXNlckFnZW50OiAnJyxcbiAgICAgICAgcGxhdGZvcm06ICcnLFxuICAgICAgICBtYXhUb3VjaFBvaW50czogMFxuICAgIH07XG4gICAgaWYgKCFwYXJhbSAmJiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuYXYgPSB7XG4gICAgICAgICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogbmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgICAgICAgbWF4VG91Y2hQb2ludHM6IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyB8fCAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbmF2LnVzZXJBZ2VudCA9IHBhcmFtO1xuICAgIH1cbiAgICBlbHNlIGlmIChwYXJhbSAmJiBwYXJhbS51c2VyQWdlbnQpIHtcbiAgICAgICAgbmF2ID0ge1xuICAgICAgICAgICAgdXNlckFnZW50OiBwYXJhbS51c2VyQWdlbnQsXG4gICAgICAgICAgICBwbGF0Zm9ybTogcGFyYW0ucGxhdGZvcm0sXG4gICAgICAgICAgICBtYXhUb3VjaFBvaW50czogcGFyYW0ubWF4VG91Y2hQb2ludHMgfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgdXNlckFnZW50ID0gbmF2LnVzZXJBZ2VudDtcbiAgICB2YXIgdG1wID0gdXNlckFnZW50LnNwbGl0KCdbRkJBTicpO1xuICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gICAgfVxuICAgIHRtcCA9IHVzZXJBZ2VudC5zcGxpdCgnVHdpdHRlcicpO1xuICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB1c2VyQWdlbnQgPSB0bXBbMF07XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IGNyZWF0ZU1hdGNoKHVzZXJBZ2VudCk7XG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgYXBwbGU6IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaChhcHBsZUlwaG9uZSkgJiYgIW1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICBpcG9kOiBtYXRjaChhcHBsZUlwb2QpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYXBwbGVJcGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFwcGxlVGFibGV0KSB8fCBpc0FwcGxlVGFibGV0T25Jb3MxMyhuYXYpKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaCh3aW5kb3dzUGhvbmUpLFxuICAgICAgICAgICAgdW5pdmVyc2FsOiBtYXRjaChhcHBsZVVuaXZlcnNhbCksXG4gICAgICAgICAgICBkZXZpY2U6IChtYXRjaChhcHBsZUlwaG9uZSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChhcHBsZUlwb2QpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVUYWJsZXQpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2goYXBwbGVVbml2ZXJzYWwpIHx8XG4gICAgICAgICAgICAgICAgaXNBcHBsZVRhYmxldE9uSW9zMTMobmF2KSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2god2luZG93c1Bob25lKVxuICAgICAgICB9LFxuICAgICAgICBhbWF6b246IHtcbiAgICAgICAgICAgIHBob25lOiBtYXRjaChhbWF6b25QaG9uZSksXG4gICAgICAgICAgICB0YWJsZXQ6ICFtYXRjaChhbWF6b25QaG9uZSkgJiYgbWF0Y2goYW1hem9uVGFibGV0KSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uUGhvbmUpIHx8IG1hdGNoKGFtYXpvblRhYmxldClcbiAgICAgICAgfSxcbiAgICAgICAgYW5kcm9pZDoge1xuICAgICAgICAgICAgcGhvbmU6ICghbWF0Y2god2luZG93c1Bob25lKSAmJiBtYXRjaChhbWF6b25QaG9uZSkpIHx8XG4gICAgICAgICAgICAgICAgKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmIG1hdGNoKGFuZHJvaWRQaG9uZSkpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2god2luZG93c1Bob25lKSAmJlxuICAgICAgICAgICAgICAgICFtYXRjaChhbWF6b25QaG9uZSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2goYW5kcm9pZFBob25lKSAmJlxuICAgICAgICAgICAgICAgIChtYXRjaChhbWF6b25UYWJsZXQpIHx8IG1hdGNoKGFuZHJvaWRUYWJsZXQpKSxcbiAgICAgICAgICAgIGRldmljZTogKCFtYXRjaCh3aW5kb3dzUGhvbmUpICYmXG4gICAgICAgICAgICAgICAgKG1hdGNoKGFtYXpvblBob25lKSB8fFxuICAgICAgICAgICAgICAgICAgICBtYXRjaChhbWF6b25UYWJsZXQpIHx8XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoKGFuZHJvaWRQaG9uZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2goYW5kcm9pZFRhYmxldCkpKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKC9cXGJva2h0dHBcXGIvaSlcbiAgICAgICAgfSxcbiAgICAgICAgd2luZG93czoge1xuICAgICAgICAgICAgcGhvbmU6IG1hdGNoKHdpbmRvd3NQaG9uZSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NUYWJsZXQpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaCh3aW5kb3dzUGhvbmUpIHx8IG1hdGNoKHdpbmRvd3NUYWJsZXQpXG4gICAgICAgIH0sXG4gICAgICAgIG90aGVyOiB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiBtYXRjaChvdGhlckJsYWNrQmVycnkpLFxuICAgICAgICAgICAgYmxhY2tiZXJyeTEwOiBtYXRjaChvdGhlckJsYWNrQmVycnkxMCksXG4gICAgICAgICAgICBvcGVyYTogbWF0Y2gob3RoZXJPcGVyYSksXG4gICAgICAgICAgICBmaXJlZm94OiBtYXRjaChvdGhlckZpcmVmb3gpLFxuICAgICAgICAgICAgY2hyb21lOiBtYXRjaChvdGhlckNocm9tZSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKG90aGVyQmxhY2tCZXJyeSkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckJsYWNrQmVycnkxMCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlck9wZXJhKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoKG90aGVyRmlyZWZveCkgfHxcbiAgICAgICAgICAgICAgICBtYXRjaChvdGhlckNocm9tZSlcbiAgICAgICAgfSxcbiAgICAgICAgYW55OiBmYWxzZSxcbiAgICAgICAgcGhvbmU6IGZhbHNlLFxuICAgICAgICB0YWJsZXQ6IGZhbHNlXG4gICAgfTtcbiAgICByZXN1bHQuYW55ID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLmRldmljZSB8fFxuICAgICAgICAgICAgcmVzdWx0LmFuZHJvaWQuZGV2aWNlIHx8XG4gICAgICAgICAgICByZXN1bHQud2luZG93cy5kZXZpY2UgfHxcbiAgICAgICAgICAgIHJlc3VsdC5vdGhlci5kZXZpY2U7XG4gICAgcmVzdWx0LnBob25lID1cbiAgICAgICAgcmVzdWx0LmFwcGxlLnBob25lIHx8IHJlc3VsdC5hbmRyb2lkLnBob25lIHx8IHJlc3VsdC53aW5kb3dzLnBob25lO1xuICAgIHJlc3VsdC50YWJsZXQgPVxuICAgICAgICByZXN1bHQuYXBwbGUudGFibGV0IHx8IHJlc3VsdC5hbmRyb2lkLnRhYmxldCB8fCByZXN1bHQud2luZG93cy50YWJsZXQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzTW9iaWxlLmpzLm1hcCIsImltcG9ydCBpc01vYmlsZUpzIGZyb20gJ2lzbW9iaWxlanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGlzTW9iaWxlQ2FsbCA9IGlzTW9iaWxlSnMuZGVmYXVsdCA/PyBpc01vYmlsZUpzO1xuY29uc3QgaXNNb2JpbGUgPSBpc01vYmlsZUNhbGwoZ2xvYmFsVGhpcy5uYXZpZ2F0b3IpO1xuXG5leHBvcnQgeyBpc01vYmlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNNb2JpbGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmVkZXJhdGVkRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvRmVkZXJhdGVkRXZlbnQubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IGlzTW9iaWxlIH0gZnJvbSAnLi4vdXRpbHMvYnJvd3Nlci9pc01vYmlsZS5tanMnO1xuaW1wb3J0IHsgcmVtb3ZlSXRlbXMgfSBmcm9tICcuLi91dGlscy9kYXRhL3JlbW92ZUl0ZW1zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgS0VZX0NPREVfVEFCID0gOTtcbmNvbnN0IERJVl9UT1VDSF9TSVpFID0gMTAwO1xuY29uc3QgRElWX1RPVUNIX1BPU19YID0gMDtcbmNvbnN0IERJVl9UT1VDSF9QT1NfWSA9IDA7XG5jb25zdCBESVZfVE9VQ0hfWklOREVYID0gMjtcbmNvbnN0IERJVl9IT09LX1NJWkUgPSAxO1xuY29uc3QgRElWX0hPT0tfUE9TX1ggPSAtMWUzO1xuY29uc3QgRElWX0hPT0tfUE9TX1kgPSAtMWUzO1xuY29uc3QgRElWX0hPT0tfWklOREVYID0gMjtcbmNvbnN0IF9BY2Nlc3NpYmlsaXR5U3lzdGVtID0gY2xhc3MgX0FjY2Vzc2liaWxpdHlTeXN0ZW0ge1xuICAvLyAyZnBzXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc2RvYy9yZXF1aXJlLXBhcmFtXG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyZXJ8V2ViR1BVUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBfbW9iaWxlSW5mbyA9IGlzTW9iaWxlKSB7XG4gICAgdGhpcy5fbW9iaWxlSW5mbyA9IF9tb2JpbGVJbmZvO1xuICAgIC8qKiBXaGV0aGVyIGFjY2Vzc2liaWxpdHkgZGl2cyBhcmUgdmlzaWJsZSBmb3IgZGVidWdnaW5nICovXG4gICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuICAgIC8qKiBXaGV0aGVyIHRvIGFjdGl2YXRlIG9uIHRhYiBrZXkgcHJlc3MgKi9cbiAgICB0aGlzLl9hY3RpdmF0ZU9uVGFiID0gdHJ1ZTtcbiAgICAvKiogV2hldGhlciB0byBkZWFjdGl2YXRlIGFjY2Vzc2liaWxpdHkgd2hlbiBtb3VzZSBtb3ZlcyAqL1xuICAgIHRoaXMuX2RlYWN0aXZhdGVPbk1vdXNlTW92ZSA9IHRydWU7XG4gICAgLyoqIEludGVybmFsIHZhcmlhYmxlLCBzZWUgaXNBY3RpdmUgZ2V0dGVyLiAqL1xuICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgLyoqIEludGVybmFsIHZhcmlhYmxlLCBzZWUgaXNNb2JpbGVBY2Nlc3NpYmlsaXR5IGdldHRlci4gKi9cbiAgICB0aGlzLl9pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSBmYWxzZTtcbiAgICAvKiogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uICovXG4gICAgdGhpcy5fZGl2ID0gbnVsbDtcbiAgICAvKiogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLiAqL1xuICAgIHRoaXMuX3Bvb2wgPSBbXTtcbiAgICAvKiogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLiAqL1xuICAgIHRoaXMuX3JlbmRlcklkID0gMDtcbiAgICAvKiogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy4gKi9cbiAgICB0aGlzLl9jaGlsZHJlbiA9IFtdO1xuICAgIC8qKiBDb3VudCB0byB0aHJvdHRsZSBkaXYgdXBkYXRlcyBvbiBhbmRyb2lkIGRldmljZXMuICovXG4gICAgdGhpcy5fYW5kcm9pZFVwZGF0ZUNvdW50ID0gMDtcbiAgICAvKiogIFRoZSBmcmVxdWVuY3kgdG8gdXBkYXRlIHRoZSBkaXYgZWxlbWVudHMuICovXG4gICAgdGhpcy5fYW5kcm9pZFVwZGF0ZUZyZXF1ZW5jeSA9IDUwMDtcbiAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICBpZiAoX21vYmlsZUluZm8udGFibGV0IHx8IF9tb2JpbGVJbmZvLnBob25lKSB7XG4gICAgICB0aGlzLl9jcmVhdGVUb3VjaEhvb2soKTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKipcbiAgICogVmFsdWUgb2YgYHRydWVgIGlmIGFjY2Vzc2liaWxpdHkgaXMgY3VycmVudGx5IGFjdGl2ZSBhbmQgYWNjZXNzaWJpbGl0eSBsYXllcnMgYXJlIHNob3dpbmcuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNBY3RpdmU7XG4gIH1cbiAgLyoqXG4gICAqIFZhbHVlIG9mIGB0cnVlYCBpZiBhY2Nlc3NpYmlsaXR5IGlzIGVuYWJsZWQgZm9yIHRvdWNoIGRldmljZXMuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBpc01vYmlsZUFjY2Vzc2liaWxpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eTtcbiAgfVxuICAvKipcbiAgICogVGhlIERPTSBlbGVtZW50IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBob29rRGl2KCkge1xuICAgIHJldHVybiB0aGlzLl9ob29rRGl2O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jcmVhdGVUb3VjaEhvb2soKSB7XG4gICAgY29uc3QgaG9va0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgaG9va0Rpdi5zdHlsZS53aWR0aCA9IGAke0RJVl9IT09LX1NJWkV9cHhgO1xuICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gYCR7RElWX0hPT0tfU0laRX1weGA7XG4gICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBob29rRGl2LnN0eWxlLnRvcCA9IGAke0RJVl9IT09LX1BPU19YfXB4YDtcbiAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBgJHtESVZfSE9PS19QT1NfWX1weGA7XG4gICAgaG9va0Rpdi5zdHlsZS56SW5kZXggPSBESVZfSE9PS19aSU5ERVgudG9TdHJpbmcoKTtcbiAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI0ZGMDAwMFwiO1xuICAgIGhvb2tEaXYudGl0bGUgPSBcInNlbGVjdCB0byBlbmFibGUgYWNjZXNzaWJpbGl0eSBmb3IgdGhpcyBjb250ZW50XCI7XG4gICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2FjdGl2YXRlKCk7XG4gICAgICB0aGlzLl9kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICB0aGlzLl9ob29rRGl2ID0gaG9va0RpdjtcbiAgfVxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Rlc3Ryb3lUb3VjaEhvb2soKSB7XG4gICAgaWYgKCF0aGlzLl9ob29rRGl2KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAgICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgcHJlc3NlcyB0aGUgdGFiIGtleS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hY3RpdmF0ZSgpIHtcbiAgICBpZiAodGhpcy5faXNBY3RpdmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5faXNBY3RpdmUgPSB0cnVlO1xuICAgIGlmICghdGhpcy5fZGl2KSB7XG4gICAgICB0aGlzLl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgdGhpcy5fZGl2LnN0eWxlLndpZHRoID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgdGhpcy5fZGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgIHRoaXMuX2Rpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgIHRoaXMuX2Rpdi5zdHlsZS50b3AgPSBgJHtESVZfVE9VQ0hfUE9TX1h9cHhgO1xuICAgICAgdGhpcy5fZGl2LnN0eWxlLmxlZnQgPSBgJHtESVZfVE9VQ0hfUE9TX1l9cHhgO1xuICAgICAgdGhpcy5fZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVgudG9TdHJpbmcoKTtcbiAgICAgIHRoaXMuX2Rpdi5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJub25lXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLl9hY3RpdmF0ZU9uVGFiKSB7XG4gICAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcbiAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9kZWFjdGl2YXRlT25Nb3VzZU1vdmUpIHtcbiAgICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX3JlbmRlcmVyLnZpZXcuY2FudmFzO1xuICAgIGlmICghY2FudmFzLnBhcmVudE5vZGUpIHtcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICBpZiAoY2FudmFzLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjYW52YXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLl9kaXYpO1xuICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICB0aGlzLl9pbml0QWNjZXNzaWJpbGl0eVNldHVwKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FudmFzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5fZGl2KTtcbiAgICAgIHRoaXMuX2luaXRBY2Nlc3NpYmlsaXR5U2V0dXAoKTtcbiAgICB9XG4gIH1cbiAgLy8gTmV3IG1ldGhvZCB0byBoYW5kbGUgaW5pdGlhbGl6YXRpb24gYWZ0ZXIgZGl2IGlzIHJlYWR5XG4gIF9pbml0QWNjZXNzaWJpbGl0eVNldHVwKCkge1xuICAgIHRoaXMuX3JlbmRlcmVyLnJ1bm5lcnMucG9zdHJlbmRlci5hZGQodGhpcyk7XG4gICAgaWYgKHRoaXMuX3JlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZCkge1xuICAgICAgdGhpcy5fdXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5fcmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERlYWN0aXZhdGVzIHRoZSBhY2Nlc3NpYmlsaXR5IHN5c3RlbS4gUmVtb3ZlcyBsaXN0ZW5lcnMgYW5kIGFjY2Vzc2liaWxpdHkgZWxlbWVudHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGVhY3RpdmF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZlIHx8IHRoaXMuX2lzTW9iaWxlQWNjZXNzaWJpbGl0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgaWYgKHRoaXMuX2FjdGl2YXRlT25UYWIpIHtcbiAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlcmVyLnJ1bm5lcnMucG9zdHJlbmRlci5yZW1vdmUodGhpcyk7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLl9jaGlsZHJlbikge1xuICAgICAgaWYgKGNoaWxkLl9hY2Nlc3NpYmxlRGl2ICYmIGNoaWxkLl9hY2Nlc3NpYmxlRGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX3Bvb2wuZm9yRWFjaCgoZGl2KSA9PiB7XG4gICAgICBpZiAoZGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGhpcy5fZGl2ICYmIHRoaXMuX2Rpdi5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLl9kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl9kaXYpO1xuICAgIH1cbiAgICB0aGlzLl9wb29sID0gW107XG4gICAgdGhpcy5fY2hpbGRyZW4gPSBbXTtcbiAgfVxuICAvKipcbiAgICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0NvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBjaGVjay5cbiAgICovXG4gIF91cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lci52aXNpYmxlIHx8ICFjb250YWluZXIuYWNjZXNzaWJsZUNoaWxkcmVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjb250YWluZXIuYWNjZXNzaWJsZSkge1xuICAgICAgaWYgKCFjb250YWluZXIuX2FjY2Vzc2libGVBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5fYWRkQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICAgIGNvbnRhaW5lci5fcmVuZGVySWQgPSB0aGlzLl9yZW5kZXJJZDtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJ1bm5lciBpbml0IGNhbGxlZCwgdmlldyBpcyBhdmFpbGFibGUgYXQgdGhpcyBwb2ludC5cbiAgICogQGlnbm9yZVxuICAgKi9cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgY29uc3QgZGVmYXVsdE9wdHMgPSBfQWNjZXNzaWJpbGl0eVN5c3RlbS5kZWZhdWx0T3B0aW9ucztcbiAgICBjb25zdCBtZXJnZWRPcHRpb25zID0ge1xuICAgICAgYWNjZXNzaWJpbGl0eU9wdGlvbnM6IHtcbiAgICAgICAgLi4uZGVmYXVsdE9wdHMsXG4gICAgICAgIC4uLm9wdGlvbnM/LmFjY2Vzc2liaWxpdHlPcHRpb25zIHx8IHt9XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmRlYnVnID0gbWVyZ2VkT3B0aW9ucy5hY2Nlc3NpYmlsaXR5T3B0aW9ucy5kZWJ1ZztcbiAgICB0aGlzLl9hY3RpdmF0ZU9uVGFiID0gbWVyZ2VkT3B0aW9ucy5hY2Nlc3NpYmlsaXR5T3B0aW9ucy5hY3RpdmF0ZU9uVGFiO1xuICAgIHRoaXMuX2RlYWN0aXZhdGVPbk1vdXNlTW92ZSA9IG1lcmdlZE9wdGlvbnMuYWNjZXNzaWJpbGl0eU9wdGlvbnMuZGVhY3RpdmF0ZU9uTW91c2VNb3ZlO1xuICAgIGlmIChtZXJnZWRPcHRpb25zLmFjY2Vzc2liaWxpdHlPcHRpb25zLmVuYWJsZWRCeURlZmF1bHQpIHtcbiAgICAgIHRoaXMuX2FjdGl2YXRlKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9hY3RpdmF0ZU9uVGFiKSB7XG4gICAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcbiAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fb25LZXlEb3duLCBmYWxzZSk7XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlcmVyLnJ1bm5lcnMucG9zdHJlbmRlci5yZW1vdmUodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXIgZHVyaW5nIHJlbmRlcmluZy5cbiAgICogLSBSZW1vdmVzIGRpdnMgZm9yIGNvbnRhaW5lcnMgbm8gbG9uZ2VyIGluIHRoZSBzY2VuZVxuICAgKiAtIFVwZGF0ZXMgdGhlIHBvc2l0aW9uIGFuZCBkaW1lbnNpb25zIG9mIHRoZSByb290IGRpdlxuICAgKiAtIFVwZGF0ZXMgcG9zaXRpb25zIG9mIGFjdGl2ZSBhY2Nlc3NpYmlsaXR5IGRpdnNcbiAgICogT25seSBmaXJlcyB3aGlsZSB0aGUgYWNjZXNzaWJpbGl0eSBzeXN0ZW0gaXMgYWN0aXZlLlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBwb3N0cmVuZGVyKCkge1xuICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIGlmICh0aGlzLl9tb2JpbGVJbmZvLmFuZHJvaWQuZGV2aWNlICYmIG5vdyA8IHRoaXMuX2FuZHJvaWRVcGRhdGVDb3VudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9hbmRyb2lkVXBkYXRlQ291bnQgPSBub3cgKyB0aGlzLl9hbmRyb2lkVXBkYXRlRnJlcXVlbmN5O1xuICAgIGlmICghdGhpcy5fcmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4gfHwgIXRoaXMuX3JlbmRlcmVyLnZpZXcuY2FudmFzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZUlkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgaWYgKHRoaXMuX3JlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZCkge1xuICAgICAgdGhpcy5fdXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5fcmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkKTtcbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5fY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGNoaWxkLl9yZW5kZXJJZCA9PT0gdGhpcy5fcmVuZGVySWQpIHtcbiAgICAgICAgICBhY3RpdmVJZHMuYWRkKHRoaXMuX2NoaWxkcmVuLmluZGV4T2YoY2hpbGQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5fY2hpbGRyZW5baV07XG4gICAgICBpZiAoIWFjdGl2ZUlkcy5oYXMoaSkpIHtcbiAgICAgICAgaWYgKGNoaWxkLl9hY2Nlc3NpYmxlRGl2ICYmIGNoaWxkLl9hY2Nlc3NpYmxlRGl2LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZURpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICB0aGlzLl9wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICByZW1vdmVJdGVtcyh0aGlzLl9jaGlsZHJlbiwgaSwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLl9yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbikge1xuICAgICAgY29uc3QgeyB4LCB5LCB3aWR0aDogdmlld1dpZHRoLCBoZWlnaHQ6IHZpZXdIZWlnaHQgfSA9IHRoaXMuX3JlbmRlcmVyLnNjcmVlbjtcbiAgICAgIGNvbnN0IGRpdiA9IHRoaXMuX2RpdjtcbiAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7eH1weGA7XG4gICAgICBkaXYuc3R5bGUudG9wID0gYCR7eX1weGA7XG4gICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHt2aWV3V2lkdGh9cHhgO1xuICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke3ZpZXdIZWlnaHR9cHhgO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IHRoaXMuX2NoaWxkcmVuW2ldO1xuICAgICAgaWYgKCFjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSB8fCAhY2hpbGQuX2FjY2Vzc2libGVEaXYpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgIGNvbnN0IGhpdEFyZWEgPSBjaGlsZC5oaXRBcmVhIHx8IGNoaWxkLmdldEJvdW5kcygpLnJlY3RhbmdsZTtcbiAgICAgIGlmIChjaGlsZC5oaXRBcmVhKSB7XG4gICAgICAgIGNvbnN0IHd0ID0gY2hpbGQud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IHN4ID0gdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3Qgc3kgPSB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGAkeyh3dC50eCArIGhpdEFyZWEueCAqIHd0LmEpICogc3h9cHhgO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7KHd0LnR5ICsgaGl0QXJlYS55ICogd3QuZCkgKiBzeX1weGA7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke2hpdEFyZWEud2lkdGggKiB3dC5hICogc3h9cHhgO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3l9cHhgO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY2FwSGl0QXJlYShoaXRBcmVhKTtcbiAgICAgICAgY29uc3Qgc3ggPSB0aGlzLl9yZW5kZXJlci5yZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBzeSA9IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7aGl0QXJlYS54ICogc3h9cHhgO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7aGl0QXJlYS55ICogc3l9cHhgO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtoaXRBcmVhLndpZHRoICogc3h9cHhgO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGl0QXJlYS5oZWlnaHQgKiBzeX1weGA7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3JlbmRlcklkKys7XG4gIH1cbiAgLyoqXG4gICAqIHByaXZhdGUgZnVuY3Rpb24gdGhhdCB3aWxsIHZpc3VhbGx5IGFkZCB0aGUgaW5mb3JtYXRpb24gdG8gdGhlXG4gICAqIGFjY2Vzc2liaWxpdHkgZGl2XG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGRpdiAtXG4gICAqL1xuICBfdXBkYXRlRGVidWdIVE1MKGRpdikge1xuICAgIGRpdi5pbm5lckhUTUwgPSBgdHlwZTogJHtkaXYudHlwZX08L2JyPiB0aXRsZSA6ICR7ZGl2LnRpdGxlfTwvYnI+IHRhYkluZGV4OiAke2Rpdi50YWJJbmRleH1gO1xuICB9XG4gIC8qKlxuICAgKiBBZGp1c3QgdGhlIGhpdCBhcmVhIGJhc2VkIG9uIHRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdFxuICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gaGl0QXJlYSAtIEJvdW5kcyBvZiB0aGUgY2hpbGRcbiAgICovXG4gIF9jYXBIaXRBcmVhKGhpdEFyZWEpIHtcbiAgICBpZiAoaGl0QXJlYS54IDwgMCkge1xuICAgICAgaGl0QXJlYS53aWR0aCArPSBoaXRBcmVhLng7XG4gICAgICBoaXRBcmVhLnggPSAwO1xuICAgIH1cbiAgICBpZiAoaGl0QXJlYS55IDwgMCkge1xuICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICB9XG4gICAgY29uc3QgeyB3aWR0aDogdmlld1dpZHRoLCBoZWlnaHQ6IHZpZXdIZWlnaHQgfSA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdmlld1dpZHRoKSB7XG4gICAgICBoaXRBcmVhLndpZHRoID0gdmlld1dpZHRoIC0gaGl0QXJlYS54O1xuICAgIH1cbiAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB2aWV3SGVpZ2h0KSB7XG4gICAgICBoaXRBcmVhLmhlaWdodCA9IHZpZXdIZWlnaHQgLSBoaXRBcmVhLnk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIG9yIHJldXNlcyBhIGRpdiBlbGVtZW50IGZvciBhIENvbnRhaW5lciBhbmQgYWRkcyBpdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBsYXllci5cbiAgICogU2V0cyB1cCBBUklBIGF0dHJpYnV0ZXMsIGV2ZW50IGxpc3RlbmVycywgYW5kIHBvc2l0aW9uaW5nIGJhc2VkIG9uIHRoZSBjb250YWluZXIncyBwcm9wZXJ0aWVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0NvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAgICovXG4gIF9hZGRDaGlsZChjb250YWluZXIpIHtcbiAgICBsZXQgZGl2ID0gdGhpcy5fcG9vbC5wb3AoKTtcbiAgICBpZiAoIWRpdikge1xuICAgICAgaWYgKGNvbnRhaW5lci5hY2Nlc3NpYmxlVHlwZSA9PT0gXCJidXR0b25cIikge1xuICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjb250YWluZXIuYWNjZXNzaWJsZVR5cGUpO1xuICAgICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgICAgICAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgICAgICAgICBgO1xuICAgICAgICBpZiAoY29udGFpbmVyLmFjY2Vzc2libGVUZXh0KSB7XG4gICAgICAgICAgZGl2LmlubmVyVGV4dCA9IGNvbnRhaW5lci5hY2Nlc3NpYmxlVGV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGl2LnN0eWxlLndpZHRoID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke0RJVl9UT1VDSF9TSVpFfXB4YDtcbiAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gXCJyZ2JhKDI1NSwyNTUsMjU1LDAuNSlcIiA6IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYLnRvU3RyaW5nKCk7XG4gICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSBcIm5vbmVcIjtcbiAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJjaHJvbWVcIikpIHtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLCBcIm9mZlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG4gICAgICB9XG4gICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvcnY6LipHZWNrb1xcLy8pKSB7XG4gICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXJlbGV2YW50XCIsIFwiYWRkaXRpb25zXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImFyaWEtcmVsZXZhbnRcIiwgXCJ0ZXh0XCIpO1xuICAgICAgfVxuICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCB0aGlzLl9vbkZvY3VzLmJpbmQodGhpcykpO1xuICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCB0aGlzLl9vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgIH1cbiAgICBkaXYuc3R5bGUucG9pbnRlckV2ZW50cyA9IGNvbnRhaW5lci5hY2Nlc3NpYmxlUG9pbnRlckV2ZW50cztcbiAgICBkaXYudHlwZSA9IGNvbnRhaW5lci5hY2Nlc3NpYmxlVHlwZTtcbiAgICBpZiAoY29udGFpbmVyLmFjY2Vzc2libGVUaXRsZSAmJiBjb250YWluZXIuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKSB7XG4gICAgICBkaXYudGl0bGUgPSBjb250YWluZXIuYWNjZXNzaWJsZVRpdGxlO1xuICAgIH0gZWxzZSBpZiAoIWNvbnRhaW5lci5hY2Nlc3NpYmxlSGludCB8fCBjb250YWluZXIuYWNjZXNzaWJsZUhpbnQgPT09IG51bGwpIHtcbiAgICAgIGRpdi50aXRsZSA9IGBjb250YWluZXIgJHtjb250YWluZXIudGFiSW5kZXh9YDtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5hY2Nlc3NpYmxlSGludCAmJiBjb250YWluZXIuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpIHtcbiAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGNvbnRhaW5lci5hY2Nlc3NpYmxlSGludCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICB0aGlzLl91cGRhdGVEZWJ1Z0hUTUwoZGl2KTtcbiAgICB9XG4gICAgY29udGFpbmVyLl9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICBjb250YWluZXIuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgZGl2LmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLl9jaGlsZHJlbi5wdXNoKGNvbnRhaW5lcik7XG4gICAgdGhpcy5fZGl2LmFwcGVuZENoaWxkKGNvbnRhaW5lci5fYWNjZXNzaWJsZURpdik7XG4gICAgaWYgKGNvbnRhaW5lci5pbnRlcmFjdGl2ZSkge1xuICAgICAgY29udGFpbmVyLl9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gY29udGFpbmVyLnRhYkluZGV4O1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2ggZXZlbnRzIHdpdGggdGhlIEV2ZW50U3lzdGVtLlxuICAgKiBAcGFyYW0gZVxuICAgKiBAcGFyYW0gdHlwZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2Rpc3BhdGNoRXZlbnQoZSwgdHlwZSkge1xuICAgIGNvbnN0IHsgY29udGFpbmVyOiB0YXJnZXQgfSA9IGUudGFyZ2V0O1xuICAgIGNvbnN0IGJvdW5kYXJ5ID0gdGhpcy5fcmVuZGVyZXIuZXZlbnRzLnJvb3RCb3VuZGFyeTtcbiAgICBjb25zdCBldmVudCA9IE9iamVjdC5hc3NpZ24obmV3IEZlZGVyYXRlZEV2ZW50KGJvdW5kYXJ5KSwgeyB0YXJnZXQgfSk7XG4gICAgYm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMuX3JlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICB0eXBlLmZvckVhY2goKHR5cGUyKSA9PiBib3VuZGFyeS5kaXNwYXRjaEV2ZW50KGV2ZW50LCB0eXBlMikpO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBFdmVudFN5c3RlbSAoY2xpY2spXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFRoZSBjbGljayBldmVudC5cbiAgICovXG4gIF9vbkNsaWNrKGUpIHtcbiAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGUsIFtcImNsaWNrXCIsIFwicG9pbnRlcnRhcFwiLCBcInRhcFwiXSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEV2ZW50U3lzdGVtIChtb3VzZW92ZXIpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAgICovXG4gIF9vbkZvY3VzKGUpIHtcbiAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiKSkge1xuICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIsIFwiYXNzZXJ0aXZlXCIpO1xuICAgIH1cbiAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KGUsIFtcIm1vdXNlb3ZlclwiXSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEV2ZW50U3lzdGVtIChtb3VzZW91dClcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICAgKi9cbiAgX29uRm9jdXNPdXQoZSkge1xuICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIpKSB7XG4gICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XG4gICAgfVxuICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoZSwgW1wibW91c2VvdXRcIl0pO1xuICB9XG4gIC8qKlxuICAgKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICAgKi9cbiAgX29uS2V5RG93bihlKSB7XG4gICAgaWYgKGUua2V5Q29kZSAhPT0gS0VZX0NPREVfVEFCIHx8ICF0aGlzLl9hY3RpdmF0ZU9uVGFiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2YXRlKCk7XG4gIH1cbiAgLyoqXG4gICAqIElzIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIG1vdXNlIGV2ZW50LlxuICAgKi9cbiAgX29uTW91c2VNb3ZlKGUpIHtcbiAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBzeXN0ZW0uIFJlbW92ZXMgYWxsIGVsZW1lbnRzIGFuZCBsaXN0ZW5lcnMuXG4gICAqID4gWyFJTVBPUlRBTlRdIFRoaXMgaXMgdHlwaWNhbGx5IGNhbGxlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIHtAbGluayBBcHBsaWNhdGlvbn0gaXMgZGVzdHJveWVkLlxuICAgKiA+IEEgdHlwaWNhbGx5IHVzZXIgc2hvdWxkIG5vdCBuZWVkIHRvIGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkuXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX2RlYWN0aXZhdGUoKTtcbiAgICB0aGlzLl9kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgdGhpcy5fZGl2ID0gbnVsbDtcbiAgICB0aGlzLl9wb29sID0gbnVsbDtcbiAgICB0aGlzLl9jaGlsZHJlbiA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIGlmICh0aGlzLl9hY3RpdmF0ZU9uVGFiKSB7XG4gICAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX29uS2V5RG93bik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHRoZSBhY2Nlc3NpYmlsaXR5IHN5c3RlbS5cbiAgICogQHBhcmFtIGVuYWJsZWQgLSBXaGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGFjY2Vzc2liaWxpdHkuXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYGpzXG4gICAqIGFwcC5yZW5kZXJlci5hY2Nlc3NpYmlsaXR5LnNldEFjY2Vzc2liaWxpdHlFbmFibGVkKHRydWUpOyAvLyBFbmFibGUgYWNjZXNzaWJpbGl0eVxuICAgKiBhcHAucmVuZGVyZXIuYWNjZXNzaWJpbGl0eS5zZXRBY2Nlc3NpYmlsaXR5RW5hYmxlZChmYWxzZSk7IC8vIERpc2FibGUgYWNjZXNzaWJpbGl0eVxuICAgKiBgYGBcbiAgICovXG4gIHNldEFjY2Vzc2liaWxpdHlFbmFibGVkKGVuYWJsZWQpIHtcbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgdGhpcy5fYWN0aXZhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGVhY3RpdmF0ZSgpO1xuICAgIH1cbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fQWNjZXNzaWJpbGl0eVN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiYWNjZXNzaWJpbGl0eVwiXG59O1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIHN5c3RlbS5cbiAqIFlvdSBjYW4gc2V0IHRoZXNlIGJlZm9yZSBpbml0aWFsaXppbmcgdGhlIHtAbGluayBBcHBsaWNhdGlvbn0gdG8gY2hhbmdlIHRoZSBkZWZhdWx0IGJlaGF2aW9yLlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBBY2Nlc3NpYmlsaXR5U3lzdGVtIH0gZnJvbSAncGl4aS5qcyc7XG4gKlxuICogQWNjZXNzaWJpbGl0eVN5c3RlbS5kZWZhdWx0T3B0aW9ucy5lbmFibGVkQnlEZWZhdWx0ID0gdHJ1ZTtcbiAqXG4gKiBjb25zdCBhcHAgPSBuZXcgQXBwbGljYXRpb24oKVxuICogYXBwLmluaXQoKVxuICogYGBgXG4gKi9cbl9BY2Nlc3NpYmlsaXR5U3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKipcbiAgICogV2hldGhlciB0byBlbmFibGUgYWNjZXNzaWJpbGl0eSBmZWF0dXJlcyBvbiBpbml0aWFsaXphdGlvblxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZW5hYmxlZEJ5RGVmYXVsdDogZmFsc2UsXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHZpc3VhbGx5IHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgZGl2cyBmb3IgZGVidWdnaW5nXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkZWJ1ZzogZmFsc2UsXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIGFjdGl2YXRlIGFjY2Vzc2liaWxpdHkgd2hlbiB0YWIga2V5IGlzIHByZXNzZWRcbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgYWN0aXZhdGVPblRhYjogdHJ1ZSxcbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZGVhY3RpdmF0ZSBhY2Nlc3NpYmlsaXR5IHdoZW4gbW91c2UgbW92ZXNcbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZGVhY3RpdmF0ZU9uTW91c2VNb3ZlOiB0cnVlXG59O1xubGV0IEFjY2Vzc2liaWxpdHlTeXN0ZW0gPSBfQWNjZXNzaWJpbGl0eVN5c3RlbTtcblxuZXhwb3J0IHsgQWNjZXNzaWJpbGl0eVN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjZXNzaWJpbGl0eVN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBleHRlbnNpb25zIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi9zY2VuZS9jb250YWluZXIvQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgeyBBY2Nlc3NpYmlsaXR5U3lzdGVtIH0gZnJvbSAnLi9BY2Nlc3NpYmlsaXR5U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBhY2Nlc3NpYmlsaXR5VGFyZ2V0IH0gZnJvbSAnLi9hY2Nlc3NpYmlsaXR5VGFyZ2V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoQWNjZXNzaWJpbGl0eVN5c3RlbSk7XG5leHRlbnNpb25zLm1peGluKENvbnRhaW5lciwgYWNjZXNzaWJpbGl0eVRhcmdldCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYWNjZXNzaWJpbGl0eVRhcmdldCA9IHtcbiAgYWNjZXNzaWJsZTogZmFsc2UsXG4gIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcbiAgYWNjZXNzaWJsZUhpbnQ6IG51bGwsXG4gIHRhYkluZGV4OiAwLFxuICBhY2Nlc3NpYmxlVHlwZTogXCJidXR0b25cIixcbiAgYWNjZXNzaWJsZVRleHQ6IG51bGwsXG4gIGFjY2Vzc2libGVQb2ludGVyRXZlbnRzOiBcImF1dG9cIixcbiAgYWNjZXNzaWJsZUNoaWxkcmVuOiB0cnVlLFxuICBfYWNjZXNzaWJsZUFjdGl2ZTogZmFsc2UsXG4gIF9hY2Nlc3NpYmxlRGl2OiBudWxsLFxuICBfcmVuZGVySWQ6IC0xXG59O1xuXG5leHBvcnQgeyBhY2Nlc3NpYmlsaXR5VGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmlsaXR5VGFyZ2V0Lm1qcy5tYXBcbiIsImltcG9ydCB7IFVQREFURV9QUklPUklUWSB9IGZyb20gJy4uL3RpY2tlci9jb25zdC5tanMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi4vdGlja2VyL1RpY2tlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEV2ZW50c1RpY2tlckNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIFRoZSBmcmVxdWVuY3kgdGhhdCBmYWtlIGV2ZW50cyB3aWxsIGJlIGZpcmVkLiAqL1xuICAgIHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSAxMDtcbiAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgIHRoaXMuX2RpZE1vdmUgPSBmYWxzZTtcbiAgICB0aGlzLl90aWNrZXJBZGRlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BhdXNlVXBkYXRlID0gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGV2ZW50IHRpY2tlci5cbiAgICogQHBhcmFtIGV2ZW50cyAtIFRoZSBldmVudCBzeXN0ZW0uXG4gICAqL1xuICBpbml0KGV2ZW50cykge1xuICAgIHRoaXMucmVtb3ZlVGlja2VyTGlzdGVuZXIoKTtcbiAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgICB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gMTA7XG4gICAgdGhpcy5fZGVsdGFUaW1lID0gMDtcbiAgICB0aGlzLl9kaWRNb3ZlID0gZmFsc2U7XG4gICAgdGhpcy5fdGlja2VyQWRkZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9wYXVzZVVwZGF0ZSA9IHRydWU7XG4gIH1cbiAgLyoqIFdoZXRoZXIgdG8gcGF1c2UgdGhlIHVwZGF0ZSBjaGVja3Mgb3Igbm90LiAqL1xuICBnZXQgcGF1c2VVcGRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhdXNlVXBkYXRlO1xuICB9XG4gIHNldCBwYXVzZVVwZGF0ZShwYXVzZWQpIHtcbiAgICB0aGlzLl9wYXVzZVVwZGF0ZSA9IHBhdXNlZDtcbiAgfVxuICAvKiogQWRkcyB0aGUgdGlja2VyIGxpc3RlbmVyLiAqL1xuICBhZGRUaWNrZXJMaXN0ZW5lcigpIHtcbiAgICBpZiAodGhpcy5fdGlja2VyQWRkZWQgfHwgIXRoaXMuZG9tRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLl90aWNrZXJVcGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG4gICAgdGhpcy5fdGlja2VyQWRkZWQgPSB0cnVlO1xuICB9XG4gIC8qKiBSZW1vdmVzIHRoZSB0aWNrZXIgbGlzdGVuZXIuICovXG4gIHJlbW92ZVRpY2tlckxpc3RlbmVyKCkge1xuICAgIGlmICghdGhpcy5fdGlja2VyQWRkZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgVGlja2VyLnN5c3RlbS5yZW1vdmUodGhpcy5fdGlja2VyVXBkYXRlLCB0aGlzKTtcbiAgICB0aGlzLl90aWNrZXJBZGRlZCA9IGZhbHNlO1xuICB9XG4gIC8qKiBTZXRzIGZsYWcgdG8gbm90IGZpcmUgZXh0cmEgZXZlbnRzIHdoZW4gdGhlIHVzZXIgaGFzIGFscmVhZHkgbW92ZWQgdGhlcmUgbW91c2UgKi9cbiAgcG9pbnRlck1vdmVkKCkge1xuICAgIHRoaXMuX2RpZE1vdmUgPSB0cnVlO1xuICB9XG4gIC8qKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLiAqL1xuICBfdXBkYXRlKCkge1xuICAgIGlmICghdGhpcy5kb21FbGVtZW50IHx8IHRoaXMuX3BhdXNlVXBkYXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9kaWRNb3ZlKSB7XG4gICAgICB0aGlzLl9kaWRNb3ZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJvb3RQb2ludGVyRXZlbnQgPSB0aGlzLmV2ZW50c1tcIl9yb290UG9pbnRlckV2ZW50XCJdO1xuICAgIGlmICh0aGlzLmV2ZW50cy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIHJvb3RQb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnbG9iYWxUaGlzLmRvY3VtZW50LmRpc3BhdGNoRXZlbnQodGhpcy5ldmVudHMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID8gbmV3IFBvaW50ZXJFdmVudChcInBvaW50ZXJtb3ZlXCIsIHtcbiAgICAgIGNsaWVudFg6IHJvb3RQb2ludGVyRXZlbnQuY2xpZW50WCxcbiAgICAgIGNsaWVudFk6IHJvb3RQb2ludGVyRXZlbnQuY2xpZW50WSxcbiAgICAgIHBvaW50ZXJUeXBlOiByb290UG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlLFxuICAgICAgcG9pbnRlcklkOiByb290UG9pbnRlckV2ZW50LnBvaW50ZXJJZFxuICAgIH0pIDogbmV3IE1vdXNlRXZlbnQoXCJtb3VzZW1vdmVcIiwge1xuICAgICAgY2xpZW50WDogcm9vdFBvaW50ZXJFdmVudC5jbGllbnRYLFxuICAgICAgY2xpZW50WTogcm9vdFBvaW50ZXJFdmVudC5jbGllbnRZXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzIGlmIGF0IGxlYXN0IHtAbGluayBpbnRlcmFjdGlvbkZyZXF1ZW5jeX1cbiAgICogbWlsbGlzZWNvbmRzIGhhdmUgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IGludm9jYXRpb24uXG4gICAqXG4gICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBUaWNrZXIuc3lzdGVtfS5cbiAgICogQHBhcmFtIHRpY2tlciAtIFRoZSB0aHJvdHRsZWQgdGlja2VyLlxuICAgKi9cbiAgX3RpY2tlclVwZGF0ZSh0aWNrZXIpIHtcbiAgICB0aGlzLl9kZWx0YVRpbWUgKz0gdGlja2VyLmRlbHRhVGltZTtcbiAgICBpZiAodGhpcy5fZGVsdGFUaW1lIDwgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuICAgIHRoaXMuX3VwZGF0ZSgpO1xuICB9XG59XG5jb25zdCBFdmVudHNUaWNrZXIgPSBuZXcgRXZlbnRzVGlja2VyQ2xhc3MoKTtcblxuZXhwb3J0IHsgRXZlbnRzVGlja2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFRpY2tlci5tanMubWFwXG4iLCJpbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL21hdGhzL3BvaW50L1BvaW50Lm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkRXZlbnQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBGZWRlcmF0ZWRNb3VzZUV2ZW50IGV4dGVuZHMgRmVkZXJhdGVkRXZlbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIC8qKiBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIG1vdXNlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSBjYW52YXMuICovXG4gICAgdGhpcy5jbGllbnQgPSBuZXcgUG9pbnQoKTtcbiAgICAvKiogVGhlIG1vdmVtZW50IGluIHRoaXMgcG9pbnRlciByZWxhdGl2ZSB0byB0aGUgbGFzdCBgbW91c2Vtb3ZlYCBldmVudC4gKi9cbiAgICB0aGlzLm1vdmVtZW50ID0gbmV3IFBvaW50KCk7XG4gICAgLyoqIFRoZSBvZmZzZXQgb2YgdGhlIHBvaW50ZXIgY29vcmRpbmF0ZXMgdy5yLnQuIHRhcmdldCBDb250YWluZXIgaW4gd29ybGQgc3BhY2UuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBhdCB0aGUgbW9tZW50LiAqL1xuICAgIHRoaXMub2Zmc2V0ID0gbmV3IFBvaW50KCk7XG4gICAgLyoqIFRoZSBwb2ludGVyIGNvb3JkaW5hdGVzIGluIHdvcmxkIHNwYWNlLiAqL1xuICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG4gICAgLyoqXG4gICAgICogVGhlIHBvaW50ZXIgY29vcmRpbmF0ZXMgaW4gdGhlIHJlbmRlcmVyJ3Mge0BsaW5rIEFic3RyYWN0UmVuZGVyZXIuc2NyZWVuIHNjcmVlbn0uIFRoaXMgaGFzIHNsaWdodGx5XG4gICAgICogZGlmZmVyZW50IHNlbWFudGljcyB0aGFuIG5hdGl2ZSBQb2ludGVyRXZlbnQgc2NyZWVuWC9zY3JlZW5ZLlxuICAgICAqL1xuICAgIHRoaXMuc2NyZWVuID0gbmV3IFBvaW50KCk7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgY2xpZW50WCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQueDtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBjbGllbnRZKCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudC55O1xuICB9XG4gIC8qKlxuICAgKiBBbGlhcyBmb3Ige0BsaW5rIEZlZGVyYXRlZE1vdXNlRXZlbnQuY2xpZW50WCB0aGlzLmNsaWVudFh9LlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCB4KCkge1xuICAgIHJldHVybiB0aGlzLmNsaWVudFg7XG4gIH1cbiAgLyoqXG4gICAqIEFsaWFzIGZvciB7QGxpbmsgRmVkZXJhdGVkTW91c2VFdmVudC5jbGllbnRZIHRoaXMuY2xpZW50WX0uXG4gICAqIEByZWFkb25seVxuICAgKi9cbiAgZ2V0IHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50WTtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBtb3ZlbWVudFgoKSB7XG4gICAgcmV0dXJuIHRoaXMubW92ZW1lbnQueDtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBtb3ZlbWVudFkoKSB7XG4gICAgcmV0dXJuIHRoaXMubW92ZW1lbnQueTtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBvZmZzZXRYKCkge1xuICAgIHJldHVybiB0aGlzLm9mZnNldC54O1xuICB9XG4gIC8qKiBAcmVhZG9ubHkgKi9cbiAgZ2V0IG9mZnNldFkoKSB7XG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0Lnk7XG4gIH1cbiAgLyoqIEByZWFkb25seSAqL1xuICBnZXQgZ2xvYmFsWCgpIHtcbiAgICByZXR1cm4gdGhpcy5nbG9iYWwueDtcbiAgfVxuICAvKiogQHJlYWRvbmx5ICovXG4gIGdldCBnbG9iYWxZKCkge1xuICAgIHJldHVybiB0aGlzLmdsb2JhbC55O1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcG9pbnRlciBjb29yZGluYXRlcyBpbiB0aGUgcmVuZGVyZXIncyBzY3JlZW4uIEFsaWFzIGZvciBgc2NyZWVuLnhgLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzY3JlZW5YKCkge1xuICAgIHJldHVybiB0aGlzLnNjcmVlbi54O1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcG9pbnRlciBjb29yZGluYXRlcyBpbiB0aGUgcmVuZGVyZXIncyBzY3JlZW4uIEFsaWFzIGZvciBgc2NyZWVuLnlgLlxuICAgKiBAcmVhZG9ubHlcbiAgICovXG4gIGdldCBzY3JlZW5ZKCkge1xuICAgIHJldHVybiB0aGlzLnNjcmVlbi55O1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBnbG9iYWwgY29vcmRpbmF0ZXMgaW50byBjb250YWluZXItbG9jYWwgY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgY29vcmRpbmF0ZXMgZnJvbSB3b3JsZCBzcGFjZSB0byBhIGNvbnRhaW5lcidzIGxvY2FsIHNwYWNlLFxuICAgKiB1c2VmdWwgZm9yIHByZWNpc2UgcG9zaXRpb25pbmcgYW5kIGhpdCB0ZXN0aW5nLlxuICAgKiBAcGFyYW0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBnZXQgbG9jYWwgY29vcmRpbmF0ZXMgZm9yXG4gICAqIEBwYXJhbSBwb2ludCAtIE9wdGlvbmFsIFBvaW50IG9iamVjdCB0byBzdG9yZSB0aGUgcmVzdWx0LiBJZiBub3QgcHJvdmlkZWQsIGEgbmV3IFBvaW50IHdpbGwgYmUgY3JlYXRlZFxuICAgKiBAcGFyYW0gZ2xvYmFsUG9zIC0gT3B0aW9uYWwgY3VzdG9tIGdsb2JhbCBjb29yZGluYXRlcy4gSWYgbm90IHByb3ZpZGVkLCB0aGUgZXZlbnQncyBnbG9iYWwgcG9zaXRpb24gaXMgdXNlZFxuICAgKiBAcmV0dXJucyBUaGUgbG9jYWwgY29vcmRpbmF0ZXMgYXMgYSBQb2ludCBvYmplY3RcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgdXNhZ2UgLSBnZXQgbG9jYWwgY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gYSBjb250YWluZXJcbiAgICogc3ByaXRlLm9uKCdwb2ludGVybW92ZScsIChldmVudDogRmVkZXJhdGVkTW91c2VFdmVudCkgPT4ge1xuICAgKiAgICAgLy8gR2V0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBzcHJpdGVcbiAgICogICAgIGNvbnN0IGxvY2FsUG9zID0gZXZlbnQuZ2V0TG9jYWxQb3NpdGlvbihzcHJpdGUpO1xuICAgKiAgICAgY29uc29sZS5sb2coJ0xvY2FsIHBvc2l0aW9uOicsIGxvY2FsUG9zLngsIGxvY2FsUG9zLnkpO1xuICAgKiB9KTtcbiAgICogLy8gVXNpbmcgY3VzdG9tIGdsb2JhbCBjb29yZGluYXRlc1xuICAgKiBjb25zdCBjdXN0b21HbG9iYWwgPSBuZXcgUG9pbnQoMTAwLCAxMDApO1xuICAgKiBzcHJpdGUub24oJ3BvaW50ZXJtb3ZlJywgKGV2ZW50OiBGZWRlcmF0ZWRNb3VzZUV2ZW50KSA9PiB7XG4gICAqICAgICAvLyBUcmFuc2Zvcm0gY3VzdG9tIGNvb3JkaW5hdGVzXG4gICAqICAgICBjb25zdCBsb2NhbFBvcyA9IGV2ZW50LmdldExvY2FsUG9zaXRpb24oc3ByaXRlLCB1bmRlZmluZWQsIGN1c3RvbUdsb2JhbCk7XG4gICAqICAgICBjb25zb2xlLmxvZygnQ3VzdG9tIGxvY2FsIHBvc2l0aW9uOicsIGxvY2FsUG9zLngsIGxvY2FsUG9zLnkpO1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBzZWUge0BsaW5rIENvbnRhaW5lci53b3JsZFRyYW5zZm9ybX0gRm9yIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICogQHNlZSB7QGxpbmsgUG9pbnR9IEZvciB0aGUgcG9pbnQgY2xhc3MgdXNlZCB0byBzdG9yZSBjb29yZGluYXRlc1xuICAgKi9cbiAgZ2V0TG9jYWxQb3NpdGlvbihjb250YWluZXIsIHBvaW50LCBnbG9iYWxQb3MpIHtcbiAgICByZXR1cm4gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgbW9kaWZpZXIga2V5IHdhcyBwcmVzc2VkIHdoZW4gdGhpcyBldmVudCBuYXRpdmVseSBvY2N1cnJlZC5cbiAgICogQHBhcmFtIGtleSAtIFRoZSBtb2RpZmllciBrZXkuXG4gICAqL1xuICBnZXRNb2RpZmllclN0YXRlKGtleSkge1xuICAgIHJldHVybiBcImdldE1vZGlmaWVyU3RhdGVcIiBpbiB0aGlzLm5hdGl2ZUV2ZW50ICYmIHRoaXMubmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShrZXkpO1xuICB9XG4gIC8qKlxuICAgKiBOb3Qgc3VwcG9ydGVkLlxuICAgKiBAcGFyYW0gX3R5cGVBcmdcbiAgICogQHBhcmFtIF9jYW5CdWJibGVBcmdcbiAgICogQHBhcmFtIF9jYW5jZWxhYmxlQXJnXG4gICAqIEBwYXJhbSBfdmlld0FyZ1xuICAgKiBAcGFyYW0gX2RldGFpbEFyZ1xuICAgKiBAcGFyYW0gX3NjcmVlblhBcmdcbiAgICogQHBhcmFtIF9zY3JlZW5ZQXJnXG4gICAqIEBwYXJhbSBfY2xpZW50WEFyZ1xuICAgKiBAcGFyYW0gX2NsaWVudFlBcmdcbiAgICogQHBhcmFtIF9jdHJsS2V5QXJnXG4gICAqIEBwYXJhbSBfYWx0S2V5QXJnXG4gICAqIEBwYXJhbSBfc2hpZnRLZXlBcmdcbiAgICogQHBhcmFtIF9tZXRhS2V5QXJnXG4gICAqIEBwYXJhbSBfYnV0dG9uQXJnXG4gICAqIEBwYXJhbSBfcmVsYXRlZFRhcmdldEFyZ1xuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA3LjAuMFxuICAgKiBAaWdub3JlXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LXBhcmFtc1xuICBpbml0TW91c2VFdmVudChfdHlwZUFyZywgX2NhbkJ1YmJsZUFyZywgX2NhbmNlbGFibGVBcmcsIF92aWV3QXJnLCBfZGV0YWlsQXJnLCBfc2NyZWVuWEFyZywgX3NjcmVlbllBcmcsIF9jbGllbnRYQXJnLCBfY2xpZW50WUFyZywgX2N0cmxLZXlBcmcsIF9hbHRLZXlBcmcsIF9zaGlmdEtleUFyZywgX21ldGFLZXlBcmcsIF9idXR0b25BcmcsIF9yZWxhdGVkVGFyZ2V0QXJnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgRmVkZXJhdGVkTW91c2VFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkTW91c2VFdmVudC5tanMubWFwXG4iLCJpbXBvcnQgeyBGZWRlcmF0ZWRNb3VzZUV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRNb3VzZUV2ZW50Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgRmVkZXJhdGVkUG9pbnRlckV2ZW50IGV4dGVuZHMgRmVkZXJhdGVkTW91c2VFdmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB5LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICogcmFkaXVzWSBvZiBUb3VjaEV2ZW50cyB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBvaW50ZXIgZGV2aWNlIHRoYXQgY3JlYXRlZCB0aGUgZXZlbnQgaXMgdGhlIHByaW1hcnkgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaXNQcmltYXJ5XG4gICAgICovXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogT25seSBpbmNsdWRlZCBmb3IgY29tcGxldGVuZXNzIGZvciBub3dcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgZ2V0Q29hbGVzY2VkRXZlbnRzKCkge1xuICAgIGlmICh0aGlzLnR5cGUgPT09IFwicG9pbnRlcm1vdmVcIiB8fCB0aGlzLnR5cGUgPT09IFwibW91c2Vtb3ZlXCIgfHwgdGhpcy50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICByZXR1cm4gW3RoaXNdO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgLyoqXG4gICAqIE9ubHkgaW5jbHVkZWQgZm9yIGNvbXBsZXRlbmVzcyBmb3Igbm93XG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGdldFByZWRpY3RlZEV2ZW50cygpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJnZXRQcmVkaWN0ZWRFdmVudHMgaXMgbm90IHN1cHBvcnRlZCFcIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgRmVkZXJhdGVkUG9pbnRlckV2ZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRmVkZXJhdGVkTW91c2VFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkTW91c2VFdmVudC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEZlZGVyYXRlZFdoZWVsRXZlbnQgZXh0ZW5kcyBGZWRlcmF0ZWRNb3VzZUV2ZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBVbml0cyBzcGVjaWZpZWQgaW4gcGl4ZWxzLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLkRPTV9ERUxUQV9QSVhFTCA9IDA7XG4gICAgLyoqXG4gICAgICogVW5pdHMgc3BlY2lmaWVkIGluIGxpbmVzLlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICB0aGlzLkRPTV9ERUxUQV9MSU5FID0gMTtcbiAgICAvKipcbiAgICAgKiBVbml0cyBzcGVjaWZpZWQgaW4gcGFnZXMuXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHRoaXMuRE9NX0RFTFRBX1BBR0UgPSAyO1xuICB9XG59XG4vKipcbiAqIFVuaXRzIHNwZWNpZmllZCBpbiBwaXhlbHMuXG4gKiBAaWdub3JlXG4gKi9cbkZlZGVyYXRlZFdoZWVsRXZlbnQuRE9NX0RFTFRBX1BJWEVMID0gMDtcbi8qKlxuICogVW5pdHMgc3BlY2lmaWVkIGluIGxpbmVzLlxuICogQGlnbm9yZVxuICovXG5GZWRlcmF0ZWRXaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FID0gMTtcbi8qKlxuICogVW5pdHMgc3BlY2lmaWVkIGluIHBhZ2VzLlxuICogQGlnbm9yZVxuICovXG5GZWRlcmF0ZWRXaGVlbEV2ZW50LkRPTV9ERUxUQV9QQUdFID0gMjtcblxuZXhwb3J0IHsgRmVkZXJhdGVkV2hlZWxFdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkV2hlZWxFdmVudC5tanMubWFwXG4iLCJpbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi9tYXRocy9wb2ludC9Qb2ludC5tanMnO1xuaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuaW1wb3J0IHsgRXZlbnRzVGlja2VyIH0gZnJvbSAnLi9FdmVudFRpY2tlci5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkTW91c2VFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkTW91c2VFdmVudC5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkUG9pbnRlckV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRQb2ludGVyRXZlbnQubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZFdoZWVsRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFdoZWVsRXZlbnQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBQUk9QQUdBVElPTl9MSU1JVCA9IDIwNDg7XG5jb25zdCB0ZW1wSGl0TG9jYXRpb24gPSBuZXcgUG9pbnQoKTtcbmNvbnN0IHRlbXBMb2NhbE1hcHBpbmcgPSBuZXcgUG9pbnQoKTtcbmNsYXNzIEV2ZW50Qm91bmRhcnkge1xuICAvKipcbiAgICogQHBhcmFtIHJvb3RUYXJnZXQgLSBUaGUgaG9sZGVyIG9mIHRoZSBldmVudCBib3VuZGFyeS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvb3RUYXJnZXQpIHtcbiAgICAvKipcbiAgICAgKiBFbWl0cyBldmVudHMgYWZ0ZXIgdGhleSB3ZXJlIGRpc3BhdGNoZWQgaW50byB0aGUgc2NlbmUgZ3JhcGguXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIGZvciBnbG9iYWwgZXZlbnRzIGxpc3RlbmluZywgcmVnYXJkbGVzcyBvZiB0aGUgc2NlbmUgZ3JhcGggYmVpbmcgdXNlZC4gSXQgc2hvdWxkXG4gICAgICogbm90IGJlIHVzZWQgYnkgaW50ZXJhY3RpdmUgbGlicmFyaWVzIGZvciBub3JtYWwgdXNlLlxuICAgICAqXG4gICAgICogU3BlY2lhbCBldmVudHMgdGhhdCBkbyBub3QgYnViYmxlIGFsbCB0aGUgd2F5IHRvIHRoZSByb290IHRhcmdldCBhcmUgbm90IGVtaXR0ZWQgZnJvbSBoZXJlLFxuICAgICAqIGUuZy4gcG9pbnRlcmVudGVyLCBwb2ludGVybGVhdmUsIGNsaWNrLlxuICAgICAqL1xuICAgIHRoaXMuZGlzcGF0Y2ggPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgLyoqXG4gICAgICogVGhpcyBmbGFnIHdvdWxkIGVtaXQgYHBvaW50ZXJtb3ZlYCwgYHRvdWNobW92ZWAsIGFuZCBgbW91c2Vtb3ZlYCBldmVudHMgb24gYWxsIENvbnRhaW5lcnMuXG4gICAgICpcbiAgICAgKiBUaGUgYG1vdmVPbkFsbGAgc2VtYW50aWNzIG1pcnJvciB0aG9zZSBvZiBlYXJsaWVyIHZlcnNpb25zIG9mIFBpeGlKUy4gVGhpcyB3YXMgZGlzYWJsZWQgaW4gZmF2b3Igb2ZcbiAgICAgKiB0aGUgUG9pbnRlciBFdmVudCBBUEkncyBhcHByb2FjaC5cbiAgICAgKi9cbiAgICB0aGlzLm1vdmVPbkFsbCA9IGZhbHNlO1xuICAgIC8qKiBFbmFibGVzIHRoZSBnbG9iYWwgbW92ZSBldmVudHMuIGBnbG9iYWxwb2ludGVybW92ZWAsIGBnbG9iYWx0b3VjaG1vdmVgLCBhbmQgYGdsb2JhbG1vdXNlbW92ZWAgKi9cbiAgICB0aGlzLmVuYWJsZUdsb2JhbE1vdmVFdmVudHMgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFN0YXRlIG9iamVjdCBmb3IgbWFwcGluZyBtZXRob2RzLlxuICAgICAqIEBzZWUgRXZlbnRCb3VuZGFyeSN0cmFja2luZ0RhdGFcbiAgICAgKi9cbiAgICB0aGlzLm1hcHBpbmdTdGF0ZSA9IHtcbiAgICAgIHRyYWNraW5nRGF0YToge31cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBldmVudCBwb29sIG1hcHMgZXZlbnQgY29uc3RydWN0b3JzIHRvIGFuIGZyZWUgcG9vbCBvZiBpbnN0YW5jZXMgb2YgdGhvc2Ugc3BlY2lmaWMgZXZlbnRzLlxuICAgICAqIEBzZWUgRXZlbnRCb3VuZGFyeSNhbGxvY2F0ZUV2ZW50XG4gICAgICogQHNlZSBFdmVudEJvdW5kYXJ5I2ZyZWVFdmVudFxuICAgICAqL1xuICAgIHRoaXMuZXZlbnRQb29sID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAvKiogRXZlcnkgaW50ZXJhY3RpdmUgZWxlbWVudCBnYXRoZXJlZCBmcm9tIHRoZSBzY2VuZS4gT25seSB1c2VkIGluIGBwb2ludGVybW92ZWAgKi9cbiAgICB0aGlzLl9hbGxJbnRlcmFjdGl2ZUVsZW1lbnRzID0gW107XG4gICAgLyoqIEV2ZXJ5IGVsZW1lbnQgdGhhdCBwYXNzZWQgdGhlIGhpdCB0ZXN0LiBPbmx5IHVzZWQgaW4gYHBvaW50ZXJtb3ZlYCAqL1xuICAgIHRoaXMuX2hpdEVsZW1lbnRzID0gW107XG4gICAgLyoqIFdoZXRoZXIgb3Igbm90IHRvIGNvbGxlY3QgYWxsIHRoZSBpbnRlcmFjdGl2ZSBlbGVtZW50cyBmcm9tIHRoZSBzY2VuZS4gRW5hYmxlZCBpbiBgcG9pbnRlcm1vdmVgICovXG4gICAgdGhpcy5faXNQb2ludGVyTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgdGhpcy5yb290VGFyZ2V0ID0gcm9vdFRhcmdldDtcbiAgICB0aGlzLmhpdFBydW5lRm4gPSB0aGlzLmhpdFBydW5lRm4uYmluZCh0aGlzKTtcbiAgICB0aGlzLmhpdFRlc3RGbiA9IHRoaXMuaGl0VGVzdEZuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBQb2ludGVyRG93biA9IHRoaXMubWFwUG9pbnRlckRvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLm1hcFBvaW50ZXJNb3ZlID0gdGhpcy5tYXBQb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlck91dCA9IHRoaXMubWFwUG9pbnRlck91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlck92ZXIgPSB0aGlzLm1hcFBvaW50ZXJPdmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBQb2ludGVyVXAgPSB0aGlzLm1hcFBvaW50ZXJVcC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwUG9pbnRlclVwT3V0c2lkZSA9IHRoaXMubWFwUG9pbnRlclVwT3V0c2lkZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMubWFwV2hlZWwgPSB0aGlzLm1hcFdoZWVsLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tYXBwaW5nVGFibGUgPSB7fTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJkb3duXCIsIHRoaXMubWFwUG9pbnRlckRvd24pO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5tYXBQb2ludGVyTW92ZSk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVyb3V0XCIsIHRoaXMubWFwUG9pbnRlck91dCk7XG4gICAgdGhpcy5hZGRFdmVudE1hcHBpbmcoXCJwb2ludGVybGVhdmVcIiwgdGhpcy5tYXBQb2ludGVyT3V0KTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJvdmVyXCIsIHRoaXMubWFwUG9pbnRlck92ZXIpO1xuICAgIHRoaXMuYWRkRXZlbnRNYXBwaW5nKFwicG9pbnRlcnVwXCIsIHRoaXMubWFwUG9pbnRlclVwKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcInBvaW50ZXJ1cG91dHNpZGVcIiwgdGhpcy5tYXBQb2ludGVyVXBPdXRzaWRlKTtcbiAgICB0aGlzLmFkZEV2ZW50TWFwcGluZyhcIndoZWVsXCIsIHRoaXMubWFwV2hlZWwpO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGFuIGV2ZW50IG1hcHBpbmcgZm9yIHRoZSBldmVudCBgdHlwZWAgaGFuZGxlZCBieSBgZm5gLlxuICAgKlxuICAgKiBFdmVudCBtYXBwaW5ncyBjYW4gYmUgdXNlZCB0byBpbXBsZW1lbnQgYWRkaXRpb25hbCBvciBjdXN0b20gZXZlbnRzLiBUaGV5IHRha2UgYW4gZXZlbnRcbiAgICogY29taW5nIGZyb20gdGhlIHVwc3RyZWFtIHNjZW5lIChvciBkaXJlY3RseSBmcm9tIHRoZSB7QGxpbmsgRXZlbnRTeXN0ZW19KSBhbmQgZGlzcGF0Y2ggbmV3IGRvd25zdHJlYW0gZXZlbnRzXG4gICAqIGdlbmVyYWxseSB0cmlja2xpbmcgZG93biBhbmQgYnViYmxpbmcgdXAgdG8ge0BsaW5rIEV2ZW50Qm91bmRhcnkucm9vdFRhcmdldCB0aGlzLnJvb3RUYXJnZXR9LlxuICAgKlxuICAgKiBUbyBtb2RpZnkgdGhlIHNlbWFudGljcyBvZiBleGlzdGluZyBldmVudHMsIHRoZSBidWlsdC1pbiBtYXBwaW5nIG1ldGhvZHMgb2YgRXZlbnRCb3VuZGFyeSBzaG91bGQgYmUgb3ZlcnJpZGRlblxuICAgKiBpbnN0ZWFkLlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIHVwc3RyZWFtIGV2ZW50IHRvIG1hcC5cbiAgICogQHBhcmFtIGZuIC0gVGhlIG1hcHBpbmcgbWV0aG9kLiBUaGUgY29udGV4dCBvZiB0aGlzIGZ1bmN0aW9uIG11c3QgYmUgYm91bmQgbWFudWFsbHksIGlmIGRlc2lyZWQuXG4gICAqL1xuICBhZGRFdmVudE1hcHBpbmcodHlwZSwgZm4pIHtcbiAgICBpZiAoIXRoaXMubWFwcGluZ1RhYmxlW3R5cGVdKSB7XG4gICAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXS5wdXNoKHtcbiAgICAgIGZuLFxuICAgICAgcHJpb3JpdHk6IDBcbiAgICB9KTtcbiAgICB0aGlzLm1hcHBpbmdUYWJsZVt0eXBlXS5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gIH1cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgdGhlIGdpdmVuIGV2ZW50XG4gICAqIEBwYXJhbSBlIC0gVGhlIGV2ZW50IHRvIGRpc3BhdGNoLlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIGV2ZW50IHRvIGRpc3BhdGNoLiBEZWZhdWx0cyB0byBgZS50eXBlYC5cbiAgICovXG4gIGRpc3BhdGNoRXZlbnQoZSwgdHlwZSkge1xuICAgIGUucHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2U7XG4gICAgZS5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZCA9IGZhbHNlO1xuICAgIHRoaXMucHJvcGFnYXRlKGUsIHR5cGUpO1xuICAgIHRoaXMuZGlzcGF0Y2guZW1pdCh0eXBlIHx8IGUudHlwZSwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIGdpdmVuIHVwc3RyZWFtIGV2ZW50IHRocm91Z2ggdGhlIGV2ZW50IGJvdW5kYXJ5IGFuZCBwcm9wYWdhdGVzIGl0IGRvd25zdHJlYW0uXG4gICAqIEBwYXJhbSBlIC0gVGhlIGV2ZW50IHRvIG1hcC5cbiAgICovXG4gIG1hcEV2ZW50KGUpIHtcbiAgICBpZiAoIXRoaXMucm9vdFRhcmdldCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtYXBwZXJzID0gdGhpcy5tYXBwaW5nVGFibGVbZS50eXBlXTtcbiAgICBpZiAobWFwcGVycykge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBtYXBwZXJzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBtYXBwZXJzW2ldLmZuKGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGBbRXZlbnRCb3VuZGFyeV06IEV2ZW50IG1hcHBpbmcgbm90IGRlZmluZWQgZm9yICR7ZS50eXBlfWApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluZHMgdGhlIENvbnRhaW5lciB0aGF0IGlzIHRoZSB0YXJnZXQgb2YgYSBldmVudCBhdCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMuXG4gICAqXG4gICAqIFRoZSBwYXNzZWQgKHgseSkgY29vcmRpbmF0ZXMgYXJlIGluIHRoZSB3b3JsZCBzcGFjZSBhYm92ZSB0aGlzIGV2ZW50IGJvdW5kYXJ5LlxuICAgKiBAcGFyYW0geCAtIFRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0geSAtIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIGV2ZW50LlxuICAgKi9cbiAgaGl0VGVzdCh4LCB5KSB7XG4gICAgRXZlbnRzVGlja2VyLnBhdXNlVXBkYXRlID0gdHJ1ZTtcbiAgICBjb25zdCB1c2VNb3ZlID0gdGhpcy5faXNQb2ludGVyTW92ZUV2ZW50ICYmIHRoaXMuZW5hYmxlR2xvYmFsTW92ZUV2ZW50cztcbiAgICBjb25zdCBmbiA9IHVzZU1vdmUgPyBcImhpdFRlc3RNb3ZlUmVjdXJzaXZlXCIgOiBcImhpdFRlc3RSZWN1cnNpdmVcIjtcbiAgICBjb25zdCBpbnZlcnRlZFBhdGggPSB0aGlzW2ZuXShcbiAgICAgIHRoaXMucm9vdFRhcmdldCxcbiAgICAgIHRoaXMucm9vdFRhcmdldC5ldmVudE1vZGUsXG4gICAgICB0ZW1wSGl0TG9jYXRpb24uc2V0KHgsIHkpLFxuICAgICAgdGhpcy5oaXRUZXN0Rm4sXG4gICAgICB0aGlzLmhpdFBydW5lRm5cbiAgICApO1xuICAgIHJldHVybiBpbnZlcnRlZFBhdGggJiYgaW52ZXJ0ZWRQYXRoWzBdO1xuICB9XG4gIC8qKlxuICAgKiBQcm9wYWdhdGUgdGhlIHBhc3NlZCBldmVudCBmcm9tIGZyb20ge0BsaW5rIEV2ZW50Qm91bmRhcnkucm9vdFRhcmdldCB0aGlzLnJvb3RUYXJnZXR9IHRvIGl0c1xuICAgKiB0YXJnZXQgYGUudGFyZ2V0YC5cbiAgICogQHBhcmFtIGUgLSBUaGUgZXZlbnQgdG8gcHJvcGFnYXRlLlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIGV2ZW50IHRvIHByb3BhZ2F0ZS4gRGVmYXVsdHMgdG8gYGUudHlwZWAuXG4gICAqL1xuICBwcm9wYWdhdGUoZSwgdHlwZSkge1xuICAgIGlmICghZS50YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29tcG9zZWRQYXRoID0gZS5jb21wb3NlZFBhdGgoKTtcbiAgICBlLmV2ZW50UGhhc2UgPSBlLkNBUFRVUklOR19QSEFTRTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IGNvbXBvc2VkUGF0aC5sZW5ndGggLSAxOyBpIDwgajsgaSsrKSB7XG4gICAgICBlLmN1cnJlbnRUYXJnZXQgPSBjb21wb3NlZFBhdGhbaV07XG4gICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCB0eXBlKTtcbiAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCB8fCBlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkKVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGUuZXZlbnRQaGFzZSA9IGUuQVRfVEFSR0VUO1xuICAgIGUuY3VycmVudFRhcmdldCA9IGUudGFyZ2V0O1xuICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIHR5cGUpO1xuICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCB8fCBlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGUuZXZlbnRQaGFzZSA9IGUuQlVCQkxJTkdfUEhBU0U7XG4gICAgZm9yIChsZXQgaSA9IGNvbXBvc2VkUGF0aC5sZW5ndGggLSAyOyBpID49IDA7IGktLSkge1xuICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gY29tcG9zZWRQYXRoW2ldO1xuICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgdHlwZSk7XG4gICAgICBpZiAoZS5wcm9wYWdhdGlvblN0b3BwZWQgfHwgZS5wcm9wYWdhdGlvbkltbWVkaWF0ZWx5U3RvcHBlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW1pdHMgdGhlIGV2ZW50IGBlYCB0byBhbGwgaW50ZXJhY3RpdmUgY29udGFpbmVycy4gVGhlIGV2ZW50IGlzIHByb3BhZ2F0ZWQgaW4gdGhlIGJ1YmJsaW5nIHBoYXNlIGFsd2F5cy5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VkIGluIHRoZSBgZ2xvYmFscG9pbnRlcm1vdmVgIGV2ZW50LlxuICAgKiBAcGFyYW0gZSAtIFRoZSBlbWl0dGVkIGV2ZW50LlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSBsaXN0ZW5lcnMgdG8gbm90aWZ5LlxuICAgKiBAcGFyYW0gdGFyZ2V0cyAtIFRoZSB0YXJnZXRzIHRvIG5vdGlmeS5cbiAgICovXG4gIGFsbChlLCB0eXBlLCB0YXJnZXRzID0gdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cykge1xuICAgIGlmICh0YXJnZXRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybjtcbiAgICBlLmV2ZW50UGhhc2UgPSBlLkJVQkJMSU5HX1BIQVNFO1xuICAgIGNvbnN0IGV2ZW50cyA9IEFycmF5LmlzQXJyYXkodHlwZSkgPyB0eXBlIDogW3R5cGVdO1xuICAgIGZvciAobGV0IGkgPSB0YXJnZXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0ID0gdGFyZ2V0c1tpXTtcbiAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgcHJvcGFnYXRpb24gcGF0aCBmcm9tIHtAbGluayBFdmVudEJvdW5kYXJ5LnJvb3RUYXJnZXQgcm9vdFRhcmdldH0gdG8gdGhlIHBhc3NlZFxuICAgKiBgdGFyZ2V0YC4gVGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgcGF0aCBpcyBgdGFyZ2V0YC5cbiAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgdG8gZmluZCB0aGUgcHJvcGFnYXRpb24gcGF0aCB0by5cbiAgICovXG4gIHByb3BhZ2F0aW9uUGF0aCh0YXJnZXQpIHtcbiAgICBjb25zdCBwcm9wYWdhdGlvblBhdGggPSBbdGFyZ2V0XTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFBST1BBR0FUSU9OX0xJTUlUICYmICh0YXJnZXQgIT09IHRoaXMucm9vdFRhcmdldCAmJiB0YXJnZXQucGFyZW50KTsgaSsrKSB7XG4gICAgICBpZiAoIXRhcmdldC5wYXJlbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgcHJvcGFnYXRpb24gcGF0aCB0byBkaXNjb25uZWN0ZWQgdGFyZ2V0XCIpO1xuICAgICAgfVxuICAgICAgcHJvcGFnYXRpb25QYXRoLnB1c2godGFyZ2V0LnBhcmVudCk7XG4gICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50O1xuICAgIH1cbiAgICBwcm9wYWdhdGlvblBhdGgucmV2ZXJzZSgpO1xuICAgIHJldHVybiBwcm9wYWdhdGlvblBhdGg7XG4gIH1cbiAgaGl0VGVzdE1vdmVSZWN1cnNpdmUoY3VycmVudFRhcmdldCwgZXZlbnRNb2RlLCBsb2NhdGlvbiwgdGVzdEZuLCBwcnVuZUZuLCBpZ25vcmUgPSBmYWxzZSkge1xuICAgIGxldCBzaG91bGRSZXR1cm4gPSBmYWxzZTtcbiAgICBpZiAodGhpcy5faW50ZXJhY3RpdmVQcnVuZShjdXJyZW50VGFyZ2V0KSlcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGlmIChjdXJyZW50VGFyZ2V0LmV2ZW50TW9kZSA9PT0gXCJkeW5hbWljXCIgfHwgZXZlbnRNb2RlID09PSBcImR5bmFtaWNcIikge1xuICAgICAgRXZlbnRzVGlja2VyLnBhdXNlVXBkYXRlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VGFyZ2V0LmludGVyYWN0aXZlQ2hpbGRyZW4gJiYgY3VycmVudFRhcmdldC5jaGlsZHJlbikge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBjdXJyZW50VGFyZ2V0LmNoaWxkcmVuO1xuICAgICAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIGNvbnN0IG5lc3RlZEhpdCA9IHRoaXMuaGl0VGVzdE1vdmVSZWN1cnNpdmUoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgdGhpcy5faXNJbnRlcmFjdGl2ZShldmVudE1vZGUpID8gZXZlbnRNb2RlIDogY2hpbGQuZXZlbnRNb2RlLFxuICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgIHRlc3RGbixcbiAgICAgICAgICBwcnVuZUZuLFxuICAgICAgICAgIGlnbm9yZSB8fCBwcnVuZUZuKGN1cnJlbnRUYXJnZXQsIGxvY2F0aW9uKVxuICAgICAgICApO1xuICAgICAgICBpZiAobmVzdGVkSGl0KSB7XG4gICAgICAgICAgaWYgKG5lc3RlZEhpdC5sZW5ndGggPiAwICYmICFuZXN0ZWRIaXRbbmVzdGVkSGl0Lmxlbmd0aCAtIDFdLnBhcmVudCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGlzSW50ZXJhY3RpdmUgPSBjdXJyZW50VGFyZ2V0LmlzSW50ZXJhY3RpdmUoKTtcbiAgICAgICAgICBpZiAobmVzdGVkSGl0Lmxlbmd0aCA+IDAgfHwgaXNJbnRlcmFjdGl2ZSkge1xuICAgICAgICAgICAgaWYgKGlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICAgIHRoaXMuX2FsbEludGVyYWN0aXZlRWxlbWVudHMucHVzaChjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIG5lc3RlZEhpdC5wdXNoKGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5faGl0RWxlbWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgdGhpcy5faGl0RWxlbWVudHMgPSBuZXN0ZWRIaXQ7XG4gICAgICAgICAgc2hvdWxkUmV0dXJuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpc0ludGVyYWN0aXZlTW9kZSA9IHRoaXMuX2lzSW50ZXJhY3RpdmUoZXZlbnRNb2RlKTtcbiAgICBjb25zdCBpc0ludGVyYWN0aXZlVGFyZ2V0ID0gY3VycmVudFRhcmdldC5pc0ludGVyYWN0aXZlKCk7XG4gICAgaWYgKGlzSW50ZXJhY3RpdmVUYXJnZXQgJiYgaXNJbnRlcmFjdGl2ZVRhcmdldClcbiAgICAgIHRoaXMuX2FsbEludGVyYWN0aXZlRWxlbWVudHMucHVzaChjdXJyZW50VGFyZ2V0KTtcbiAgICBpZiAoaWdub3JlIHx8IHRoaXMuX2hpdEVsZW1lbnRzLmxlbmd0aCA+IDApXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoc2hvdWxkUmV0dXJuKVxuICAgICAgcmV0dXJuIHRoaXMuX2hpdEVsZW1lbnRzO1xuICAgIGlmIChpc0ludGVyYWN0aXZlTW9kZSAmJiAoIXBydW5lRm4oY3VycmVudFRhcmdldCwgbG9jYXRpb24pICYmIHRlc3RGbihjdXJyZW50VGFyZ2V0LCBsb2NhdGlvbikpKSB7XG4gICAgICByZXR1cm4gaXNJbnRlcmFjdGl2ZVRhcmdldCA/IFtjdXJyZW50VGFyZ2V0XSA6IFtdO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvKipcbiAgICogUmVjdXJzaXZlIGltcGxlbWVudGF0aW9uIGZvciB7QGxpbmsgRXZlbnRCb3VuZGFyeS5oaXRUZXN0IGhpdFRlc3R9LlxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIFRoZSBDb250YWluZXIgdGhhdCBpcyB0byBiZSBoaXQgdGVzdGVkLlxuICAgKiBAcGFyYW0gZXZlbnRNb2RlIC0gVGhlIGV2ZW50IG1vZGUgZm9yIHRoZSBgY3VycmVudFRhcmdldGAgb3Igb25lIG9mIGl0cyBwYXJlbnRzLlxuICAgKiBAcGFyYW0gbG9jYXRpb24gLSBUaGUgbG9jYXRpb24gdGhhdCBpcyBiZWluZyB0ZXN0ZWQgZm9yIG92ZXJsYXAuXG4gICAqIEBwYXJhbSB0ZXN0Rm4gLSBDYWxsYmFjayB0aGF0IGRldGVybWluZXMgd2hldGhlciB0aGUgdGFyZ2V0IHBhc3NlcyBoaXQgdGVzdGluZy4gVGhpcyBjYWxsYmFja1xuICAgKiAgY2FuIGFzc3VtZSB0aGF0IGBwcnVuZUZuYCBmYWlsZWQgdG8gcHJ1bmUgdGhlIGNvbnRhaW5lci5cbiAgICogQHBhcmFtIHBydW5lRm4gLSBDYWxsYmFjayB0aGF0IGRldGVybWluZXNzIHdoZXRoZXIgdGhlIHRhcmdldCBhbmQgYWxsIG9mIGl0cyBjaGlsZHJlblxuICAgKiAgY2Fubm90IHBhc3MgdGhlIGhpdCB0ZXN0LiBJdCBpcyB1c2VkIGFzIGEgcHJlbGltaW5hcnkgb3B0aW1pemF0aW9uIHRvIHBydW5lIGVudGlyZSBzdWJ0cmVlc1xuICAgKiAgb2YgdGhlIHNjZW5lIGdyYXBoLlxuICAgKiBAcmV0dXJucyBBbiBhcnJheSBob2xkaW5nIHRoZSBoaXQgdGVzdGluZyB0YXJnZXQgYW5kIGFsbCBpdHMgYW5jZXN0b3JzIGluIG9yZGVyLiBUaGUgZmlyc3QgZWxlbWVudFxuICAgKiAgaXMgdGhlIHRhcmdldCBpdHNlbGYgYW5kIHRoZSBsYXN0IGlzIHtAbGluayBFdmVudEJvdW5kYXJ5LnJvb3RUYXJnZXQgcm9vdFRhcmdldH0uIFRoaXMgaXMgdGhlIG9wcG9zaXRlXG4gICAqICBvcmRlciB3LnIudC4gdGhlIHByb3BhZ2F0aW9uIHBhdGguIElmIG5vIGhpdCB0ZXN0aW5nIHRhcmdldCBpcyBmb3VuZCwgbnVsbCBpcyByZXR1cm5lZC5cbiAgICovXG4gIGhpdFRlc3RSZWN1cnNpdmUoY3VycmVudFRhcmdldCwgZXZlbnRNb2RlLCBsb2NhdGlvbiwgdGVzdEZuLCBwcnVuZUZuKSB7XG4gICAgaWYgKHRoaXMuX2ludGVyYWN0aXZlUHJ1bmUoY3VycmVudFRhcmdldCkgfHwgcHJ1bmVGbihjdXJyZW50VGFyZ2V0LCBsb2NhdGlvbikpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFRhcmdldC5ldmVudE1vZGUgPT09IFwiZHluYW1pY1wiIHx8IGV2ZW50TW9kZSA9PT0gXCJkeW5hbWljXCIpIHtcbiAgICAgIEV2ZW50c1RpY2tlci5wYXVzZVVwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFRhcmdldC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGN1cnJlbnRUYXJnZXQuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gY3VycmVudFRhcmdldC5jaGlsZHJlbjtcbiAgICAgIGNvbnN0IHJlbGF0aXZlTG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgIGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBjb25zdCBuZXN0ZWRIaXQgPSB0aGlzLmhpdFRlc3RSZWN1cnNpdmUoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgdGhpcy5faXNJbnRlcmFjdGl2ZShldmVudE1vZGUpID8gZXZlbnRNb2RlIDogY2hpbGQuZXZlbnRNb2RlLFxuICAgICAgICAgIHJlbGF0aXZlTG9jYXRpb24sXG4gICAgICAgICAgdGVzdEZuLFxuICAgICAgICAgIHBydW5lRm5cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKG5lc3RlZEhpdCkge1xuICAgICAgICAgIGlmIChuZXN0ZWRIaXQubGVuZ3RoID4gMCAmJiAhbmVzdGVkSGl0W25lc3RlZEhpdC5sZW5ndGggLSAxXS5wYXJlbnQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpc0ludGVyYWN0aXZlID0gY3VycmVudFRhcmdldC5pc0ludGVyYWN0aXZlKCk7XG4gICAgICAgICAgaWYgKG5lc3RlZEhpdC5sZW5ndGggPiAwIHx8IGlzSW50ZXJhY3RpdmUpXG4gICAgICAgICAgICBuZXN0ZWRIaXQucHVzaChjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICByZXR1cm4gbmVzdGVkSGl0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmVNb2RlID0gdGhpcy5faXNJbnRlcmFjdGl2ZShldmVudE1vZGUpO1xuICAgIGNvbnN0IGlzSW50ZXJhY3RpdmVUYXJnZXQgPSBjdXJyZW50VGFyZ2V0LmlzSW50ZXJhY3RpdmUoKTtcbiAgICBpZiAoaXNJbnRlcmFjdGl2ZU1vZGUgJiYgdGVzdEZuKGN1cnJlbnRUYXJnZXQsIGxvY2F0aW9uKSkge1xuICAgICAgcmV0dXJuIGlzSW50ZXJhY3RpdmVUYXJnZXQgPyBbY3VycmVudFRhcmdldF0gOiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgX2lzSW50ZXJhY3RpdmUoaW50KSB7XG4gICAgcmV0dXJuIGludCA9PT0gXCJzdGF0aWNcIiB8fCBpbnQgPT09IFwiZHluYW1pY1wiO1xuICB9XG4gIF9pbnRlcmFjdGl2ZVBydW5lKGNvbnRhaW5lcikge1xuICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIudmlzaWJsZSB8fCAhY29udGFpbmVyLnJlbmRlcmFibGUgfHwgIWNvbnRhaW5lci5tZWFzdXJhYmxlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ldmVudE1vZGUgPT09IFwibm9uZVwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5ldmVudE1vZGUgPT09IFwicGFzc2l2ZVwiICYmICFjb250YWluZXIuaW50ZXJhY3RpdmVDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGNvbnRhaW5lciBvciBhbnkgb2YgaXRzIGNoaWxkcmVuIGNhbm5vdCBwYXNzIHRoZSBoaXQgdGVzdCBhdCBhbGwuXG4gICAqXG4gICAqIHtAbGluayBFdmVudEJvdW5kYXJ5fSdzIGltcGxlbWVudGF0aW9uIHVzZXMgdGhlIHtAbGluayBDb250YWluZXIuaGl0QXJlYSBoaXRBcmVhfVxuICAgKiBhbmQge0BsaW5rIENvbnRhaW5lci5fbWFza0VmZmVjdH0gZm9yIHBydW5pbmcuXG4gICAqIEBwYXJhbSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHBydW5lLlxuICAgKiBAcGFyYW0gbG9jYXRpb24gLSBUaGUgbG9jYXRpb24gdG8gdGVzdCBmb3Igb3ZlcmxhcC5cbiAgICovXG4gIGhpdFBydW5lRm4oY29udGFpbmVyLCBsb2NhdGlvbikge1xuICAgIGlmIChjb250YWluZXIuaGl0QXJlYSkge1xuICAgICAgY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShsb2NhdGlvbiwgdGVtcExvY2FsTWFwcGluZyk7XG4gICAgICBpZiAoIWNvbnRhaW5lci5oaXRBcmVhLmNvbnRhaW5zKHRlbXBMb2NhbE1hcHBpbmcueCwgdGVtcExvY2FsTWFwcGluZy55KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lci5lZmZlY3RzICYmIGNvbnRhaW5lci5lZmZlY3RzLmxlbmd0aCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250YWluZXIuZWZmZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlZmZlY3QgPSBjb250YWluZXIuZWZmZWN0c1tpXTtcbiAgICAgICAgaWYgKGVmZmVjdC5jb250YWluc1BvaW50KSB7XG4gICAgICAgICAgY29uc3QgZWZmZWN0Q29udGFpbnNQb2ludCA9IGVmZmVjdC5jb250YWluc1BvaW50KGxvY2F0aW9uLCB0aGlzLmhpdFRlc3RGbik7XG4gICAgICAgICAgaWYgKCFlZmZlY3RDb250YWluc1BvaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgY29udGFpbmVyIHBhc3NlcyBoaXQgdGVzdGluZyBmb3IgdGhlIGdpdmVuIGxvY2F0aW9uLlxuICAgKiBAcGFyYW0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byB0ZXN0LlxuICAgKiBAcGFyYW0gbG9jYXRpb24gLSBUaGUgbG9jYXRpb24gdG8gdGVzdCBmb3Igb3ZlcmxhcC5cbiAgICogQHJldHVybnMgLSBXaGV0aGVyIGBjb250YWluZXJgIHBhc3NlcyBoaXQgdGVzdGluZyBmb3IgYGxvY2F0aW9uYC5cbiAgICovXG4gIGhpdFRlc3RGbihjb250YWluZXIsIGxvY2F0aW9uKSB7XG4gICAgaWYgKGNvbnRhaW5lci5oaXRBcmVhKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lcj8uY29udGFpbnNQb2ludCkge1xuICAgICAgY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShsb2NhdGlvbiwgdGVtcExvY2FsTWFwcGluZyk7XG4gICAgICByZXR1cm4gY29udGFpbmVyLmNvbnRhaW5zUG9pbnQodGVtcExvY2FsTWFwcGluZyk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogTm90aWZ5IGFsbCB0aGUgbGlzdGVuZXJzIHRvIHRoZSBldmVudCdzIGBjdXJyZW50VGFyZ2V0YC5cbiAgICpcbiAgICogSWYgdGhlIGBjdXJyZW50VGFyZ2V0YCBjb250YWlucyB0aGUgcHJvcGVydHkgYG9uPHR5cGU+YCwgdGhlbiBpdCBpcyBjYWxsZWQgaGVyZSxcbiAgICogc2ltdWxhdGluZyB0aGUgYmVoYXZpb3IgZnJvbSB2ZXJzaW9uIDYueCBhbmQgcHJpb3IuXG4gICAqIEBwYXJhbSBlIC0gVGhlIGV2ZW50IHBhc3NlZCB0byB0aGUgdGFyZ2V0LlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIGV2ZW50IHRvIG5vdGlmeS4gRGVmYXVsdHMgdG8gYGUudHlwZWAuXG4gICAqL1xuICBub3RpZnlUYXJnZXQoZSwgdHlwZSkge1xuICAgIGlmICghZS5jdXJyZW50VGFyZ2V0LmlzSW50ZXJhY3RpdmUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0eXBlID8/ICh0eXBlID0gZS50eXBlKTtcbiAgICBjb25zdCBoYW5kbGVyS2V5ID0gYG9uJHt0eXBlfWA7XG4gICAgZS5jdXJyZW50VGFyZ2V0W2hhbmRsZXJLZXldPy4oZSk7XG4gICAgY29uc3Qga2V5ID0gZS5ldmVudFBoYXNlID09PSBlLkNBUFRVUklOR19QSEFTRSB8fCBlLmV2ZW50UGhhc2UgPT09IGUuQVRfVEFSR0VUID8gYCR7dHlwZX1jYXB0dXJlYCA6IHR5cGU7XG4gICAgdGhpcy5fbm90aWZ5TGlzdGVuZXJzKGUsIGtleSk7XG4gICAgaWYgKGUuZXZlbnRQaGFzZSA9PT0gZS5BVF9UQVJHRVQpIHtcbiAgICAgIHRoaXMuX25vdGlmeUxpc3RlbmVycyhlLCB0eXBlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIHVwc3RyZWFtIGBwb2ludGVyZG93bmAgZXZlbnRzIHRvIGEgZG93bnN0cmVhbSBgcG9pbnRlcmRvd25gIGV2ZW50LlxuICAgKlxuICAgKiBgdG91Y2hzdGFydGAsIGByaWdodGRvd25gLCBgbW91c2Vkb3duYCBldmVudHMgYXJlIGFsc28gZGlzcGF0Y2hlZCBmb3Igc3BlY2lmaWMgcG9pbnRlciB0eXBlcy5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgdXBzdHJlYW0gYHBvaW50ZXJkb3duYCBldmVudC5cbiAgICovXG4gIG1hcFBvaW50ZXJEb3duKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgd2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInBvaW50ZXJkb3duXCIpO1xuICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInRvdWNoc3RhcnRcIik7XG4gICAgfSBlbHNlIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIikge1xuICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGUuYnV0dG9uID09PSAyO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGUsIGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0ZG93blwiIDogXCJtb3VzZWRvd25cIik7XG4gICAgfVxuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICB0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dID0gZS5jb21wb3NlZFBhdGgoKTtcbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgfVxuICAvKipcbiAgICogTWFwcyB0aGUgdXBzdHJlYW0gYHBvaW50ZXJtb3ZlYCB0byBkb3duc3RyZWFtIGBwb2ludGVyb3V0YCwgYHBvaW50ZXJvdmVyYCwgYW5kIGBwb2ludGVybW92ZWAgZXZlbnRzLCBpbiB0aGF0IG9yZGVyLlxuICAgKlxuICAgKiBUaGUgdHJhY2tpbmcgZGF0YSBmb3IgdGhlIHNwZWNpZmljIHBvaW50ZXIgaGFzIGFuIHVwZGF0ZWQgYG92ZXJUYXJnZXRgLiBgbW91c2VvdXRgLCBgbW91c2VvdmVyYCxcbiAgICogYG1vdXNlbW92ZWAsIGFuZCBgdG91Y2htb3ZlYCBldmVudHMgYXJlIGZpcmVkIGFzIHdlbGwgZm9yIHNwZWNpZmljIHBvaW50ZXIgdHlwZXMuXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHVwc3RyZWFtIGBwb2ludGVybW92ZWAgZXZlbnQuXG4gICAqL1xuICBtYXBQb2ludGVyTW92ZShmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHdhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24tcG9pbnRlciBldmVudCBhcyBhIHBvaW50ZXIgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2FsbEludGVyYWN0aXZlRWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9oaXRFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX2lzUG9pbnRlck1vdmVFdmVudCA9IHRydWU7XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20pO1xuICAgIHRoaXMuX2lzUG9pbnRlck1vdmVFdmVudCA9IGZhbHNlO1xuICAgIGNvbnN0IGlzTW91c2UgPSBlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIjtcbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgY29uc3Qgb3V0VGFyZ2V0ID0gdGhpcy5maW5kTW91bnRlZFRhcmdldCh0cmFja2luZ0RhdGEub3ZlclRhcmdldHMpO1xuICAgIGlmICh0cmFja2luZ0RhdGEub3ZlclRhcmdldHM/Lmxlbmd0aCA+IDAgJiYgb3V0VGFyZ2V0ICE9PSBlLnRhcmdldCkge1xuICAgICAgY29uc3Qgb3V0VHlwZSA9IGZyb20udHlwZSA9PT0gXCJtb3VzZW1vdmVcIiA/IFwibW91c2VvdXRcIiA6IFwicG9pbnRlcm91dFwiO1xuICAgICAgY29uc3Qgb3V0RXZlbnQgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tLCBvdXRUeXBlLCBvdXRUYXJnZXQpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG91dEV2ZW50LCBcInBvaW50ZXJvdXRcIik7XG4gICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG91dEV2ZW50LCBcIm1vdXNlb3V0XCIpO1xuICAgICAgaWYgKCFlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKG91dFRhcmdldCkpIHtcbiAgICAgICAgY29uc3QgbGVhdmVFdmVudCA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20sIFwicG9pbnRlcmxlYXZlXCIsIG91dFRhcmdldCk7XG4gICAgICAgIGxlYXZlRXZlbnQuZXZlbnRQaGFzZSA9IGxlYXZlRXZlbnQuQVRfVEFSR0VUO1xuICAgICAgICB3aGlsZSAobGVhdmVFdmVudC50YXJnZXQgJiYgIWUuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMobGVhdmVFdmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgbGVhdmVFdmVudC5jdXJyZW50VGFyZ2V0ID0gbGVhdmVFdmVudC50YXJnZXQ7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQobGVhdmVFdmVudCk7XG4gICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChsZWF2ZUV2ZW50LCBcIm1vdXNlbGVhdmVcIik7XG4gICAgICAgICAgbGVhdmVFdmVudC50YXJnZXQgPSBsZWF2ZUV2ZW50LnRhcmdldC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmVlRXZlbnQobGVhdmVFdmVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZyZWVFdmVudChvdXRFdmVudCk7XG4gICAgfVxuICAgIGlmIChvdXRUYXJnZXQgIT09IGUudGFyZ2V0KSB7XG4gICAgICBjb25zdCBvdmVyVHlwZSA9IGZyb20udHlwZSA9PT0gXCJtb3VzZW1vdmVcIiA/IFwibW91c2VvdmVyXCIgOiBcInBvaW50ZXJvdmVyXCI7XG4gICAgICBjb25zdCBvdmVyRXZlbnQgPSB0aGlzLmNsb25lUG9pbnRlckV2ZW50KGUsIG92ZXJUeXBlKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChvdmVyRXZlbnQsIFwicG9pbnRlcm92ZXJcIik7XG4gICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG92ZXJFdmVudCwgXCJtb3VzZW92ZXJcIik7XG4gICAgICBsZXQgb3ZlclRhcmdldEFuY2VzdG9yID0gb3V0VGFyZ2V0Py5wYXJlbnQ7XG4gICAgICB3aGlsZSAob3ZlclRhcmdldEFuY2VzdG9yICYmIG92ZXJUYXJnZXRBbmNlc3RvciAhPT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudCkge1xuICAgICAgICBpZiAob3ZlclRhcmdldEFuY2VzdG9yID09PSBlLnRhcmdldClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgb3ZlclRhcmdldEFuY2VzdG9yID0gb3ZlclRhcmdldEFuY2VzdG9yLnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpZFBvaW50ZXJFbnRlciA9ICFvdmVyVGFyZ2V0QW5jZXN0b3IgfHwgb3ZlclRhcmdldEFuY2VzdG9yID09PSB0aGlzLnJvb3RUYXJnZXQucGFyZW50O1xuICAgICAgaWYgKGRpZFBvaW50ZXJFbnRlcikge1xuICAgICAgICBjb25zdCBlbnRlckV2ZW50ID0gdGhpcy5jbG9uZVBvaW50ZXJFdmVudChlLCBcInBvaW50ZXJlbnRlclwiKTtcbiAgICAgICAgZW50ZXJFdmVudC5ldmVudFBoYXNlID0gZW50ZXJFdmVudC5BVF9UQVJHRVQ7XG4gICAgICAgIHdoaWxlIChlbnRlckV2ZW50LnRhcmdldCAmJiBlbnRlckV2ZW50LnRhcmdldCAhPT0gb3V0VGFyZ2V0ICYmIGVudGVyRXZlbnQudGFyZ2V0ICE9PSB0aGlzLnJvb3RUYXJnZXQucGFyZW50KSB7XG4gICAgICAgICAgZW50ZXJFdmVudC5jdXJyZW50VGFyZ2V0ID0gZW50ZXJFdmVudC50YXJnZXQ7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZW50ZXJFdmVudCk7XG4gICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50LCBcIm1vdXNlZW50ZXJcIik7XG4gICAgICAgICAgZW50ZXJFdmVudC50YXJnZXQgPSBlbnRlckV2ZW50LnRhcmdldC5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmVlRXZlbnQoZW50ZXJFdmVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZyZWVFdmVudChvdmVyRXZlbnQpO1xuICAgIH1cbiAgICBjb25zdCBhbGxNZXRob2RzID0gW107XG4gICAgY29uc3QgYWxsb3dHbG9iYWxQb2ludGVyRXZlbnRzID0gdGhpcy5lbmFibGVHbG9iYWxNb3ZlRXZlbnRzID8/IHRydWU7XG4gICAgdGhpcy5tb3ZlT25BbGwgPyBhbGxNZXRob2RzLnB1c2goXCJwb2ludGVybW92ZVwiKSA6IHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInBvaW50ZXJtb3ZlXCIpO1xuICAgIGFsbG93R2xvYmFsUG9pbnRlckV2ZW50cyAmJiBhbGxNZXRob2RzLnB1c2goXCJnbG9iYWxwb2ludGVybW92ZVwiKTtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICB0aGlzLm1vdmVPbkFsbCA/IGFsbE1ldGhvZHMuc3BsaWNlKDEsIDAsIFwidG91Y2htb3ZlXCIpIDogdGhpcy5kaXNwYXRjaEV2ZW50KGUsIFwidG91Y2htb3ZlXCIpO1xuICAgICAgYWxsb3dHbG9iYWxQb2ludGVyRXZlbnRzICYmIGFsbE1ldGhvZHMucHVzaChcImdsb2JhbHRvdWNobW92ZVwiKTtcbiAgICB9XG4gICAgaWYgKGlzTW91c2UpIHtcbiAgICAgIHRoaXMubW92ZU9uQWxsID8gYWxsTWV0aG9kcy5zcGxpY2UoMSwgMCwgXCJtb3VzZW1vdmVcIikgOiB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJtb3VzZW1vdmVcIik7XG4gICAgICBhbGxvd0dsb2JhbFBvaW50ZXJFdmVudHMgJiYgYWxsTWV0aG9kcy5wdXNoKFwiZ2xvYmFsbW91c2Vtb3ZlXCIpO1xuICAgICAgdGhpcy5jdXJzb3IgPSBlLnRhcmdldD8uY3Vyc29yO1xuICAgIH1cbiAgICBpZiAoYWxsTWV0aG9kcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmFsbChlLCBhbGxNZXRob2RzKTtcbiAgICB9XG4gICAgdGhpcy5fYWxsSW50ZXJhY3RpdmVFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX2hpdEVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgdHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzID0gZS5jb21wb3NlZFBhdGgoKTtcbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgfVxuICAvKipcbiAgICogTWFwcyB0aGUgdXBzdHJlYW0gYHBvaW50ZXJvdmVyYCB0byBkb3duc3RyZWFtIGBwb2ludGVyb3ZlcmAgYW5kIGBwb2ludGVyZW50ZXJgIGV2ZW50cywgaW4gdGhhdCBvcmRlci5cbiAgICpcbiAgICogVGhlIHRyYWNraW5nIGRhdGEgZm9yIHRoZSBzcGVjaWZpYyBwb2ludGVyIGdldHMgYSBuZXcgYG92ZXJUYXJnZXRgLlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSB1cHN0cmVhbSBgcG9pbnRlcm92ZXJgIGV2ZW50LlxuICAgKi9cbiAgbWFwUG9pbnRlck92ZXIoZnJvbSkge1xuICAgIGlmICghKGZyb20gaW5zdGFuY2VvZiBGZWRlcmF0ZWRQb2ludGVyRXZlbnQpKSB7XG4gICAgICB3YXJuKFwiRXZlbnRCb3VuZGFyeSBjYW5ub3QgbWFwIGEgbm9uLXBvaW50ZXIgZXZlbnQgYXMgYSBwb2ludGVyIGV2ZW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20pO1xuICAgIGNvbnN0IGlzTW91c2UgPSBlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIjtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJwb2ludGVyb3ZlclwiKTtcbiAgICBpZiAoaXNNb3VzZSlcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcIm1vdXNlb3ZlclwiKTtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKVxuICAgICAgdGhpcy5jdXJzb3IgPSBlLnRhcmdldD8uY3Vyc29yO1xuICAgIGNvbnN0IGVudGVyRXZlbnQgPSB0aGlzLmNsb25lUG9pbnRlckV2ZW50KGUsIFwicG9pbnRlcmVudGVyXCIpO1xuICAgIGVudGVyRXZlbnQuZXZlbnRQaGFzZSA9IGVudGVyRXZlbnQuQVRfVEFSR0VUO1xuICAgIHdoaWxlIChlbnRlckV2ZW50LnRhcmdldCAmJiBlbnRlckV2ZW50LnRhcmdldCAhPT0gdGhpcy5yb290VGFyZ2V0LnBhcmVudCkge1xuICAgICAgZW50ZXJFdmVudC5jdXJyZW50VGFyZ2V0ID0gZW50ZXJFdmVudC50YXJnZXQ7XG4gICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50KTtcbiAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlbnRlckV2ZW50LCBcIm1vdXNlZW50ZXJcIik7XG4gICAgICBlbnRlckV2ZW50LnRhcmdldCA9IGVudGVyRXZlbnQudGFyZ2V0LnBhcmVudDtcbiAgICB9XG4gICAgdHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzID0gZS5jb21wb3NlZFBhdGgoKTtcbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgICB0aGlzLmZyZWVFdmVudChlbnRlckV2ZW50KTtcbiAgfVxuICAvKipcbiAgICogTWFwcyB0aGUgdXBzdHJlYW0gYHBvaW50ZXJvdXRgIHRvIGRvd25zdHJlYW0gYHBvaW50ZXJvdXRgLCBgcG9pbnRlcmxlYXZlYCBldmVudHMsIGluIHRoYXQgb3JkZXIuXG4gICAqXG4gICAqIFRoZSB0cmFja2luZyBkYXRhIGZvciB0aGUgc3BlY2lmaWMgcG9pbnRlciBpcyBjbGVhcmVkIG9mIGEgYG92ZXJUYXJnZXRgLlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSB1cHN0cmVhbSBgcG9pbnRlcm91dGAgZXZlbnQuXG4gICAqL1xuICBtYXBQb2ludGVyT3V0KGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgd2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdHJhY2tpbmdEYXRhID0gdGhpcy50cmFja2luZ0RhdGEoZnJvbS5wb2ludGVySWQpO1xuICAgIGlmICh0cmFja2luZ0RhdGEub3ZlclRhcmdldHMpIHtcbiAgICAgIGNvbnN0IGlzTW91c2UgPSBmcm9tLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZnJvbS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIjtcbiAgICAgIGNvbnN0IG91dFRhcmdldCA9IHRoaXMuZmluZE1vdW50ZWRUYXJnZXQodHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzKTtcbiAgICAgIGNvbnN0IG91dEV2ZW50ID0gdGhpcy5jcmVhdGVQb2ludGVyRXZlbnQoZnJvbSwgXCJwb2ludGVyb3V0XCIsIG91dFRhcmdldCk7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQob3V0RXZlbnQpO1xuICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChvdXRFdmVudCwgXCJtb3VzZW91dFwiKTtcbiAgICAgIGNvbnN0IGxlYXZlRXZlbnQgPSB0aGlzLmNyZWF0ZVBvaW50ZXJFdmVudChmcm9tLCBcInBvaW50ZXJsZWF2ZVwiLCBvdXRUYXJnZXQpO1xuICAgICAgbGVhdmVFdmVudC5ldmVudFBoYXNlID0gbGVhdmVFdmVudC5BVF9UQVJHRVQ7XG4gICAgICB3aGlsZSAobGVhdmVFdmVudC50YXJnZXQgJiYgbGVhdmVFdmVudC50YXJnZXQgIT09IHRoaXMucm9vdFRhcmdldC5wYXJlbnQpIHtcbiAgICAgICAgbGVhdmVFdmVudC5jdXJyZW50VGFyZ2V0ID0gbGVhdmVFdmVudC50YXJnZXQ7XG4gICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGxlYXZlRXZlbnQpO1xuICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChsZWF2ZUV2ZW50LCBcIm1vdXNlbGVhdmVcIik7XG4gICAgICAgIGxlYXZlRXZlbnQudGFyZ2V0ID0gbGVhdmVFdmVudC50YXJnZXQucGFyZW50O1xuICAgICAgfVxuICAgICAgdHJhY2tpbmdEYXRhLm92ZXJUYXJnZXRzID0gbnVsbDtcbiAgICAgIHRoaXMuZnJlZUV2ZW50KG91dEV2ZW50KTtcbiAgICAgIHRoaXMuZnJlZUV2ZW50KGxlYXZlRXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgdGhlIHVwc3RyZWFtIGBwb2ludGVydXBgIGV2ZW50IHRvIGRvd25zdHJlYW0gYHBvaW50ZXJ1cGAsIGBwb2ludGVydXBvdXRzaWRlYCxcbiAgICogYW5kIGBjbGlja2AvYHJpZ2h0Y2xpY2tgL2Bwb2ludGVydGFwYCBldmVudHMsIGluIHRoYXQgb3JkZXIuXG4gICAqXG4gICAqIFRoZSBgcG9pbnRlcnVwb3V0c2lkZWAgZXZlbnQgYnViYmxlcyBmcm9tIHRoZSBvcmlnaW5hbCBgcG9pbnRlcmRvd25gIHRhcmdldCB0byB0aGUgbW9zdCBzcGVjaWZpY1xuICAgKiBhbmNlc3RvciBvZiB0aGUgYHBvaW50ZXJkb3duYCBhbmQgYHBvaW50ZXJ1cGAgdGFyZ2V0cywgd2hpY2ggaXMgYWxzbyB0aGUgYGNsaWNrYCBldmVudCdzIHRhcmdldC4gYHRvdWNoZW5kYCxcbiAgICogYHJpZ2h0dXBgLCBgbW91c2V1cGAsIGB0b3VjaGVuZG91dHNpZGVgLCBgcmlnaHR1cG91dHNpZGVgLCBgbW91c2V1cG91dHNpZGVgLCBhbmQgYHRhcGAgYXJlIGZpcmVkIGFzIHdlbGwgZm9yXG4gICAqIHNwZWNpZmljIHBvaW50ZXIgdHlwZXMuXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHVwc3RyZWFtIGBwb2ludGVydXBgIGV2ZW50LlxuICAgKi9cbiAgbWFwUG9pbnRlclVwKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkUG9pbnRlckV2ZW50KSkge1xuICAgICAgd2FybihcIkV2ZW50Qm91bmRhcnkgY2Fubm90IG1hcCBhIG5vbi1wb2ludGVyIGV2ZW50IGFzIGEgcG9pbnRlciBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20pO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChlLCBcInBvaW50ZXJ1cFwiKTtcbiAgICBpZiAoZS5wb2ludGVyVHlwZSA9PT0gXCJ0b3VjaFwiKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgXCJ0b3VjaGVuZFwiKTtcbiAgICB9IGVsc2UgaWYgKGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiKSB7XG4gICAgICBjb25zdCBpc1JpZ2h0QnV0dG9uID0gZS5idXR0b24gPT09IDI7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZSwgaXNSaWdodEJ1dHRvbiA/IFwicmlnaHR1cFwiIDogXCJtb3VzZXVwXCIpO1xuICAgIH1cbiAgICBjb25zdCB0cmFja2luZ0RhdGEgPSB0aGlzLnRyYWNraW5nRGF0YShmcm9tLnBvaW50ZXJJZCk7XG4gICAgY29uc3QgcHJlc3NUYXJnZXQgPSB0aGlzLmZpbmRNb3VudGVkVGFyZ2V0KHRyYWNraW5nRGF0YS5wcmVzc1RhcmdldHNCeUJ1dHRvbltmcm9tLmJ1dHRvbl0pO1xuICAgIGxldCBjbGlja1RhcmdldCA9IHByZXNzVGFyZ2V0O1xuICAgIGlmIChwcmVzc1RhcmdldCAmJiAhZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhwcmVzc1RhcmdldCkpIHtcbiAgICAgIGxldCBjdXJyZW50VGFyZ2V0ID0gcHJlc3NUYXJnZXQ7XG4gICAgICB3aGlsZSAoY3VycmVudFRhcmdldCAmJiAhZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhjdXJyZW50VGFyZ2V0KSkge1xuICAgICAgICBlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBcInBvaW50ZXJ1cG91dHNpZGVcIik7XG4gICAgICAgIGlmIChlLnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBcInRvdWNoZW5kb3V0c2lkZVwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLnBvaW50ZXJUeXBlID09PSBcIm1vdXNlXCIgfHwgZS5wb2ludGVyVHlwZSA9PT0gXCJwZW5cIikge1xuICAgICAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBlLmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgICB0aGlzLm5vdGlmeVRhcmdldChlLCBpc1JpZ2h0QnV0dG9uID8gXCJyaWdodHVwb3V0c2lkZVwiIDogXCJtb3VzZXVwb3V0c2lkZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBkZWxldGUgdHJhY2tpbmdEYXRhLnByZXNzVGFyZ2V0c0J5QnV0dG9uW2Zyb20uYnV0dG9uXTtcbiAgICAgIGNsaWNrVGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICB9XG4gICAgaWYgKGNsaWNrVGFyZ2V0KSB7XG4gICAgICBjb25zdCBjbGlja0V2ZW50ID0gdGhpcy5jbG9uZVBvaW50ZXJFdmVudChlLCBcImNsaWNrXCIpO1xuICAgICAgY2xpY2tFdmVudC50YXJnZXQgPSBjbGlja1RhcmdldDtcbiAgICAgIGNsaWNrRXZlbnQucGF0aCA9IG51bGw7XG4gICAgICBpZiAoIXRyYWNraW5nRGF0YS5jbGlja3NCeUJ1dHRvbltmcm9tLmJ1dHRvbl0pIHtcbiAgICAgICAgdHJhY2tpbmdEYXRhLmNsaWNrc0J5QnV0dG9uW2Zyb20uYnV0dG9uXSA9IHtcbiAgICAgICAgICBjbGlja0NvdW50OiAwLFxuICAgICAgICAgIHRhcmdldDogY2xpY2tFdmVudC50YXJnZXQsXG4gICAgICAgICAgdGltZVN0YW1wOiBub3dcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNsaWNrSGlzdG9yeSA9IHRyYWNraW5nRGF0YS5jbGlja3NCeUJ1dHRvbltmcm9tLmJ1dHRvbl07XG4gICAgICBpZiAoY2xpY2tIaXN0b3J5LnRhcmdldCA9PT0gY2xpY2tFdmVudC50YXJnZXQgJiYgbm93IC0gY2xpY2tIaXN0b3J5LnRpbWVTdGFtcCA8IDIwMCkge1xuICAgICAgICArK2NsaWNrSGlzdG9yeS5jbGlja0NvdW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xpY2tIaXN0b3J5LmNsaWNrQ291bnQgPSAxO1xuICAgICAgfVxuICAgICAgY2xpY2tIaXN0b3J5LnRhcmdldCA9IGNsaWNrRXZlbnQudGFyZ2V0O1xuICAgICAgY2xpY2tIaXN0b3J5LnRpbWVTdGFtcCA9IG5vdztcbiAgICAgIGNsaWNrRXZlbnQuZGV0YWlsID0gY2xpY2tIaXN0b3J5LmNsaWNrQ291bnQ7XG4gICAgICBpZiAoY2xpY2tFdmVudC5wb2ludGVyVHlwZSA9PT0gXCJtb3VzZVwiKSB7XG4gICAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBjbGlja0V2ZW50LmJ1dHRvbiA9PT0gMjtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGNsaWNrRXZlbnQsIGlzUmlnaHRCdXR0b24gPyBcInJpZ2h0Y2xpY2tcIiA6IFwiY2xpY2tcIik7XG4gICAgICB9IGVsc2UgaWYgKGNsaWNrRXZlbnQucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoY2xpY2tFdmVudCwgXCJ0YXBcIik7XG4gICAgICB9XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoY2xpY2tFdmVudCwgXCJwb2ludGVydGFwXCIpO1xuICAgICAgdGhpcy5mcmVlRXZlbnQoY2xpY2tFdmVudCk7XG4gICAgfVxuICAgIHRoaXMuZnJlZUV2ZW50KGUpO1xuICB9XG4gIC8qKlxuICAgKiBNYXBzIHRoZSB1cHN0cmVhbSBgcG9pbnRlcnVwb3V0c2lkZWAgZXZlbnQgdG8gYSBkb3duc3RyZWFtIGBwb2ludGVydXBvdXRzaWRlYCBldmVudCwgYnViYmxpbmcgZnJvbSB0aGUgb3JpZ2luYWxcbiAgICogYHBvaW50ZXJkb3duYCB0YXJnZXQgdG8gYHJvb3RUYXJnZXRgLlxuICAgKlxuICAgKiAoVGhlIG1vc3Qgc3BlY2lmaWMgYW5jZXN0b3Igb2YgdGhlIGBwb2ludGVyZG93bmAgZXZlbnQgYW5kIHRoZSBgcG9pbnRlcnVwYCBldmVudCBtdXN0IHRoZVxuICAgKiBge0BsaW5rIEV2ZW50Qm91bmRhcnl9J3Mgcm9vdCBiZWNhdXNlIHRoZSBgcG9pbnRlcnVwYCBldmVudCBvY2N1cnJlZCBvdXRzaWRlIG9mIHRoZSBib3VuZGFyeS4pXG4gICAqXG4gICAqIGB0b3VjaGVuZG91dHNpZGVgLCBgbW91c2V1cG91dHNpZGVgLCBhbmQgYHJpZ2h0dXBvdXRzaWRlYCBldmVudHMgYXJlIGZpcmVkIGFzIHdlbGwgZm9yIHNwZWNpZmljIHBvaW50ZXJcbiAgICogdHlwZXMuIFRoZSB0cmFja2luZyBkYXRhIGZvciB0aGUgc3BlY2lmaWMgcG9pbnRlciBpcyBjbGVhcmVkIG9mIGEgYHByZXNzVGFyZ2V0YC5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgdXBzdHJlYW0gYHBvaW50ZXJ1cG91dHNpZGVgIGV2ZW50LlxuICAgKi9cbiAgbWFwUG9pbnRlclVwT3V0c2lkZShmcm9tKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpIHtcbiAgICAgIHdhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24tcG9pbnRlciBldmVudCBhcyBhIHBvaW50ZXIgZXZlbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRyYWNraW5nRGF0YSA9IHRoaXMudHJhY2tpbmdEYXRhKGZyb20ucG9pbnRlcklkKTtcbiAgICBjb25zdCBwcmVzc1RhcmdldCA9IHRoaXMuZmluZE1vdW50ZWRUYXJnZXQodHJhY2tpbmdEYXRhLnByZXNzVGFyZ2V0c0J5QnV0dG9uW2Zyb20uYnV0dG9uXSk7XG4gICAgY29uc3QgZSA9IHRoaXMuY3JlYXRlUG9pbnRlckV2ZW50KGZyb20pO1xuICAgIGlmIChwcmVzc1RhcmdldCkge1xuICAgICAgbGV0IGN1cnJlbnRUYXJnZXQgPSBwcmVzc1RhcmdldDtcbiAgICAgIHdoaWxlIChjdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIGUuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIFwicG9pbnRlcnVwb3V0c2lkZVwiKTtcbiAgICAgICAgaWYgKGUucG9pbnRlclR5cGUgPT09IFwidG91Y2hcIikge1xuICAgICAgICAgIHRoaXMubm90aWZ5VGFyZ2V0KGUsIFwidG91Y2hlbmRvdXRzaWRlXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGUucG9pbnRlclR5cGUgPT09IFwibW91c2VcIiB8fCBlLnBvaW50ZXJUeXBlID09PSBcInBlblwiKSB7XG4gICAgICAgICAgdGhpcy5ub3RpZnlUYXJnZXQoZSwgZS5idXR0b24gPT09IDIgPyBcInJpZ2h0dXBvdXRzaWRlXCIgOiBcIm1vdXNldXBvdXRzaWRlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0LnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0cmFja2luZ0RhdGEucHJlc3NUYXJnZXRzQnlCdXR0b25bZnJvbS5idXR0b25dO1xuICAgIH1cbiAgICB0aGlzLmZyZWVFdmVudChlKTtcbiAgfVxuICAvKipcbiAgICogTWFwcyB0aGUgdXBzdHJlYW0gYHdoZWVsYCBldmVudCB0byBhIGRvd25zdHJlYW0gYHdoZWVsYCBldmVudC5cbiAgICogQHBhcmFtIGZyb20gLSBUaGUgdXBzdHJlYW0gYHdoZWVsYCBldmVudC5cbiAgICovXG4gIG1hcFdoZWVsKGZyb20pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkV2hlZWxFdmVudCkpIHtcbiAgICAgIHdhcm4oXCJFdmVudEJvdW5kYXJ5IGNhbm5vdCBtYXAgYSBub24td2hlZWwgZXZlbnQgYXMgYSB3aGVlbCBldmVudFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgd2hlZWxFdmVudCA9IHRoaXMuY3JlYXRlV2hlZWxFdmVudChmcm9tKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQod2hlZWxFdmVudCk7XG4gICAgdGhpcy5mcmVlRXZlbnQod2hlZWxFdmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSBtb3N0IHNwZWNpZmljIGV2ZW50LXRhcmdldCBpbiB0aGUgZ2l2ZW4gcHJvcGFnYXRpb24gcGF0aCB0aGF0IGlzIHN0aWxsIG1vdW50ZWQgaW4gdGhlIHNjZW5lIGdyYXBoLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWQgdG8gZmluZCB0aGUgY29ycmVjdCBgcG9pbnRlcnVwYCBhbmQgYHBvaW50ZXJvdXRgIHRhcmdldCBpbiB0aGUgY2FzZSB0aGF0IHRoZSBvcmlnaW5hbCBgcG9pbnRlcmRvd25gXG4gICAqIG9yIGBwb2ludGVyb3ZlcmAgdGFyZ2V0IHdhcyB1bm1vdW50ZWQgZnJvbSB0aGUgc2NlbmUgZ3JhcGguXG4gICAqIEBwYXJhbSBwcm9wYWdhdGlvblBhdGggLSBUaGUgcHJvcGFnYXRpb24gcGF0aCB3YXMgdmFsaWQgaW4gdGhlIHBhc3QuXG4gICAqIEByZXR1cm5zIC0gVGhlIG1vc3Qgc3BlY2lmaWMgZXZlbnQtdGFyZ2V0IHN0aWxsIG1vdW50ZWQgYXQgdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIHNjZW5lIGdyYXBoLlxuICAgKi9cbiAgZmluZE1vdW50ZWRUYXJnZXQocHJvcGFnYXRpb25QYXRoKSB7XG4gICAgaWYgKCFwcm9wYWdhdGlvblBhdGgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgY3VycmVudFRhcmdldCA9IHByb3BhZ2F0aW9uUGF0aFswXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHByb3BhZ2F0aW9uUGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHByb3BhZ2F0aW9uUGF0aFtpXS5wYXJlbnQgPT09IGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgY3VycmVudFRhcmdldCA9IHByb3BhZ2F0aW9uUGF0aFtpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFRhcmdldDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBldmVudCB3aG9zZSBgb3JpZ2luYWxFdmVudGAgaXMgYGZyb21gLCB3aXRoIGFuIG9wdGlvbmFsIGB0eXBlYCBhbmQgYHRhcmdldGAgb3ZlcnJpZGUuXG4gICAqXG4gICAqIFRoZSBldmVudCBpcyBhbGxvY2F0ZWQgdXNpbmcge0BsaW5rIEV2ZW50Qm91bmRhcnkjYWxsb2NhdGVFdmVudCB0aGlzLmFsbG9jYXRlRXZlbnR9LlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBgb3JpZ2luYWxFdmVudGAgZm9yIHRoZSByZXR1cm5lZCBldmVudC5cbiAgICogQHBhcmFtIFt0eXBlPWZyb20udHlwZV0gLSBUaGUgdHlwZSBvZiB0aGUgcmV0dXJuZWQgZXZlbnQuXG4gICAqIEBwYXJhbSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSByZXR1cm5lZCBldmVudC5cbiAgICovXG4gIGNyZWF0ZVBvaW50ZXJFdmVudChmcm9tLCB0eXBlLCB0YXJnZXQpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuYWxsb2NhdGVFdmVudChGZWRlcmF0ZWRQb2ludGVyRXZlbnQpO1xuICAgIHRoaXMuY29weVBvaW50ZXJEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlNb3VzZURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gZnJvbS5uYXRpdmVFdmVudDtcbiAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gZnJvbTtcbiAgICBldmVudC50YXJnZXQgPSB0YXJnZXQgPz8gdGhpcy5oaXRUZXN0KGV2ZW50Lmdsb2JhbC54LCBldmVudC5nbG9iYWwueSkgPz8gdGhpcy5faGl0RWxlbWVudHNbMF07XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBldmVudC50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgd2hlZWwgZXZlbnQgd2hvc2UgYG9yaWdpbmFsRXZlbnRgIGlzIGBmcm9tYC5cbiAgICpcbiAgICogVGhlIGV2ZW50IGlzIGFsbG9jYXRlZCB1c2luZyB7QGxpbmsgRXZlbnRCb3VuZGFyeSNhbGxvY2F0ZUV2ZW50IHRoaXMuYWxsb2NhdGVFdmVudH0uXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHVwc3RyZWFtIHdoZWVsIGV2ZW50LlxuICAgKi9cbiAgY3JlYXRlV2hlZWxFdmVudChmcm9tKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmFsbG9jYXRlRXZlbnQoRmVkZXJhdGVkV2hlZWxFdmVudCk7XG4gICAgdGhpcy5jb3B5V2hlZWxEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlNb3VzZURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gZnJvbS5uYXRpdmVFdmVudDtcbiAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gZnJvbTtcbiAgICBldmVudC50YXJnZXQgPSB0aGlzLmhpdFRlc3QoZXZlbnQuZ2xvYmFsLngsIGV2ZW50Lmdsb2JhbC55KTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgZXZlbnQgYGZyb21gLCB3aXRoIGFuIG9wdGlvbmFsIGB0eXBlYCBvdmVycmlkZS5cbiAgICpcbiAgICogVGhlIGV2ZW50IGlzIGFsbG9jYXRlZCB1c2luZyB7QGxpbmsgRXZlbnRCb3VuZGFyeSNhbGxvY2F0ZUV2ZW50IHRoaXMuYWxsb2NhdGVFdmVudH0uXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIGV2ZW50IHRvIGNsb25lLlxuICAgKiBAcGFyYW0gW3R5cGU9ZnJvbS50eXBlXSAtIFRoZSB0eXBlIG9mIHRoZSByZXR1cm5lZCBldmVudC5cbiAgICovXG4gIGNsb25lUG9pbnRlckV2ZW50KGZyb20sIHR5cGUpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuYWxsb2NhdGVFdmVudChGZWRlcmF0ZWRQb2ludGVyRXZlbnQpO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gZnJvbS5uYXRpdmVFdmVudDtcbiAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gZnJvbS5vcmlnaW5hbEV2ZW50O1xuICAgIHRoaXMuY29weVBvaW50ZXJEYXRhKGZyb20sIGV2ZW50KTtcbiAgICB0aGlzLmNvcHlNb3VzZURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIHRoaXMuY29weURhdGEoZnJvbSwgZXZlbnQpO1xuICAgIGV2ZW50LnRhcmdldCA9IGZyb20udGFyZ2V0O1xuICAgIGV2ZW50LnBhdGggPSBmcm9tLmNvbXBvc2VkUGF0aCgpLnNsaWNlKCk7XG4gICAgZXZlbnQudHlwZSA9IHR5cGUgPz8gZXZlbnQudHlwZTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyB3aGVlbCB7QGxpbmsgRmVkZXJhdGVkV2hlZWxFdmVudH0gZGF0YSBmcm9tIGBmcm9tYCBpbnRvIGB0b2AuXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBhcmUgY29waWVkOlxuICAgKiArIGRlbHRhTW9kZVxuICAgKiArIGRlbHRhWFxuICAgKiArIGRlbHRhWVxuICAgKiArIGRlbHRhWlxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBldmVudCB0byBjb3B5IGRhdGEgZnJvbS5cbiAgICogQHBhcmFtIHRvIC0gVGhlIGV2ZW50IHRvIGNvcHkgZGF0YSBpbnRvLlxuICAgKi9cbiAgY29weVdoZWVsRGF0YShmcm9tLCB0bykge1xuICAgIHRvLmRlbHRhTW9kZSA9IGZyb20uZGVsdGFNb2RlO1xuICAgIHRvLmRlbHRhWCA9IGZyb20uZGVsdGFYO1xuICAgIHRvLmRlbHRhWSA9IGZyb20uZGVsdGFZO1xuICAgIHRvLmRlbHRhWiA9IGZyb20uZGVsdGFaO1xuICB9XG4gIC8qKlxuICAgKiBDb3BpZXMgcG9pbnRlciB7QGxpbmsgRmVkZXJhdGVkUG9pbnRlckV2ZW50fSBkYXRhIGZyb20gYGZyb21gIGludG8gYHRvYC5cbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQ6XG4gICAqICsgcG9pbnRlcklkXG4gICAqICsgd2lkdGhcbiAgICogKyBoZWlnaHRcbiAgICogKyBpc1ByaW1hcnlcbiAgICogKyBwb2ludGVyVHlwZVxuICAgKiArIHByZXNzdXJlXG4gICAqICsgdGFuZ2VudGlhbFByZXNzdXJlXG4gICAqICsgdGlsdFhcbiAgICogKyB0aWx0WVxuICAgKiBAcGFyYW0gZnJvbSAtIFRoZSBldmVudCB0byBjb3B5IGRhdGEgZnJvbS5cbiAgICogQHBhcmFtIHRvIC0gVGhlIGV2ZW50IHRvIGNvcHkgZGF0YSBpbnRvLlxuICAgKi9cbiAgY29weVBvaW50ZXJEYXRhKGZyb20sIHRvKSB7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCAmJiB0byBpbnN0YW5jZW9mIEZlZGVyYXRlZFBvaW50ZXJFdmVudCkpXG4gICAgICByZXR1cm47XG4gICAgdG8ucG9pbnRlcklkID0gZnJvbS5wb2ludGVySWQ7XG4gICAgdG8ud2lkdGggPSBmcm9tLndpZHRoO1xuICAgIHRvLmhlaWdodCA9IGZyb20uaGVpZ2h0O1xuICAgIHRvLmlzUHJpbWFyeSA9IGZyb20uaXNQcmltYXJ5O1xuICAgIHRvLnBvaW50ZXJUeXBlID0gZnJvbS5wb2ludGVyVHlwZTtcbiAgICB0by5wcmVzc3VyZSA9IGZyb20ucHJlc3N1cmU7XG4gICAgdG8udGFuZ2VudGlhbFByZXNzdXJlID0gZnJvbS50YW5nZW50aWFsUHJlc3N1cmU7XG4gICAgdG8udGlsdFggPSBmcm9tLnRpbHRYO1xuICAgIHRvLnRpbHRZID0gZnJvbS50aWx0WTtcbiAgICB0by50d2lzdCA9IGZyb20udHdpc3Q7XG4gIH1cbiAgLyoqXG4gICAqIENvcGllcyBtb3VzZSB7QGxpbmsgRmVkZXJhdGVkTW91c2VFdmVudH0gZGF0YSBmcm9tIGBmcm9tYCB0byBgdG9gLlxuICAgKlxuICAgKiBUaGUgZm9sbG93aW5nIHByb3BlcnRpZXMgYXJlIGNvcGllZDpcbiAgICogKyBhbHRLZXlcbiAgICogKyBidXR0b25cbiAgICogKyBidXR0b25zXG4gICAqICsgY2xpZW50WFxuICAgKiArIGNsaWVudFlcbiAgICogKyBtZXRhS2V5XG4gICAqICsgbW92ZW1lbnRYXG4gICAqICsgbW92ZW1lbnRZXG4gICAqICsgcGFnZVhcbiAgICogKyBwYWdlWVxuICAgKiArIHhcbiAgICogKyB5XG4gICAqICsgc2NyZWVuXG4gICAqICsgc2hpZnRLZXlcbiAgICogKyBnbG9iYWxcbiAgICogQHBhcmFtIGZyb20gLSBUaGUgZXZlbnQgdG8gY29weSBkYXRhIGZyb20uXG4gICAqIEBwYXJhbSB0byAtIFRoZSBldmVudCB0byBjb3B5IGRhdGEgaW50by5cbiAgICovXG4gIGNvcHlNb3VzZURhdGEoZnJvbSwgdG8pIHtcbiAgICBpZiAoIShmcm9tIGluc3RhbmNlb2YgRmVkZXJhdGVkTW91c2VFdmVudCAmJiB0byBpbnN0YW5jZW9mIEZlZGVyYXRlZE1vdXNlRXZlbnQpKVxuICAgICAgcmV0dXJuO1xuICAgIHRvLmFsdEtleSA9IGZyb20uYWx0S2V5O1xuICAgIHRvLmJ1dHRvbiA9IGZyb20uYnV0dG9uO1xuICAgIHRvLmJ1dHRvbnMgPSBmcm9tLmJ1dHRvbnM7XG4gICAgdG8uY2xpZW50LmNvcHlGcm9tKGZyb20uY2xpZW50KTtcbiAgICB0by5jdHJsS2V5ID0gZnJvbS5jdHJsS2V5O1xuICAgIHRvLm1ldGFLZXkgPSBmcm9tLm1ldGFLZXk7XG4gICAgdG8ubW92ZW1lbnQuY29weUZyb20oZnJvbS5tb3ZlbWVudCk7XG4gICAgdG8uc2NyZWVuLmNvcHlGcm9tKGZyb20uc2NyZWVuKTtcbiAgICB0by5zaGlmdEtleSA9IGZyb20uc2hpZnRLZXk7XG4gICAgdG8uZ2xvYmFsLmNvcHlGcm9tKGZyb20uZ2xvYmFsKTtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIGJhc2Uge0BsaW5rIEZlZGVyYXRlZEV2ZW50fSBkYXRhIGZyb20gYGZyb21gIGludG8gYHRvYC5cbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQ6XG4gICAqICsgaXNUcnVzdGVkXG4gICAqICsgc3JjRWxlbWVudFxuICAgKiArIHRpbWVTdGFtcFxuICAgKiArIHR5cGVcbiAgICogQHBhcmFtIGZyb20gLSBUaGUgZXZlbnQgdG8gY29weSBkYXRhIGZyb20uXG4gICAqIEBwYXJhbSB0byAtIFRoZSBldmVudCB0byBjb3B5IGRhdGEgaW50by5cbiAgICovXG4gIGNvcHlEYXRhKGZyb20sIHRvKSB7XG4gICAgdG8uaXNUcnVzdGVkID0gZnJvbS5pc1RydXN0ZWQ7XG4gICAgdG8uc3JjRWxlbWVudCA9IGZyb20uc3JjRWxlbWVudDtcbiAgICB0by50aW1lU3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0by50eXBlID0gZnJvbS50eXBlO1xuICAgIHRvLmRldGFpbCA9IGZyb20uZGV0YWlsO1xuICAgIHRvLnZpZXcgPSBmcm9tLnZpZXc7XG4gICAgdG8ud2hpY2ggPSBmcm9tLndoaWNoO1xuICAgIHRvLmxheWVyLmNvcHlGcm9tKGZyb20ubGF5ZXIpO1xuICAgIHRvLnBhZ2UuY29weUZyb20oZnJvbS5wYWdlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIGlkIC0gVGhlIHBvaW50ZXIgSUQuXG4gICAqIEByZXR1cm5zIFRoZSB0cmFja2luZyBkYXRhIHN0b3JlZCBmb3IgdGhlIGdpdmVuIHBvaW50ZXIuIElmIG5vIGRhdGEgZXhpc3RzLCBhIGJsYW5rXG4gICAqICBzdGF0ZSB3aWxsIGJlIGNyZWF0ZWQuXG4gICAqL1xuICB0cmFja2luZ0RhdGEoaWQpIHtcbiAgICBpZiAoIXRoaXMubWFwcGluZ1N0YXRlLnRyYWNraW5nRGF0YVtpZF0pIHtcbiAgICAgIHRoaXMubWFwcGluZ1N0YXRlLnRyYWNraW5nRGF0YVtpZF0gPSB7XG4gICAgICAgIHByZXNzVGFyZ2V0c0J5QnV0dG9uOiB7fSxcbiAgICAgICAgY2xpY2tzQnlCdXR0b246IHt9LFxuICAgICAgICBvdmVyVGFyZ2V0OiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5tYXBwaW5nU3RhdGUudHJhY2tpbmdEYXRhW2lkXTtcbiAgfVxuICAvKipcbiAgICogQWxsb2NhdGUgYSBzcGVjaWZpYyB0eXBlIG9mIGV2ZW50IGZyb20ge0BsaW5rIEV2ZW50Qm91bmRhcnkjZXZlbnRQb29sIHRoaXMuZXZlbnRQb29sfS5cbiAgICpcbiAgICogVGhpcyBhbGxvY2F0aW9uIGlzIGNvbnN0cnVjdG9yLWFnbm9zdGljLCBhcyBsb25nIGFzIGl0IG9ubHkgdGFrZXMgb25lIGFyZ3VtZW50IC0gdGhpcyBldmVudFxuICAgKiBib3VuZGFyeS5cbiAgICogQHBhcmFtIGNvbnN0cnVjdG9yIC0gVGhlIGV2ZW50J3MgY29uc3RydWN0b3IuXG4gICAqL1xuICBhbGxvY2F0ZUV2ZW50KGNvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCF0aGlzLmV2ZW50UG9vbC5oYXMoY29uc3RydWN0b3IpKSB7XG4gICAgICB0aGlzLmV2ZW50UG9vbC5zZXQoY29uc3RydWN0b3IsIFtdKTtcbiAgICB9XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmV2ZW50UG9vbC5nZXQoY29uc3RydWN0b3IpLnBvcCgpIHx8IG5ldyBjb25zdHJ1Y3Rvcih0aGlzKTtcbiAgICBldmVudC5ldmVudFBoYXNlID0gZXZlbnQuTk9ORTtcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgZXZlbnQucGF0aCA9IG51bGw7XG4gICAgZXZlbnQudGFyZ2V0ID0gbnVsbDtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cbiAgLyoqXG4gICAqIEZyZWVzIHRoZSBldmVudCBhbmQgcHV0cyBpdCBiYWNrIGludG8gdGhlIGV2ZW50IHBvb2wuXG4gICAqXG4gICAqIEl0IGlzIGlsbGVnYWwgdG8gcmV1c2UgdGhlIGV2ZW50IHVudGlsIGl0IGlzIGFsbG9jYXRlZCBhZ2FpbiwgdXNpbmcgYHRoaXMuYWxsb2NhdGVFdmVudGAuXG4gICAqXG4gICAqIEl0IGlzIGFsc28gYWR2aXNlZCB0aGF0IGV2ZW50cyBub3QgYWxsb2NhdGVkIGZyb20ge0BsaW5rIEV2ZW50Qm91bmRhcnkjYWxsb2NhdGVFdmVudCB0aGlzLmFsbG9jYXRlRXZlbnR9XG4gICAqIG5vdCBiZSBmcmVlZC4gVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBwb3NzaWJpbGl0eSB0aGF0IHRoZSBzYW1lIGV2ZW50IGlzIGZyZWVkIHR3aWNlLCB3aGljaCBjYW4gY2F1c2VcbiAgICogaXQgdG8gYmUgYWxsb2NhdGVkIHR3aWNlICYgcmVzdWx0IGluIG92ZXJ3cml0aW5nLlxuICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgZnJlZWQuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGV2ZW50IGlzIG1hbmFnZWQgYnkgYW5vdGhlciBldmVudCBib3VuZGFyeS5cbiAgICovXG4gIGZyZWVFdmVudChldmVudCkge1xuICAgIGlmIChldmVudC5tYW5hZ2VyICE9PSB0aGlzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSXQgaXMgaWxsZWdhbCB0byBmcmVlIGFuIGV2ZW50IG5vdCBtYW5hZ2VkIGJ5IHRoaXMgRXZlbnRCb3VuZGFyeSFcIik7XG4gICAgY29uc3QgY29uc3RydWN0b3IgPSBldmVudC5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoIXRoaXMuZXZlbnRQb29sLmhhcyhjb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRoaXMuZXZlbnRQb29sLnNldChjb25zdHJ1Y3RvciwgW10pO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50UG9vbC5nZXQoY29uc3RydWN0b3IpLnB1c2goZXZlbnQpO1xuICB9XG4gIC8qKlxuICAgKiBTaW1pbGFyIHRvIHtAbGluayBFdmVudEVtaXR0ZXIuZW1pdH0sIGV4Y2VwdCBpdCBzdG9wcyBpZiB0aGUgYHByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkYCBmbGFnXG4gICAqIGlzIHNldCBvbiB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSBlIC0gVGhlIGV2ZW50IHRvIGNhbGwgZWFjaCBsaXN0ZW5lciB3aXRoLlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSBldmVudCBrZXkuXG4gICAqL1xuICBfbm90aWZ5TGlzdGVuZXJzKGUsIHR5cGUpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBlLmN1cnJlbnRUYXJnZXQuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAoIWxpc3RlbmVycylcbiAgICAgIHJldHVybjtcbiAgICBpZiAoXCJmblwiIGluIGxpc3RlbmVycykge1xuICAgICAgaWYgKGxpc3RlbmVycy5vbmNlKVxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzLmZuLCB2b2lkIDAsIHRydWUpO1xuICAgICAgbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgaiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBqICYmICFlLnByb3BhZ2F0aW9uSW1tZWRpYXRlbHlTdG9wcGVkOyBpKyspIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKVxuICAgICAgICAgIGUuY3VycmVudFRhcmdldC5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0uZm4sIHZvaWQgMCwgdHJ1ZSk7XG4gICAgICAgIGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgRXZlbnRCb3VuZGFyeSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXZlbnRCb3VuZGFyeS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBFdmVudEJvdW5kYXJ5IH0gZnJvbSAnLi9FdmVudEJvdW5kYXJ5Lm1qcyc7XG5pbXBvcnQgeyBFdmVudHNUaWNrZXIgfSBmcm9tICcuL0V2ZW50VGlja2VyLm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRQb2ludGVyRXZlbnQgfSBmcm9tICcuL0ZlZGVyYXRlZFBvaW50ZXJFdmVudC5tanMnO1xuaW1wb3J0IHsgRmVkZXJhdGVkV2hlZWxFdmVudCB9IGZyb20gJy4vRmVkZXJhdGVkV2hlZWxFdmVudC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IE1PVVNFX1BPSU5URVJfSUQgPSAxO1xuY29uc3QgVE9VQ0hfVE9fUE9JTlRFUiA9IHtcbiAgdG91Y2hzdGFydDogXCJwb2ludGVyZG93blwiLFxuICB0b3VjaGVuZDogXCJwb2ludGVydXBcIixcbiAgdG91Y2hlbmRvdXRzaWRlOiBcInBvaW50ZXJ1cG91dHNpZGVcIixcbiAgdG91Y2htb3ZlOiBcInBvaW50ZXJtb3ZlXCIsXG4gIHRvdWNoY2FuY2VsOiBcInBvaW50ZXJjYW5jZWxcIlxufTtcbmNvbnN0IF9FdmVudFN5c3RlbSA9IGNsYXNzIF9FdmVudFN5c3RlbSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlbmRlcmVyfSByZW5kZXJlclxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgY3VycmVudCBkZXZpY2Ugc3VwcG9ydHMgdG91Y2ggZXZlbnRzIGFjY29yZGluZyB0byB0aGUgVzNDIFRvdWNoIEV2ZW50cyBzcGVjLlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIGFwcHJvcHJpYXRlIGV2ZW50IGhhbmRsaW5nIHN0cmF0ZWd5LlxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvfSBXM0MgVG91Y2ggRXZlbnRzIFNwZWNpZmljYXRpb25cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCAnb250b3VjaHN0YXJ0JyBpbiBnbG9iYWxUaGlzXG4gICAgICovXG4gICAgdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gXCJvbnRvdWNoc3RhcnRcIiBpbiBnbG9iYWxUaGlzO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBjdXJyZW50IGRldmljZSBzdXBwb3J0cyBwb2ludGVyIGV2ZW50cyBhY2NvcmRpbmcgdG8gdGhlIFczQyBQb2ludGVyIEV2ZW50cyBzcGVjLlxuICAgICAqIFVzZWQgdG8gb3B0aW1pemUgZXZlbnQgaGFuZGxpbmcgYW5kIHByb3ZpZGUgbW9yZSBjb25zaXN0ZW50IGNyb3NzLWRldmljZSBpbnRlcmFjdGlvbi5cbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cy99IFczQyBQb2ludGVyIEV2ZW50cyBTcGVjaWZpY2F0aW9uXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgISFnbG9iYWxUaGlzLlBvaW50ZXJFdmVudFxuICAgICAqL1xuICAgIHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISFnbG9iYWxUaGlzLlBvaW50ZXJFdmVudDtcbiAgICAvKipcbiAgICAgKiBUaGUgRE9NIGVsZW1lbnQgdG8gd2hpY2ggdGhlIHJvb3QgZXZlbnQgbGlzdGVuZXJzIGFyZSBib3VuZC4gVGhpcyBpcyBhdXRvbWF0aWNhbGx5IHNldCB0b1xuICAgICAqIHRoZSByZW5kZXJlcidzIHtAbGluayBSZW5kZXJlciN2aWV3IHZpZXd9LlxuICAgICAqL1xuICAgIHRoaXMuZG9tRWxlbWVudCA9IG51bGw7XG4gICAgLyoqIFRoZSByZXNvbHV0aW9uIHVzZWQgdG8gY29udmVydCBiZXR3ZWVuIHRoZSBET00gY2xpZW50IHNwYWNlIGludG8gd29ybGQgc3BhY2UuICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5yb290Qm91bmRhcnkgPSBuZXcgRXZlbnRCb3VuZGFyeShudWxsKTtcbiAgICBFdmVudHNUaWNrZXIuaW5pdCh0aGlzKTtcbiAgICB0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IHRydWU7XG4gICAgdGhpcy5fZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yb290UG9pbnRlckV2ZW50ID0gbmV3IEZlZGVyYXRlZFBvaW50ZXJFdmVudChudWxsKTtcbiAgICB0aGlzLl9yb290V2hlZWxFdmVudCA9IG5ldyBGZWRlcmF0ZWRXaGVlbEV2ZW50KG51bGwpO1xuICAgIHRoaXMuY3Vyc29yU3R5bGVzID0ge1xuICAgICAgZGVmYXVsdDogXCJpbmhlcml0XCIsXG4gICAgICBwb2ludGVyOiBcInBvaW50ZXJcIlxuICAgIH07XG4gICAgdGhpcy5mZWF0dXJlcyA9IG5ldyBQcm94eSh7IC4uLl9FdmVudFN5c3RlbS5kZWZhdWx0RXZlbnRGZWF0dXJlcyB9LCB7XG4gICAgICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJnbG9iYWxNb3ZlXCIpIHtcbiAgICAgICAgICB0aGlzLnJvb3RCb3VuZGFyeS5lbmFibGVHbG9iYWxNb3ZlRXZlbnRzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fb25Qb2ludGVyRG93biA9IHRoaXMuX29uUG9pbnRlckRvd24uYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblBvaW50ZXJNb3ZlID0gdGhpcy5fb25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX29uUG9pbnRlclVwID0gdGhpcy5fb25Qb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9vblBvaW50ZXJPdmVyT3V0ID0gdGhpcy5fb25Qb2ludGVyT3Zlck91dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25XaGVlbCA9IHRoaXMub25XaGVlbC5iaW5kKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBpbnRlcmFjdGlvbiBtb2RlIGZvciBhbGwgZGlzcGxheSBvYmplY3RzLlxuICAgKiBAc2VlIENvbnRhaW5lci5ldmVudE1vZGVcbiAgICogQHR5cGUge0V2ZW50TW9kZX1cbiAgICogQHJlYWRvbmx5XG4gICAqIEBzaW5jZSA3LjIuMFxuICAgKi9cbiAgc3RhdGljIGdldCBkZWZhdWx0RXZlbnRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0RXZlbnRNb2RlO1xuICB9XG4gIC8qKlxuICAgKiBSdW5uZXIgaW5pdCBjYWxsZWQsIHZpZXcgaXMgYXZhaWxhYmxlIGF0IHRoaXMgcG9pbnQuXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGluaXQob3B0aW9ucykge1xuICAgIGNvbnN0IHsgY2FudmFzLCByZXNvbHV0aW9uIH0gPSB0aGlzLnJlbmRlcmVyO1xuICAgIHRoaXMuc2V0VGFyZ2V0RWxlbWVudChjYW52YXMpO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG4gICAgX0V2ZW50U3lzdGVtLl9kZWZhdWx0RXZlbnRNb2RlID0gb3B0aW9ucy5ldmVudE1vZGUgPz8gXCJwYXNzaXZlXCI7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLmZlYXR1cmVzLCBvcHRpb25zLmV2ZW50RmVhdHVyZXMgPz8ge30pO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LmVuYWJsZUdsb2JhbE1vdmVFdmVudHMgPSB0aGlzLmZlYXR1cmVzLmdsb2JhbE1vdmU7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBjaGFuZ2luZyByZXNvbHV0aW9uLlxuICAgKiBAaWdub3JlXG4gICAqL1xuICByZXNvbHV0aW9uQ2hhbmdlKHJlc29sdXRpb24pIHtcbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuICB9XG4gIC8qKiBEZXN0cm95cyBhbGwgZXZlbnQgbGlzdGVuZXJzIGFuZCBkZXRhY2hlcyB0aGUgcmVuZGVyZXIuICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zZXRUYXJnZXRFbGVtZW50KG51bGwpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX2N1cnJlbnRDdXJzb3IgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgKiBUaGUgY3Vyc29yIGNhbiBiZSBhIENTUyBjdXJzb3Igc3RyaW5nLCBhIGN1c3RvbSBjYWxsYmFjayBmdW5jdGlvbiwgb3IgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnkuXG4gICAqIEBwYXJhbSBtb2RlIC0gQ3Vyc29yIG1vZGUgdG8gc2V0LiBDYW4gYmU6XG4gICAqIC0gQSBDU1MgY3Vyc29yIHN0cmluZyAoZS5nLiwgJ3BvaW50ZXInLCAnZ3JhYicpXG4gICAqIC0gQSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICogLSBudWxsL3VuZGVmaW5lZCB0byByZXNldCB0byBkZWZhdWx0XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIFVzaW5nIHByZWRlZmluZWQgY3Vyc29yIHN0eWxlc1xuICAgKiBhcHAucmVuZGVyZXIuZXZlbnRzLnNldEN1cnNvcigncG9pbnRlcicpOyAgICAvLyBTZXQgc3RhbmRhcmQgcG9pbnRlciBjdXJzb3JcbiAgICogYXBwLnJlbmRlcmVyLmV2ZW50cy5zZXRDdXJzb3IoJ2dyYWInKTsgICAgICAgLy8gU2V0IGdyYWIgY3Vyc29yXG4gICAqIGFwcC5yZW5kZXJlci5ldmVudHMuc2V0Q3Vyc29yKG51bGwpOyAgICAgICAgIC8vIFJlc2V0IHRvIGRlZmF1bHRcbiAgICpcbiAgICogLy8gVXNpbmcgY3VzdG9tIGN1cnNvciBzdHlsZXNcbiAgICogYXBwLnJlbmRlcmVyLmV2ZW50cy5jdXJzb3JTdHlsZXMuY3VzdG9tID0gJ3VybChcImN1cnNvci5wbmdcIiksIGF1dG8nO1xuICAgKiBhcHAucmVuZGVyZXIuZXZlbnRzLnNldEN1cnNvcignY3VzdG9tJyk7ICAgICAvLyBBcHBseSBjdXN0b20gY3Vyc29yXG4gICAqXG4gICAqIC8vIFVzaW5nIGNhbGxiYWNrLWJhc2VkIGN1cnNvclxuICAgKiBhcHAucmVuZGVyZXIuZXZlbnRzLmN1cnNvclN0eWxlcy5keW5hbWljID0gKG1vZGUpID0+IHtcbiAgICogICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gbW9kZSA9PT0gJ2hvdmVyJyA/ICdwb2ludGVyJyA6ICdkZWZhdWx0JztcbiAgICogfTtcbiAgICogYXBwLnJlbmRlcmVyLmV2ZW50cy5zZXRDdXJzb3IoJ2R5bmFtaWMnKTsgICAgLy8gVHJpZ2dlciBjdXJzb3IgY2FsbGJhY2tcbiAgICogYGBgXG4gICAqIEByZW1hcmtzXG4gICAqIC0gSGFzIG5vIGVmZmVjdCBvbiBPZmZzY3JlZW5DYW52YXMgZXhjZXB0IGZvciBjYWxsYmFjay1iYXNlZCBjdXJzb3JzXG4gICAqIC0gQ2FjaGVzIGN1cnJlbnQgY3Vyc29yIHRvIGF2b2lkIHVubmVjZXNzYXJ5IERPTSB1cGRhdGVzXG4gICAqIC0gU3VwcG9ydHMgQ1NTIGN1cnNvciB2YWx1ZXMsIHN0eWxlIG9iamVjdHMsIGFuZCBjYWxsYmFjayBmdW5jdGlvbnNcbiAgICogQHNlZSB7QGxpbmsgRXZlbnRTeXN0ZW0uY3Vyc29yU3R5bGVzfSBGb3IgZGVmaW5pbmcgY3VzdG9tIGN1cnNvciBzdHlsZXNcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2N1cnNvcn0gTUROIEN1cnNvciBSZWZlcmVuY2VcbiAgICovXG4gIHNldEN1cnNvcihtb2RlKSB7XG4gICAgbW9kZSB8fCAobW9kZSA9IFwiZGVmYXVsdFwiKTtcbiAgICBsZXQgYXBwbHlTdHlsZXMgPSB0cnVlO1xuICAgIGlmIChnbG9iYWxUaGlzLk9mZnNjcmVlbkNhbnZhcyAmJiB0aGlzLmRvbUVsZW1lbnQgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICAgIGFwcGx5U3R5bGVzID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLl9jdXJyZW50Q3Vyc29yID09PSBtb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2N1cnJlbnRDdXJzb3IgPSBtb2RlO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jdXJzb3JTdHlsZXNbbW9kZV07XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiBzdHlsZSkge1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgaWYgKGFwcGx5U3R5bGVzKSB7XG4gICAgICAgICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gc3R5bGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIGlmIChhcHBseVN0eWxlcykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmRvbUVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcHBseVN0eWxlcyAmJiB0eXBlb2YgbW9kZSA9PT0gXCJzdHJpbmdcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSkge1xuICAgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGUgZ2xvYmFsIHBvaW50ZXIgZXZlbnQgaW5zdGFuY2UgY29udGFpbmluZyB0aGUgbW9zdCByZWNlbnQgcG9pbnRlciBzdGF0ZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGFjY2Vzc2luZyBwb2ludGVyIGluZm9ybWF0aW9uIHdpdGhvdXQgbGlzdGVuaW5nIHRvIGV2ZW50cy5cbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQWNjZXNzIGN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbiBhdCBhbnkgdGltZVxuICAgKiBjb25zdCBldmVudFN5c3RlbSA9IGFwcC5yZW5kZXJlci5ldmVudHM7XG4gICAqIGNvbnN0IHBvaW50ZXIgPSBldmVudFN5c3RlbS5wb2ludGVyO1xuICAgKlxuICAgKiAvLyBHZXQgZ2xvYmFsIGNvb3JkaW5hdGVzXG4gICAqIGNvbnNvbGUubG9nKCdQb3NpdGlvbjonLCBwb2ludGVyLmdsb2JhbC54LCBwb2ludGVyLmdsb2JhbC55KTtcbiAgICpcbiAgICogLy8gQ2hlY2sgYnV0dG9uIHN0YXRlXG4gICAqIGNvbnNvbGUubG9nKCdCdXR0b25zIHByZXNzZWQ6JywgcG9pbnRlci5idXR0b25zKTtcbiAgICpcbiAgICogLy8gR2V0IHBvaW50ZXIgdHlwZSBhbmQgcHJlc3N1cmVcbiAgICogY29uc29sZS5sb2coJ1R5cGU6JywgcG9pbnRlci5wb2ludGVyVHlwZSk7XG4gICAqIGNvbnNvbGUubG9nKCdQcmVzc3VyZTonLCBwb2ludGVyLnByZXNzdXJlKTtcbiAgICogYGBgXG4gICAqIEByZWFkb25seVxuICAgKiBAc2luY2UgNy4yLjBcbiAgICogQHNlZSB7QGxpbmsgRmVkZXJhdGVkUG9pbnRlckV2ZW50fSBGb3IgYWxsIGF2YWlsYWJsZSBwb2ludGVyIHByb3BlcnRpZXNcbiAgICovXG4gIGdldCBwb2ludGVyKCkge1xuICAgIHJldHVybiB0aGlzLl9yb290UG9pbnRlckV2ZW50O1xuICB9XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBwb2ludGVyIGRvd24gZXZlbnRzIG9uIHtAbGluayBFdmVudFN5c3RlbSNkb21FbGVtZW50IHRoaXMuZG9tRWxlbWVudH0uXG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudCAtIFRoZSBuYXRpdmUgbW91c2UvcG9pbnRlci90b3VjaCBldmVudC5cbiAgICovXG4gIF9vblBvaW50ZXJEb3duKG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzLmNsaWNrKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBjb25zdCBldmVudHMgPSB0aGlzLl9ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG5hdGl2ZUV2ZW50KTtcbiAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZCkge1xuICAgICAgY29uc3QgY2FuY2VsYWJsZSA9IG5hdGl2ZUV2ZW50LmNhbmNlbGFibGUgfHwgIShcImNhbmNlbGFibGVcIiBpbiBuYXRpdmVFdmVudCk7XG4gICAgICBpZiAoY2FuY2VsYWJsZSkge1xuICAgICAgICBuYXRpdmVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IGV2ZW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvbnN0IG5hdGl2ZUV2ZW50MiA9IGV2ZW50c1tpXTtcbiAgICAgIGNvbnN0IGZlZGVyYXRlZEV2ZW50ID0gdGhpcy5fYm9vdHN0cmFwRXZlbnQodGhpcy5fcm9vdFBvaW50ZXJFdmVudCwgbmF0aXZlRXZlbnQyKTtcbiAgICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KGZlZGVyYXRlZEV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3IodGhpcy5yb290Qm91bmRhcnkuY3Vyc29yKTtcbiAgfVxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgcG9pbnRlciBtb3ZlIGV2ZW50cyBvbiBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0jZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LlxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnQgLSBUaGUgbmF0aXZlIG1vdXNlL3BvaW50ZXIvdG91Y2ggZXZlbnRzLlxuICAgKi9cbiAgX29uUG9pbnRlck1vdmUobmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZmVhdHVyZXMubW92ZSlcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5yb290VGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgRXZlbnRzVGlja2VyLnBvaW50ZXJNb3ZlZCgpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSB0aGlzLl9ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG5hdGl2ZUV2ZW50KTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG5vcm1hbGl6ZWRFdmVudHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBjb25zdCBldmVudCA9IHRoaXMuX2Jvb3RzdHJhcEV2ZW50KHRoaXMuX3Jvb3RQb2ludGVyRXZlbnQsIG5vcm1hbGl6ZWRFdmVudHNbaV0pO1xuICAgICAgdGhpcy5yb290Qm91bmRhcnkubWFwRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLnNldEN1cnNvcih0aGlzLnJvb3RCb3VuZGFyeS5jdXJzb3IpO1xuICB9XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBwb2ludGVyIHVwIGV2ZW50cyBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0jZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LlxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnQgLSBUaGUgbmF0aXZlIG1vdXNlL3BvaW50ZXIvdG91Y2ggZXZlbnQuXG4gICAqL1xuICBfb25Qb2ludGVyVXAobmF0aXZlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZmVhdHVyZXMuY2xpY2spXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5yb290Qm91bmRhcnkucm9vdFRhcmdldCA9IHRoaXMucmVuZGVyZXIubGFzdE9iamVjdFJlbmRlcmVkO1xuICAgIGxldCB0YXJnZXQgPSBuYXRpdmVFdmVudC50YXJnZXQ7XG4gICAgaWYgKG5hdGl2ZUV2ZW50LmNvbXBvc2VkUGF0aCAmJiBuYXRpdmVFdmVudC5jb21wb3NlZFBhdGgoKS5sZW5ndGggPiAwKSB7XG4gICAgICB0YXJnZXQgPSBuYXRpdmVFdmVudC5jb21wb3NlZFBhdGgoKVswXTtcbiAgICB9XG4gICAgY29uc3Qgb3V0c2lkZSA9IHRhcmdldCAhPT0gdGhpcy5kb21FbGVtZW50ID8gXCJvdXRzaWRlXCIgOiBcIlwiO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSB0aGlzLl9ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG5hdGl2ZUV2ZW50KTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG5vcm1hbGl6ZWRFdmVudHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBjb25zdCBldmVudCA9IHRoaXMuX2Jvb3RzdHJhcEV2ZW50KHRoaXMuX3Jvb3RQb2ludGVyRXZlbnQsIG5vcm1hbGl6ZWRFdmVudHNbaV0pO1xuICAgICAgZXZlbnQudHlwZSArPSBvdXRzaWRlO1xuICAgICAgdGhpcy5yb290Qm91bmRhcnkubWFwRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLnNldEN1cnNvcih0aGlzLnJvb3RCb3VuZGFyeS5jdXJzb3IpO1xuICB9XG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBwb2ludGVyIG92ZXIgJiBvdXQgZXZlbnRzIG9uIHtAbGluayBFdmVudFN5c3RlbSNkb21FbGVtZW50IHRoaXMuZG9tRWxlbWVudH0uXG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudCAtIFRoZSBuYXRpdmUgbW91c2UvcG9pbnRlci90b3VjaCBldmVudC5cbiAgICovXG4gIF9vblBvaW50ZXJPdmVyT3V0KG5hdGl2ZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmZlYXR1cmVzLmNsaWNrKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMucm9vdEJvdW5kYXJ5LnJvb3RUYXJnZXQgPSB0aGlzLnJlbmRlcmVyLmxhc3RPYmplY3RSZW5kZXJlZDtcbiAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gdGhpcy5fbm9ybWFsaXplVG9Qb2ludGVyRGF0YShuYXRpdmVFdmVudCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBub3JtYWxpemVkRXZlbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9ib290c3RyYXBFdmVudCh0aGlzLl9yb290UG9pbnRlckV2ZW50LCBub3JtYWxpemVkRXZlbnRzW2ldKTtcbiAgICAgIHRoaXMucm9vdEJvdW5kYXJ5Lm1hcEV2ZW50KGV2ZW50KTtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3IodGhpcy5yb290Qm91bmRhcnkuY3Vyc29yKTtcbiAgfVxuICAvKipcbiAgICogUGFzc2l2ZSBoYW5kbGVyIGZvciBgd2hlZWxgIGV2ZW50cyBvbiB7QGxpbmsgRXZlbnRTeXN0ZW0uZG9tRWxlbWVudCB0aGlzLmRvbUVsZW1lbnR9LlxuICAgKiBAcGFyYW0gbmF0aXZlRXZlbnQgLSBUaGUgbmF0aXZlIHdoZWVsIGV2ZW50LlxuICAgKi9cbiAgb25XaGVlbChuYXRpdmVFdmVudCkge1xuICAgIGlmICghdGhpcy5mZWF0dXJlcy53aGVlbClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB3aGVlbEV2ZW50ID0gdGhpcy5ub3JtYWxpemVXaGVlbEV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICB0aGlzLnJvb3RCb3VuZGFyeS5yb290VGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgdGhpcy5yb290Qm91bmRhcnkubWFwRXZlbnQod2hlZWxFdmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHtAbGluayBFdmVudFN5c3RlbSNkb21FbGVtZW50IGRvbUVsZW1lbnR9IGFuZCBiaW5kcyBldmVudCBsaXN0ZW5lcnMuXG4gICAqIFRoaXMgbWV0aG9kIG1hbmFnZXMgdGhlIERPTSBldmVudCBiaW5kaW5ncyBmb3IgdGhlIGV2ZW50IHN5c3RlbSwgYWxsb3dpbmcgeW91IHRvXG4gICAqIGNoYW5nZSBvciByZW1vdmUgdGhlIHRhcmdldCBlbGVtZW50IHRoYXQgcmVjZWl2ZXMgaW5wdXQgZXZlbnRzLlxuICAgKiA+IFshSU1QT1JUQU5UXSBUaGlzIHdpbGwgZGVmYXVsdCB0byB0aGUgY2FudmFzIGVsZW1lbnQgb2YgdGhlIHJlbmRlcmVyLCBzbyB5b3VcbiAgICogPiBzaG91bGQgbm90IG5lZWQgdG8gY2FsbCB0aGlzIHVubGVzcyB5b3UgYXJlIHVzaW5nIGEgY3VzdG9tIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBlbGVtZW50IC0gVGhlIG5ldyBET00gZWxlbWVudCB0byBiaW5kIGV2ZW50cyB0bywgb3IgbnVsbCB0byByZW1vdmUgYWxsIGV2ZW50IGJpbmRpbmdzXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIFNldCBhIG5ldyBjYW52YXMgZWxlbWVudCBhcyB0aGUgdGFyZ2V0XG4gICAqIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgKiBhcHAucmVuZGVyZXIuZXZlbnRzLnNldFRhcmdldEVsZW1lbnQoY2FudmFzKTtcbiAgICpcbiAgICogLy8gUmVtb3ZlIGFsbCBldmVudCBiaW5kaW5nc1xuICAgKiBhcHAucmVuZGVyZXIuZXZlbnRzLnNldFRhcmdldEVsZW1lbnQobnVsbCk7XG4gICAqXG4gICAqIC8vIFN3aXRjaCB0byBhIGRpZmZlcmVudCBjYW52YXNcbiAgICogY29uc3QgbmV3Q2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2dhbWUtY2FudmFzJyk7XG4gICAqIGFwcC5yZW5kZXJlci5ldmVudHMuc2V0VGFyZ2V0RWxlbWVudChuZXdDYW52YXMpO1xuICAgKiBgYGBcbiAgICogQHJlbWFya3NcbiAgICogLSBBdXRvbWF0aWNhbGx5IHJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGZyb20gcHJldmlvdXMgZWxlbWVudFxuICAgKiAtIFJlcXVpcmVkIGZvciB0aGUgZXZlbnQgc3lzdGVtIHRvIGZ1bmN0aW9uXG4gICAqIC0gU2FmZSB0byBjYWxsIG11bHRpcGxlIHRpbWVzXG4gICAqIEBzZWUge0BsaW5rIEV2ZW50U3lzdGVtI2RvbUVsZW1lbnR9IFRoZSBjdXJyZW50IERPTSBlbGVtZW50XG4gICAqIEBzZWUge0BsaW5rIEV2ZW50c1RpY2tlcn0gRm9yIHRoZSB0aWNrZXIgc3lzdGVtIHRoYXQgdHJhY2tzIHBvaW50ZXIgbW92ZW1lbnRcbiAgICovXG4gIHNldFRhcmdldEVsZW1lbnQoZWxlbWVudCkge1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50cygpO1xuICAgIHRoaXMuZG9tRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgRXZlbnRzVGlja2VyLmRvbUVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuX2FkZEV2ZW50cygpO1xuICB9XG4gIC8qKiBSZWdpc3RlciBldmVudCBsaXN0ZW5lcnMgb24ge0BsaW5rIFJlbmRlcmVyI2RvbUVsZW1lbnQgdGhpcy5kb21FbGVtZW50fS4gKi9cbiAgX2FkZEV2ZW50cygpIHtcbiAgICBpZiAodGhpcy5fZXZlbnRzQWRkZWQgfHwgIXRoaXMuZG9tRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBFdmVudHNUaWNrZXIuYWRkVGlja2VyTGlzdGVuZXIoKTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZG9tRWxlbWVudC5zdHlsZTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGlmIChnbG9iYWxUaGlzLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSB7XG4gICAgICAgIHN0eWxlLm1zQ29udGVudFpvb21pbmcgPSBcIm5vbmVcIjtcbiAgICAgICAgc3R5bGUubXNUb3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMuX29uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLl9vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmxlYXZlXCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLCB0aGlzLl9vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdsb2JhbFRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX29uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCB0aGlzLl9vblBvaW50ZXJPdmVyT3V0LCB0cnVlKTtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKSB7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLl9vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX29uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIHRoaXMub25XaGVlbCwge1xuICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLl9ldmVudHNBZGRlZCA9IHRydWU7XG4gIH1cbiAgLyoqIFVucmVnaXN0ZXIgZXZlbnQgbGlzdGVuZXJzIG9uIHtAbGluayBFdmVudFN5c3RlbSNkb21FbGVtZW50IHRoaXMuZG9tRWxlbWVudH0uICovXG4gIF9yZW1vdmVFdmVudHMoKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHNBZGRlZCB8fCAhdGhpcy5kb21FbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIEV2ZW50c1RpY2tlci5yZW1vdmVUaWNrZXJMaXN0ZW5lcigpO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5kb21FbGVtZW50LnN0eWxlO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgaWYgKGdsb2JhbFRoaXMubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpIHtcbiAgICAgICAgc3R5bGUubXNDb250ZW50Wm9vbWluZyA9IFwiXCI7XG4gICAgICAgIHN0eWxlLm1zVG91Y2hBY3Rpb24gPSBcIlwiO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9IFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cykge1xuICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5fb25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMuX29uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybGVhdmVcIiwgdGhpcy5fb25Qb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJvdmVyXCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgZ2xvYmFsVGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMuX29uUG9pbnRlclVwLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2xvYmFsVGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5fb25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHRoaXMuX29uUG9pbnRlck92ZXJPdXQsIHRydWUpO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5fb25Qb2ludGVyT3Zlck91dCwgdHJ1ZSk7XG4gICAgICBnbG9iYWxUaGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuX29uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX29uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMuX29uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5fb25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgdGhpcy5vbldoZWVsLCB0cnVlKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX2V2ZW50c0FkZGVkID0gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICAqIE1hcHMgY29vcmRpbmF0ZXMgZnJvbSBET00vc2NyZWVuIHNwYWNlIGludG8gUGl4aUpTIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXMuXG4gICAqIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBjdXJyZW50IHNjYWxlLCBwb3NpdGlvbiwgYW5kIHJlc29sdXRpb24gb2YgdGhlIERPTSBlbGVtZW50LlxuICAgKiBAcGFyYW0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gc3RvcmUgdGhlIG1hcHBlZCBjb29yZGluYXRlcyBpblxuICAgKiBAcGFyYW0geCAtIFRoZSB4IGNvb3JkaW5hdGUgaW4gRE9NL2NsaWVudCBzcGFjZVxuICAgKiBAcGFyYW0geSAtIFRoZSB5IGNvb3JkaW5hdGUgaW4gRE9NL2NsaWVudCBzcGFjZVxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBNYXAgbW91c2UgY29vcmRpbmF0ZXMgdG8gUGl4aUpTIHNwYWNlXG4gICAqIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KCk7XG4gICAqIGFwcC5yZW5kZXJlci5ldmVudHMubWFwUG9zaXRpb25Ub1BvaW50KFxuICAgKiAgICAgcG9pbnQsXG4gICAqICAgICBldmVudC5jbGllbnRYLFxuICAgKiAgICAgZXZlbnQuY2xpZW50WVxuICAgKiApO1xuICAgKiBjb25zb2xlLmxvZygnTWFwcGVkIHBvc2l0aW9uOicsIHBvaW50LngsIHBvaW50LnkpO1xuICAgKlxuICAgKiAvLyBVc2luZyB3aXRoIHBvaW50ZXIgZXZlbnRzXG4gICAqIHNwcml0ZS5vbigncG9pbnRlcm1vdmUnLCAoZXZlbnQpID0+IHtcbiAgICogICAgIC8vIGV2ZW50Lmdsb2JhbCBhbHJlYWR5IGNvbnRhaW5zIG1hcHBlZCBjb29yZGluYXRlc1xuICAgKiAgICAgY29uc29sZS5sb2coJ0dsb2JhbDonLCBldmVudC5nbG9iYWwueCwgZXZlbnQuZ2xvYmFsLnkpO1xuICAgKlxuICAgKiAgICAgLy8gTWFwIHRvIGxvY2FsIGNvb3JkaW5hdGVzXG4gICAqICAgICBjb25zdCBsb2NhbCA9IGV2ZW50LmdldExvY2FsUG9zaXRpb24oc3ByaXRlKTtcbiAgICogICAgIGNvbnNvbGUubG9nKCdMb2NhbDonLCBsb2NhbC54LCBsb2NhbC55KTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAcmVtYXJrc1xuICAgKiAtIEFjY291bnRzIGZvciBlbGVtZW50IHNjYWxpbmcgYW5kIHBvc2l0aW9uaW5nXG4gICAqIC0gQWRqdXN0cyBmb3IgZGV2aWNlIHBpeGVsIHJhdGlvL3Jlc29sdXRpb25cbiAgICovXG4gIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgeCwgeSkge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmRvbUVsZW1lbnQuaXNDb25uZWN0ZWQgPyB0aGlzLmRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHdpZHRoOiB0aGlzLmRvbUVsZW1lbnQud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuZG9tRWxlbWVudC5oZWlnaHQsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgdG9wOiAwXG4gICAgfTtcbiAgICBjb25zdCByZXNvbHV0aW9uTXVsdGlwbGllciA9IDEgLyB0aGlzLnJlc29sdXRpb247XG4gICAgcG9pbnQueCA9ICh4IC0gcmVjdC5sZWZ0KSAqICh0aGlzLmRvbUVsZW1lbnQud2lkdGggLyByZWN0LndpZHRoKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIHBvaW50LnkgPSAoeSAtIHJlY3QudG9wKSAqICh0aGlzLmRvbUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gIH1cbiAgLyoqXG4gICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgKiBAcGFyYW0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICogQHJldHVybnMgQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAqL1xuICBfbm9ybWFsaXplVG9Qb2ludGVyRGF0YShldmVudCkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcbiAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGxpID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpIDwgbGk7IGkrKykge1xuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5idXR0b24gPSAwO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2guYnV0dG9ucyA9IDE7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2guaXNQcmltYXJ5ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5oZWlnaHQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnRpbHRYID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50aWx0WSA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlclR5cGUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgdG91Y2gucG9pbnRlclR5cGUgPSBcInRvdWNoXCI7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50d2lzdCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC50d2lzdCA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgIHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTtcbiAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdG91Y2gudHlwZSA9IGV2ZW50LnR5cGU7XG4gICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0b3VjaCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghZ2xvYmFsVGhpcy5Nb3VzZUV2ZW50IHx8IGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiAoIXRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzIHx8ICEoZXZlbnQgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlBvaW50ZXJFdmVudCkpKSB7XG4gICAgICBjb25zdCB0ZW1wRXZlbnQgPSBldmVudDtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmlzUHJpbWFyeSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC53aWR0aCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LndpZHRoID0gMTtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LmhlaWdodCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LmhlaWdodCA9IDE7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50aWx0WCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnRpbHRYID0gMDtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnRpbHRZID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICB0ZW1wRXZlbnQudGlsdFkgPSAwO1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQucG9pbnRlclR5cGUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC5wb2ludGVyVHlwZSA9IFwibW91c2VcIjtcbiAgICAgIGlmICh0eXBlb2YgdGVtcEV2ZW50LnBvaW50ZXJJZCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC5wcmVzc3VyZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgdGVtcEV2ZW50LnByZXNzdXJlID0gMC41O1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wRXZlbnQudHdpc3QgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC50d2lzdCA9IDA7XG4gICAgICBpZiAodHlwZW9mIHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHRlbXBFdmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgdGVtcEV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG4gICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2godGVtcEV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHM7XG4gIH1cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZXMgdGhlIG5hdGl2ZSB7QGxpbmsgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3VpZXZlbnRzLyNpbnRlcmZhY2Utd2hlZWxldmVudCBXaGVlbEV2ZW50fS5cbiAgICpcbiAgICogVGhlIHJldHVybmVkIHtAbGluayBGZWRlcmF0ZWRXaGVlbEV2ZW50fSBpcyBhIHNoYXJlZCBpbnN0YW5jZS4gSXQgd2lsbCBub3QgcGVyc2lzdCBhY3Jvc3NcbiAgICogbXVsdGlwbGUgbmF0aXZlIHdoZWVsIGV2ZW50cy5cbiAgICogQHBhcmFtIG5hdGl2ZUV2ZW50IC0gVGhlIG5hdGl2ZSB3aGVlbCBldmVudCB0aGF0IG9jY3VycmVkIG9uIHRoZSBjYW52YXMuXG4gICAqIEByZXR1cm5zIEEgZmVkZXJhdGVkIHdoZWVsIGV2ZW50LlxuICAgKi9cbiAgbm9ybWFsaXplV2hlZWxFdmVudChuYXRpdmVFdmVudCkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fcm9vdFdoZWVsRXZlbnQ7XG4gICAgdGhpcy5fdHJhbnNmZXJNb3VzZURhdGEoZXZlbnQsIG5hdGl2ZUV2ZW50KTtcbiAgICBldmVudC5kZWx0YVggPSBuYXRpdmVFdmVudC5kZWx0YVg7XG4gICAgZXZlbnQuZGVsdGFZID0gbmF0aXZlRXZlbnQuZGVsdGFZO1xuICAgIGV2ZW50LmRlbHRhWiA9IG5hdGl2ZUV2ZW50LmRlbHRhWjtcbiAgICBldmVudC5kZWx0YU1vZGUgPSBuYXRpdmVFdmVudC5kZWx0YU1vZGU7XG4gICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoZXZlbnQuc2NyZWVuLCBuYXRpdmVFdmVudC5jbGllbnRYLCBuYXRpdmVFdmVudC5jbGllbnRZKTtcbiAgICBldmVudC5nbG9iYWwuY29weUZyb20oZXZlbnQuc2NyZWVuKTtcbiAgICBldmVudC5vZmZzZXQuY29weUZyb20oZXZlbnQuc2NyZWVuKTtcbiAgICBldmVudC5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgIGV2ZW50LnR5cGUgPSBuYXRpdmVFdmVudC50eXBlO1xuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogTm9ybWFsaXplcyB0aGUgYG5hdGl2ZUV2ZW50YCBpbnRvIGEgZmVkZXJhdGVlZCB7QGxpbmsgRmVkZXJhdGVkUG9pbnRlckV2ZW50fS5cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudFxuICAgKi9cbiAgX2Jvb3RzdHJhcEV2ZW50KGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBudWxsO1xuICAgIGV2ZW50Lm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgZXZlbnQucG9pbnRlcklkID0gbmF0aXZlRXZlbnQucG9pbnRlcklkO1xuICAgIGV2ZW50LndpZHRoID0gbmF0aXZlRXZlbnQud2lkdGg7XG4gICAgZXZlbnQuaGVpZ2h0ID0gbmF0aXZlRXZlbnQuaGVpZ2h0O1xuICAgIGV2ZW50LmlzUHJpbWFyeSA9IG5hdGl2ZUV2ZW50LmlzUHJpbWFyeTtcbiAgICBldmVudC5wb2ludGVyVHlwZSA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJUeXBlO1xuICAgIGV2ZW50LnByZXNzdXJlID0gbmF0aXZlRXZlbnQucHJlc3N1cmU7XG4gICAgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gbmF0aXZlRXZlbnQudGFuZ2VudGlhbFByZXNzdXJlO1xuICAgIGV2ZW50LnRpbHRYID0gbmF0aXZlRXZlbnQudGlsdFg7XG4gICAgZXZlbnQudGlsdFkgPSBuYXRpdmVFdmVudC50aWx0WTtcbiAgICBldmVudC50d2lzdCA9IG5hdGl2ZUV2ZW50LnR3aXN0O1xuICAgIHRoaXMuX3RyYW5zZmVyTW91c2VEYXRhKGV2ZW50LCBuYXRpdmVFdmVudCk7XG4gICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoZXZlbnQuc2NyZWVuLCBuYXRpdmVFdmVudC5jbGllbnRYLCBuYXRpdmVFdmVudC5jbGllbnRZKTtcbiAgICBldmVudC5nbG9iYWwuY29weUZyb20oZXZlbnQuc2NyZWVuKTtcbiAgICBldmVudC5vZmZzZXQuY29weUZyb20oZXZlbnQuc2NyZWVuKTtcbiAgICBldmVudC5pc1RydXN0ZWQgPSBuYXRpdmVFdmVudC5pc1RydXN0ZWQ7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IFwicG9pbnRlcmxlYXZlXCIpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSBcInBvaW50ZXJvdXRcIjtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnR5cGUuc3RhcnRzV2l0aChcIm1vdXNlXCIpKSB7XG4gICAgICBldmVudC50eXBlID0gZXZlbnQudHlwZS5yZXBsYWNlKFwibW91c2VcIiwgXCJwb2ludGVyXCIpO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudHlwZS5zdGFydHNXaXRoKFwidG91Y2hcIikpIHtcbiAgICAgIGV2ZW50LnR5cGUgPSBUT1VDSF9UT19QT0lOVEVSW2V2ZW50LnR5cGVdIHx8IGV2ZW50LnR5cGU7XG4gICAgfVxuICAgIHJldHVybiBldmVudDtcbiAgfVxuICAvKipcbiAgICogVHJhbnNmZXJzIGJhc2UgJiBtb3VzZSBldmVudCBkYXRhIGZyb20gdGhlIGBuYXRpdmVFdmVudGAgdG8gdGhlIGZlZGVyYXRlZCBldmVudC5cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSBuYXRpdmVFdmVudFxuICAgKi9cbiAgX3RyYW5zZmVyTW91c2VEYXRhKGV2ZW50LCBuYXRpdmVFdmVudCkge1xuICAgIGV2ZW50LmlzVHJ1c3RlZCA9IG5hdGl2ZUV2ZW50LmlzVHJ1c3RlZDtcbiAgICBldmVudC5zcmNFbGVtZW50ID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudDtcbiAgICBldmVudC50aW1lU3RhbXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBldmVudC50eXBlID0gbmF0aXZlRXZlbnQudHlwZTtcbiAgICBldmVudC5hbHRLZXkgPSBuYXRpdmVFdmVudC5hbHRLZXk7XG4gICAgZXZlbnQuYnV0dG9uID0gbmF0aXZlRXZlbnQuYnV0dG9uO1xuICAgIGV2ZW50LmJ1dHRvbnMgPSBuYXRpdmVFdmVudC5idXR0b25zO1xuICAgIGV2ZW50LmNsaWVudC54ID0gbmF0aXZlRXZlbnQuY2xpZW50WDtcbiAgICBldmVudC5jbGllbnQueSA9IG5hdGl2ZUV2ZW50LmNsaWVudFk7XG4gICAgZXZlbnQuY3RybEtleSA9IG5hdGl2ZUV2ZW50LmN0cmxLZXk7XG4gICAgZXZlbnQubWV0YUtleSA9IG5hdGl2ZUV2ZW50Lm1ldGFLZXk7XG4gICAgZXZlbnQubW92ZW1lbnQueCA9IG5hdGl2ZUV2ZW50Lm1vdmVtZW50WDtcbiAgICBldmVudC5tb3ZlbWVudC55ID0gbmF0aXZlRXZlbnQubW92ZW1lbnRZO1xuICAgIGV2ZW50LnBhZ2UueCA9IG5hdGl2ZUV2ZW50LnBhZ2VYO1xuICAgIGV2ZW50LnBhZ2UueSA9IG5hdGl2ZUV2ZW50LnBhZ2VZO1xuICAgIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBudWxsO1xuICAgIGV2ZW50LnNoaWZ0S2V5ID0gbmF0aXZlRXZlbnQuc2hpZnRLZXk7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX0V2ZW50U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgbmFtZTogXCJldmVudHNcIixcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgcHJpb3JpdHk6IC0xXG59O1xuLyoqXG4gKiBUaGUgZXZlbnQgZmVhdHVyZXMgdGhhdCBhcmUgZW5hYmxlZCBieSB0aGUgRXZlbnRTeXN0ZW1cbiAqIEBzaW5jZSA3LjIuMFxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBFdmVudFN5c3RlbSwgRXZlbnRTeXN0ZW1GZWF0dXJlcyB9IGZyb20gJ3BpeGkuanMnO1xuICogLy8gQWNjZXNzIHRoZSBkZWZhdWx0IGV2ZW50IGZlYXR1cmVzXG4gKiBFdmVudFN5c3RlbS5kZWZhdWx0RXZlbnRGZWF0dXJlcyA9IHtcbiAqICAgICAvLyBFbmFibGUgcG9pbnRlciBtb3ZlbWVudCBldmVudHNcbiAqICAgICBtb3ZlOiB0cnVlLFxuICogICAgIC8vIEVuYWJsZSBnbG9iYWwgcG9pbnRlciBtb3ZlIGV2ZW50c1xuICogICAgIGdsb2JhbE1vdmU6IHRydWUsXG4gKiAgICAgLy8gRW5hYmxlIGNsaWNrIGV2ZW50c1xuICogICAgIGNsaWNrOiB0cnVlLFxuICogICAgIC8vIEVuYWJsZSB3aGVlbCBldmVudHNcbiAqICAgICB3aGVlbDogdHJ1ZSxcbiAqIH07XG4gKiBgYGBcbiAqL1xuX0V2ZW50U3lzdGVtLmRlZmF1bHRFdmVudEZlYXR1cmVzID0ge1xuICAvKiogRW5hYmxlcyBwb2ludGVyIGV2ZW50cyBhc3NvY2lhdGVkIHdpdGggcG9pbnRlciBtb3ZlbWVudC4gKi9cbiAgbW92ZTogdHJ1ZSxcbiAgLyoqIEVuYWJsZXMgZ2xvYmFsIHBvaW50ZXIgbW92ZSBldmVudHMuICovXG4gIGdsb2JhbE1vdmU6IHRydWUsXG4gIC8qKiBFbmFibGVzIHBvaW50ZXIgZXZlbnRzIGFzc29jaWF0ZWQgd2l0aCBjbGlja2luZy4gKi9cbiAgY2xpY2s6IHRydWUsXG4gIC8qKiBFbmFibGVzIHdoZWVsIGV2ZW50cy4gKi9cbiAgd2hlZWw6IHRydWVcbn07XG5sZXQgRXZlbnRTeXN0ZW0gPSBfRXZlbnRTeXN0ZW07XG5cbmV4cG9ydCB7IEV2ZW50U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFdmVudFN5c3RlbSB9IGZyb20gJy4vRXZlbnRTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEZlZGVyYXRlZEV2ZW50IH0gZnJvbSAnLi9GZWRlcmF0ZWRFdmVudC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IEZlZGVyYXRlZENvbnRhaW5lciA9IHtcbiAgb25jbGljazogbnVsbCxcbiAgb25tb3VzZWRvd246IG51bGwsXG4gIG9ubW91c2VlbnRlcjogbnVsbCxcbiAgb25tb3VzZWxlYXZlOiBudWxsLFxuICBvbm1vdXNlbW92ZTogbnVsbCxcbiAgb25nbG9iYWxtb3VzZW1vdmU6IG51bGwsXG4gIG9ubW91c2VvdXQ6IG51bGwsXG4gIG9ubW91c2VvdmVyOiBudWxsLFxuICBvbm1vdXNldXA6IG51bGwsXG4gIG9ubW91c2V1cG91dHNpZGU6IG51bGwsXG4gIG9ucG9pbnRlcmNhbmNlbDogbnVsbCxcbiAgb25wb2ludGVyZG93bjogbnVsbCxcbiAgb25wb2ludGVyZW50ZXI6IG51bGwsXG4gIG9ucG9pbnRlcmxlYXZlOiBudWxsLFxuICBvbnBvaW50ZXJtb3ZlOiBudWxsLFxuICBvbmdsb2JhbHBvaW50ZXJtb3ZlOiBudWxsLFxuICBvbnBvaW50ZXJvdXQ6IG51bGwsXG4gIG9ucG9pbnRlcm92ZXI6IG51bGwsXG4gIG9ucG9pbnRlcnRhcDogbnVsbCxcbiAgb25wb2ludGVydXA6IG51bGwsXG4gIG9ucG9pbnRlcnVwb3V0c2lkZTogbnVsbCxcbiAgb25yaWdodGNsaWNrOiBudWxsLFxuICBvbnJpZ2h0ZG93bjogbnVsbCxcbiAgb25yaWdodHVwOiBudWxsLFxuICBvbnJpZ2h0dXBvdXRzaWRlOiBudWxsLFxuICBvbnRhcDogbnVsbCxcbiAgb250b3VjaGNhbmNlbDogbnVsbCxcbiAgb250b3VjaGVuZDogbnVsbCxcbiAgb250b3VjaGVuZG91dHNpZGU6IG51bGwsXG4gIG9udG91Y2htb3ZlOiBudWxsLFxuICBvbmdsb2JhbHRvdWNobW92ZTogbnVsbCxcbiAgb250b3VjaHN0YXJ0OiBudWxsLFxuICBvbndoZWVsOiBudWxsLFxuICBnZXQgaW50ZXJhY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRNb2RlID09PSBcImR5bmFtaWNcIiB8fCB0aGlzLmV2ZW50TW9kZSA9PT0gXCJzdGF0aWNcIjtcbiAgfSxcbiAgc2V0IGludGVyYWN0aXZlKHZhbHVlKSB7XG4gICAgdGhpcy5ldmVudE1vZGUgPSB2YWx1ZSA/IFwic3RhdGljXCIgOiBcInBhc3NpdmVcIjtcbiAgfSxcbiAgX2ludGVybmFsRXZlbnRNb2RlOiB2b2lkIDAsXG4gIGdldCBldmVudE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVybmFsRXZlbnRNb2RlID8/IEV2ZW50U3lzdGVtLmRlZmF1bHRFdmVudE1vZGU7XG4gIH0sXG4gIHNldCBldmVudE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLl9pbnRlcm5hbEV2ZW50TW9kZSA9IHZhbHVlO1xuICB9LFxuICBpc0ludGVyYWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLmV2ZW50TW9kZSA9PT0gXCJzdGF0aWNcIiB8fCB0aGlzLmV2ZW50TW9kZSA9PT0gXCJkeW5hbWljXCI7XG4gIH0sXG4gIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG4gIGhpdEFyZWE6IG51bGwsXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjYXB0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiYm9vbGVhblwiICYmIG9wdGlvbnMgfHwgdHlwZW9mIG9wdGlvbnMgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5jYXB0dXJlO1xuICAgIGNvbnN0IHNpZ25hbCA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5zaWduYWwgOiB2b2lkIDA7XG4gICAgY29uc3Qgb25jZSA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5vbmNlID09PSB0cnVlIDogZmFsc2U7XG4gICAgY29uc3QgY29udGV4dCA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gdm9pZCAwIDogbGlzdGVuZXI7XG4gICAgdHlwZSA9IGNhcHR1cmUgPyBgJHt0eXBlfWNhcHR1cmVgIDogdHlwZTtcbiAgICBjb25zdCBsaXN0ZW5lckZuID0gdHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIgPyBsaXN0ZW5lciA6IGxpc3RlbmVyLmhhbmRsZUV2ZW50O1xuICAgIGNvbnN0IGVtaXR0ZXIgPSB0aGlzO1xuICAgIGlmIChzaWduYWwpIHtcbiAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4ge1xuICAgICAgICBlbWl0dGVyLm9mZih0eXBlLCBsaXN0ZW5lckZuLCBjb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAob25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKHR5cGUsIGxpc3RlbmVyRm4sIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0dGVyLm9uKHR5cGUsIGxpc3RlbmVyRm4sIGNvbnRleHQpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNhcHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgJiYgb3B0aW9ucyB8fCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmNhcHR1cmU7XG4gICAgY29uc3QgY29udGV4dCA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gdm9pZCAwIDogbGlzdGVuZXI7XG4gICAgdHlwZSA9IGNhcHR1cmUgPyBgJHt0eXBlfWNhcHR1cmVgIDogdHlwZTtcbiAgICBsaXN0ZW5lciA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gbGlzdGVuZXIgOiBsaXN0ZW5lci5oYW5kbGVFdmVudDtcbiAgICB0aGlzLm9mZih0eXBlLCBsaXN0ZW5lciwgY29udGV4dCk7XG4gIH0sXG4gIGRpc3BhdGNoRXZlbnQoZSkge1xuICAgIGlmICghKGUgaW5zdGFuY2VvZiBGZWRlcmF0ZWRFdmVudCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRhaW5lciBjYW5ub3QgcHJvcGFnYXRlIGV2ZW50cyBvdXRzaWRlIG9mIHRoZSBGZWRlcmF0ZWQgRXZlbnRzIEFQSVwiKTtcbiAgICB9XG4gICAgZS5kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgZS5wYXRoID0gbnVsbDtcbiAgICBlLnRhcmdldCA9IHRoaXM7XG4gICAgZS5tYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgcmV0dXJuICFlLmRlZmF1bHRQcmV2ZW50ZWQ7XG4gIH1cbn07XG5cbmV4cG9ydCB7IEZlZGVyYXRlZENvbnRhaW5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmVkZXJhdGVkRXZlbnRUYXJnZXQubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vc2NlbmUvY29udGFpbmVyL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgRXZlbnRTeXN0ZW0gfSBmcm9tICcuL0V2ZW50U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBGZWRlcmF0ZWRDb250YWluZXIgfSBmcm9tICcuL0ZlZGVyYXRlZEV2ZW50VGFyZ2V0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZXh0ZW5zaW9ucy5hZGQoRXZlbnRTeXN0ZW0pO1xuZXh0ZW5zaW9ucy5taXhpbihDb250YWluZXIsIEZlZGVyYXRlZENvbnRhaW5lcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBET01QaXBlIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciB0aGUgRE9NUGlwZSBjbGFzcy5cbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIGluc3RhbmNlIHRoYXQgdGhpcyBET01QaXBlIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoLlxuICAgKi9cbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICAvKiogQXJyYXkgdG8ga2VlcCB0cmFjayBvZiBhdHRhY2hlZCBET00gZWxlbWVudHMgKi9cbiAgICB0aGlzLl9hdHRhY2hlZERvbUVsZW1lbnRzID0gW107XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9yZW5kZXJlci5ydW5uZXJzLnBvc3RyZW5kZXIuYWRkKHRoaXMpO1xuICAgIHRoaXMuX2RvbUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuX2RvbUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5fZG9tRWxlbWVudC5zdHlsZS50b3AgPSBcIjBcIjtcbiAgICB0aGlzLl9kb21FbGVtZW50LnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICB0aGlzLl9kb21FbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjtcbiAgICB0aGlzLl9kb21FbGVtZW50LnN0eWxlLnpJbmRleCA9IFwiMTAwMFwiO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgcmVuZGVyYWJsZSBET00gY29udGFpbmVyIHRvIHRoZSBsaXN0IG9mIGF0dGFjaGVkIGVsZW1lbnRzLlxuICAgKiBAcGFyYW0gZG9tQ29udGFpbmVyIC0gVGhlIERPTSBjb250YWluZXIgdG8gYmUgYWRkZWQuXG4gICAqIEBwYXJhbSBfaW5zdHJ1Y3Rpb25TZXQgLSBUaGUgaW5zdHJ1Y3Rpb24gc2V0ICh1bnVzZWQpLlxuICAgKi9cbiAgYWRkUmVuZGVyYWJsZShkb21Db250YWluZXIsIF9pbnN0cnVjdGlvblNldCkge1xuICAgIGlmICghdGhpcy5fYXR0YWNoZWREb21FbGVtZW50cy5pbmNsdWRlcyhkb21Db250YWluZXIpKSB7XG4gICAgICB0aGlzLl9hdHRhY2hlZERvbUVsZW1lbnRzLnB1c2goZG9tQ29udGFpbmVyKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSByZW5kZXJhYmxlIERPTSBjb250YWluZXIuXG4gICAqIEBwYXJhbSBfZG9tQ29udGFpbmVyIC0gVGhlIERPTSBjb250YWluZXIgdG8gYmUgdXBkYXRlZCAodW51c2VkKS5cbiAgICovXG4gIHVwZGF0ZVJlbmRlcmFibGUoX2RvbUNvbnRhaW5lcikge1xuICB9XG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgYSByZW5kZXJhYmxlIERPTSBjb250YWluZXIuXG4gICAqIEBwYXJhbSBfZG9tQ29udGFpbmVyIC0gVGhlIERPTSBjb250YWluZXIgdG8gYmUgdmFsaWRhdGVkICh1bnVzZWQpLlxuICAgKiBAcmV0dXJucyBBbHdheXMgcmV0dXJucyB0cnVlIGFzIHZhbGlkYXRpb24gaXMgbm90IHJlcXVpcmVkLlxuICAgKi9cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKF9kb21Db250YWluZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKiogSGFuZGxlcyB0aGUgcG9zdC1yZW5kZXJpbmcgcHJvY2VzcywgZW5zdXJpbmcgRE9NIGVsZW1lbnRzIGFyZSBjb3JyZWN0bHkgcG9zaXRpb25lZCBhbmQgdmlzaWJsZS4gKi9cbiAgcG9zdHJlbmRlcigpIHtcbiAgICBjb25zdCBhdHRhY2hlZERvbUVsZW1lbnRzID0gdGhpcy5fYXR0YWNoZWREb21FbGVtZW50cztcbiAgICBpZiAoYXR0YWNoZWREb21FbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuX2RvbUVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX3JlbmRlcmVyLnZpZXcuY2FudmFzO1xuICAgIGlmICh0aGlzLl9kb21FbGVtZW50LnBhcmVudE5vZGUgIT09IGNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICBjYW52YXMucGFyZW50Tm9kZT8uYXBwZW5kQ2hpbGQodGhpcy5fZG9tRWxlbWVudCk7XG4gICAgfVxuICAgIGNvbnN0IHN4ID0gcGFyc2VGbG9hdChjYW52YXMuc3R5bGUud2lkdGgpIC8gY2FudmFzLndpZHRoICogdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICBjb25zdCBzeSA9IHBhcnNlRmxvYXQoY2FudmFzLnN0eWxlLmhlaWdodCkgLyBjYW52YXMuaGVpZ2h0ICogdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICB0aGlzLl9kb21FbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtjYW52YXMub2Zmc2V0TGVmdH1weCwgJHtjYW52YXMub2Zmc2V0VG9wfXB4KSBzY2FsZSgke3N4fSwgJHtzeX0pYDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dGFjaGVkRG9tRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGRvbUNvbnRhaW5lciA9IGF0dGFjaGVkRG9tRWxlbWVudHNbaV07XG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9tQ29udGFpbmVyLmVsZW1lbnQ7XG4gICAgICBpZiAoIWRvbUNvbnRhaW5lci5wYXJlbnQgfHwgZG9tQ29udGFpbmVyLmdsb2JhbERpc3BsYXlTdGF0dXMgPCA3KSB7XG4gICAgICAgIGVsZW1lbnQ/LnJlbW92ZSgpO1xuICAgICAgICBhdHRhY2hlZERvbUVsZW1lbnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgaS0tO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kb21FbGVtZW50LmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcImF1dG9cIjtcbiAgICAgICAgICB0aGlzLl9kb21FbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHd0ID0gZG9tQ29udGFpbmVyLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBkb21Db250YWluZXIuX2FuY2hvcjtcbiAgICAgICAgY29uc3QgYXggPSBkb21Db250YWluZXIud2lkdGggKiBhbmNob3IueDtcbiAgICAgICAgY29uc3QgYXkgPSBkb21Db250YWluZXIuaGVpZ2h0ICogYW5jaG9yLnk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gYCR7YXh9cHggJHtheX1weGA7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYG1hdHJpeCgke3d0LmF9LCAke3d0LmJ9LCAke3d0LmN9LCAke3d0LmR9LCAke3d0LnR4IC0gYXh9LCAke3d0LnR5IC0gYXl9KWA7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IGRvbUNvbnRhaW5lci5ncm91cEFscGhhLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKiBEZXN0cm95cyB0aGUgRE9NUGlwZSwgcmVtb3ZpbmcgYWxsIGF0dGFjaGVkIERPTSBlbGVtZW50cyBhbmQgY2xlYW5pbmcgdXAgcmVzb3VyY2VzLiAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyLnJ1bm5lcnMucG9zdHJlbmRlci5yZW1vdmUodGhpcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hdHRhY2hlZERvbUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkb21Db250YWluZXIgPSB0aGlzLl9hdHRhY2hlZERvbUVsZW1lbnRzW2ldO1xuICAgICAgZG9tQ29udGFpbmVyLmVsZW1lbnQ/LnJlbW92ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9hdHRhY2hlZERvbUVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fZG9tRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKlxuICogU3RhdGljIHByb3BlcnR5IGRlZmluaW5nIHRoZSBleHRlbnNpb24gdHlwZSBhbmQgbmFtZSBmb3IgdGhlIERPTVBpcGUuXG4gKiBUaGlzIGlzIHVzZWQgdG8gcmVnaXN0ZXIgdGhlIERPTVBpcGUgd2l0aCBkaWZmZXJlbnQgcmVuZGVyaW5nIHBpcGVsaW5lcy5cbiAqL1xuRE9NUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiZG9tXCJcbn07XG5cbmV4cG9ydCB7IERPTVBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURPTVBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucyB9IGZyb20gJy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgRE9NUGlwZSB9IGZyb20gJy4vRE9NUGlwZS5tanMnO1xuaW1wb3J0ICcuL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBET01Db250YWluZXIgfSBmcm9tICcuL0RPTUNvbnRhaW5lci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmV4dGVuc2lvbnMuYWRkKERPTVBpcGUpO1xuXG5leHBvcnQgeyBET01QaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJGZWRlcmF0ZWRFdmVudCIsImNvbnN0cnVjdG9yIiwibWFuYWdlciIsInRoaXMiLCJidWJibGVzIiwiY2FuY2VsQnViYmxlIiwiY2FuY2VsYWJsZSIsImNvbXBvc2VkIiwiZGVmYXVsdFByZXZlbnRlZCIsImV2ZW50UGhhc2UiLCJwcm90b3R5cGUiLCJOT05FIiwicHJvcGFnYXRpb25TdG9wcGVkIiwicHJvcGFnYXRpb25JbW1lZGlhdGVseVN0b3BwZWQiLCJsYXllciIsIlBvaW50IiwicGFnZSIsIkNBUFRVUklOR19QSEFTRSIsIkFUX1RBUkdFVCIsIkJVQkJMSU5HX1BIQVNFIiwibGF5ZXJYIiwieCIsImxheWVyWSIsInkiLCJwYWdlWCIsInBhZ2VZIiwiZGF0YSIsImNvbXBvc2VkUGF0aCIsInBhdGgiLCJsZW5ndGgiLCJ0YXJnZXQiLCJwcm9wYWdhdGlvblBhdGgiLCJpbml0RXZlbnQiLCJfdHlwZSIsIl9idWJibGVzIiwiX2NhbmNlbGFibGUiLCJFcnJvciIsImluaXRVSUV2ZW50IiwiX3R5cGVBcmciLCJfYnViYmxlc0FyZyIsIl9jYW5jZWxhYmxlQXJnIiwiX3ZpZXdBcmciLCJfZGV0YWlsQXJnIiwicHJldmVudERlZmF1bHQiLCJuYXRpdmVFdmVudCIsIkV2ZW50Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiYXBwbGVJcGhvbmUiLCJhcHBsZUlwb2QiLCJhcHBsZVRhYmxldCIsImFwcGxlVW5pdmVyc2FsIiwiYW5kcm9pZFBob25lIiwiYW5kcm9pZFRhYmxldCIsImFtYXpvblBob25lIiwiYW1hem9uVGFibGV0Iiwid2luZG93c1Bob25lIiwid2luZG93c1RhYmxldCIsIm90aGVyQmxhY2tCZXJyeSIsIm90aGVyQmxhY2tCZXJyeTEwIiwib3RoZXJPcGVyYSIsIm90aGVyQ2hyb21lIiwib3RoZXJGaXJlZm94IiwiaXNBcHBsZVRhYmxldE9uSW9zMTMiLCJuYXZpZ2F0b3IiLCJwbGF0Zm9ybSIsIm1heFRvdWNoUG9pbnRzIiwiTVNTdHJlYW0iLCJpc01vYmlsZSIsInBhcmFtIiwibmF2IiwidXNlckFnZW50IiwidG1wIiwic3BsaXQiLCJtYXRjaCIsInJlZ2V4IiwidGVzdCIsImNyZWF0ZU1hdGNoIiwicmVzdWx0IiwiYXBwbGUiLCJwaG9uZSIsImlwb2QiLCJ0YWJsZXQiLCJ1bml2ZXJzYWwiLCJkZXZpY2UiLCJhbWF6b24iLCJhbmRyb2lkIiwid2luZG93cyIsIm90aGVyIiwiYmxhY2tiZXJyeSIsImJsYWNrYmVycnkxMCIsIm9wZXJhIiwiZmlyZWZveCIsImNocm9tZSIsImFueSIsImdsb2JhbFRoaXMiLCJfQWNjZXNzaWJpbGl0eVN5c3RlbSIsInJlbmRlcmVyIiwiX21vYmlsZUluZm8iLCJkZWJ1ZyIsIl9hY3RpdmF0ZU9uVGFiIiwiX2RlYWN0aXZhdGVPbk1vdXNlTW92ZSIsIl9pc0FjdGl2ZSIsIl9pc01vYmlsZUFjY2Vzc2liaWxpdHkiLCJfZGl2IiwiX3Bvb2wiLCJfcmVuZGVySWQiLCJfY2hpbGRyZW4iLCJfYW5kcm9pZFVwZGF0ZUNvdW50IiwiX2FuZHJvaWRVcGRhdGVGcmVxdWVuY3kiLCJfaG9va0RpdiIsIl9jcmVhdGVUb3VjaEhvb2siLCJfcmVuZGVyZXIiLCJpc0FjdGl2ZSIsImlzTW9iaWxlQWNjZXNzaWJpbGl0eSIsImhvb2tEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiekluZGV4IiwidG9TdHJpbmciLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfYWN0aXZhdGUiLCJfZGVzdHJveVRvdWNoSG9vayIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInJlbW92ZUNoaWxkIiwicG9pbnRlckV2ZW50cyIsIl9vbktleURvd24iLCJiaW5kIiwiX29uTW91c2VNb3ZlIiwiY2FudmFzIiwidmlldyIsInBhcmVudE5vZGUiLCJfaW5pdEFjY2Vzc2liaWxpdHlTZXR1cCIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsInJ1bm5lcnMiLCJwb3N0cmVuZGVyIiwiYWRkIiwibGFzdE9iamVjdFJlbmRlcmVkIiwiX3VwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiX2RlYWN0aXZhdGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwiY2hpbGQiLCJfYWNjZXNzaWJsZURpdiIsIl9hY2Nlc3NpYmxlQWN0aXZlIiwiZm9yRWFjaCIsImRpdiIsImNvbnRhaW5lciIsInZpc2libGUiLCJhY2Nlc3NpYmxlQ2hpbGRyZW4iLCJhY2Nlc3NpYmxlIiwiX2FkZENoaWxkIiwiY2hpbGRyZW4iLCJpIiwiaW5pdCIsIm9wdGlvbnMiLCJtZXJnZWRPcHRpb25zIiwiYWNjZXNzaWJpbGl0eU9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImFjdGl2YXRlT25UYWIiLCJkZWFjdGl2YXRlT25Nb3VzZU1vdmUiLCJlbmFibGVkQnlEZWZhdWx0Iiwibm93IiwicGVyZm9ybWFuY2UiLCJyZW5kZXJpbmdUb1NjcmVlbiIsImFjdGl2ZUlkcyIsIlNldCIsImluZGV4T2YiLCJoYXMiLCJwdXNoIiwicmVtb3ZlSXRlbXMiLCJ2aWV3V2lkdGgiLCJ2aWV3SGVpZ2h0Iiwic2NyZWVuIiwiaGl0QXJlYSIsImdldEJvdW5kcyIsInJlY3RhbmdsZSIsInd0Iiwid29ybGRUcmFuc2Zvcm0iLCJzeCIsInJlc29sdXRpb24iLCJzeSIsInR4IiwiYSIsInR5IiwiZCIsIl9jYXBIaXRBcmVhIiwiX3VwZGF0ZURlYnVnSFRNTCIsImlubmVySFRNTCIsInR5cGUiLCJ0YWJJbmRleCIsInBvcCIsImFjY2Vzc2libGVUeXBlIiwiY3NzVGV4dCIsImFjY2Vzc2libGVUZXh0IiwiaW5uZXJUZXh0IiwiYm9yZGVyU3R5bGUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwic2V0QXR0cmlidXRlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwiYWNjZXNzaWJsZVBvaW50ZXJFdmVudHMiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsImludGVyYWN0aXZlIiwiX2Rpc3BhdGNoRXZlbnQiLCJlIiwiYm91bmRhcnkiLCJldmVudHMiLCJyb290Qm91bmRhcnkiLCJldmVudCIsIk9iamVjdCIsImFzc2lnbiIsInJvb3RUYXJnZXQiLCJ0eXBlMiIsImRpc3BhdGNoRXZlbnQiLCJnZXRBdHRyaWJ1dGUiLCJrZXlDb2RlIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiZGVzdHJveSIsInNldEFjY2Vzc2liaWxpdHlFbmFibGVkIiwiZW5hYmxlZCIsImV4dGVuc2lvbiIsIldlYkdMU3lzdGVtIiwiV2ViR1BVU3lzdGVtIiwibmFtZSIsIkFjY2Vzc2liaWxpdHlTeXN0ZW0iLCJtaXhpbiIsIkNvbnRhaW5lciIsIkV2ZW50c1RpY2tlciIsImludGVyYWN0aW9uRnJlcXVlbmN5IiwiX2RlbHRhVGltZSIsIl9kaWRNb3ZlIiwiX3RpY2tlckFkZGVkIiwiX3BhdXNlVXBkYXRlIiwicmVtb3ZlVGlja2VyTGlzdGVuZXIiLCJwYXVzZVVwZGF0ZSIsInBhdXNlZCIsImFkZFRpY2tlckxpc3RlbmVyIiwiZG9tRWxlbWVudCIsIlRpY2tlciIsInN5c3RlbSIsIl90aWNrZXJVcGRhdGUiLCJJTlRFUkFDVElPTiIsInBvaW50ZXJNb3ZlZCIsIl91cGRhdGUiLCJyb290UG9pbnRlckV2ZW50Iiwic3VwcG9ydHNUb3VjaEV2ZW50cyIsInBvaW50ZXJUeXBlIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJwb2ludGVySWQiLCJNb3VzZUV2ZW50IiwidGlja2VyIiwiZGVsdGFUaW1lIiwiRmVkZXJhdGVkTW91c2VFdmVudCIsInN1cGVyIiwiYXJndW1lbnRzIiwiY2xpZW50IiwibW92ZW1lbnQiLCJvZmZzZXQiLCJnbG9iYWwiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwic2NyZWVuWCIsInNjcmVlblkiLCJnZXRMb2NhbFBvc2l0aW9uIiwicG9pbnQiLCJnbG9iYWxQb3MiLCJhcHBseUludmVyc2UiLCJnZXRNb2RpZmllclN0YXRlIiwia2V5IiwiaW5pdE1vdXNlRXZlbnQiLCJfY2FuQnViYmxlQXJnIiwiX3NjcmVlblhBcmciLCJfc2NyZWVuWUFyZyIsIl9jbGllbnRYQXJnIiwiX2NsaWVudFlBcmciLCJfY3RybEtleUFyZyIsIl9hbHRLZXlBcmciLCJfc2hpZnRLZXlBcmciLCJfbWV0YUtleUFyZyIsIl9idXR0b25BcmciLCJfcmVsYXRlZFRhcmdldEFyZyIsIkZlZGVyYXRlZFBvaW50ZXJFdmVudCIsImlzUHJpbWFyeSIsImdldENvYWxlc2NlZEV2ZW50cyIsImdldFByZWRpY3RlZEV2ZW50cyIsIkZlZGVyYXRlZFdoZWVsRXZlbnQiLCJET01fREVMVEFfUElYRUwiLCJET01fREVMVEFfTElORSIsIkRPTV9ERUxUQV9QQUdFIiwidGVtcEhpdExvY2F0aW9uIiwidGVtcExvY2FsTWFwcGluZyIsIkV2ZW50Qm91bmRhcnkiLCJkaXNwYXRjaCIsIm1vdmVPbkFsbCIsImVuYWJsZUdsb2JhbE1vdmVFdmVudHMiLCJtYXBwaW5nU3RhdGUiLCJ0cmFja2luZ0RhdGEiLCJldmVudFBvb2wiLCJNYXAiLCJfYWxsSW50ZXJhY3RpdmVFbGVtZW50cyIsIl9oaXRFbGVtZW50cyIsIl9pc1BvaW50ZXJNb3ZlRXZlbnQiLCJoaXRQcnVuZUZuIiwiaGl0VGVzdEZuIiwibWFwUG9pbnRlckRvd24iLCJtYXBQb2ludGVyTW92ZSIsIm1hcFBvaW50ZXJPdXQiLCJtYXBQb2ludGVyT3ZlciIsIm1hcFBvaW50ZXJVcCIsIm1hcFBvaW50ZXJVcE91dHNpZGUiLCJtYXBXaGVlbCIsIm1hcHBpbmdUYWJsZSIsImFkZEV2ZW50TWFwcGluZyIsImZuIiwicHJpb3JpdHkiLCJzb3J0IiwiYiIsInByb3BhZ2F0ZSIsImVtaXQiLCJtYXBFdmVudCIsIm1hcHBlcnMiLCJqIiwid2FybiIsImhpdFRlc3QiLCJpbnZlcnRlZFBhdGgiLCJldmVudE1vZGUiLCJzZXQiLCJjdXJyZW50VGFyZ2V0Iiwibm90aWZ5VGFyZ2V0IiwiYWxsIiwidGFyZ2V0cyIsIkFycmF5IiwiaXNBcnJheSIsInBhcmVudCIsInJldmVyc2UiLCJoaXRUZXN0TW92ZVJlY3Vyc2l2ZSIsImxvY2F0aW9uIiwidGVzdEZuIiwicHJ1bmVGbiIsImlnbm9yZSIsInNob3VsZFJldHVybiIsIl9pbnRlcmFjdGl2ZVBydW5lIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsIm5lc3RlZEhpdCIsIl9pc0ludGVyYWN0aXZlIiwiaXNJbnRlcmFjdGl2ZSIsImlzSW50ZXJhY3RpdmVNb2RlIiwiaXNJbnRlcmFjdGl2ZVRhcmdldCIsImhpdFRlc3RSZWN1cnNpdmUiLCJyZWxhdGl2ZUxvY2F0aW9uIiwiaW50IiwicmVuZGVyYWJsZSIsIm1lYXN1cmFibGUiLCJjb250YWlucyIsImVmZmVjdHMiLCJlZmZlY3QiLCJjb250YWluc1BvaW50IiwiaGFuZGxlcktleSIsIl9ub3RpZnlMaXN0ZW5lcnMiLCJmcm9tIiwiY3JlYXRlUG9pbnRlckV2ZW50IiwiaXNSaWdodEJ1dHRvbiIsImJ1dHRvbiIsInByZXNzVGFyZ2V0c0J5QnV0dG9uIiwiZnJlZUV2ZW50IiwiaXNNb3VzZSIsIm91dFRhcmdldCIsImZpbmRNb3VudGVkVGFyZ2V0Iiwib3ZlclRhcmdldHMiLCJvdXRUeXBlIiwib3V0RXZlbnQiLCJsZWF2ZUV2ZW50Iiwib3ZlclR5cGUiLCJvdmVyRXZlbnQiLCJjbG9uZVBvaW50ZXJFdmVudCIsIm92ZXJUYXJnZXRBbmNlc3RvciIsImVudGVyRXZlbnQiLCJhbGxNZXRob2RzIiwiYWxsb3dHbG9iYWxQb2ludGVyRXZlbnRzIiwic3BsaWNlIiwiY3Vyc29yIiwicHJlc3NUYXJnZXQiLCJjbGlja1RhcmdldCIsImNsaWNrRXZlbnQiLCJjbGlja3NCeUJ1dHRvbiIsImNsaWNrQ291bnQiLCJ0aW1lU3RhbXAiLCJjbGlja0hpc3RvcnkiLCJkZXRhaWwiLCJ3aGVlbEV2ZW50IiwiY3JlYXRlV2hlZWxFdmVudCIsImFsbG9jYXRlRXZlbnQiLCJjb3B5UG9pbnRlckRhdGEiLCJjb3B5TW91c2VEYXRhIiwiY29weURhdGEiLCJvcmlnaW5hbEV2ZW50IiwiY29weVdoZWVsRGF0YSIsInNsaWNlIiwidG8iLCJkZWx0YU1vZGUiLCJkZWx0YVgiLCJkZWx0YVkiLCJkZWx0YVoiLCJwcmVzc3VyZSIsInRhbmdlbnRpYWxQcmVzc3VyZSIsInRpbHRYIiwidGlsdFkiLCJ0d2lzdCIsImFsdEtleSIsImJ1dHRvbnMiLCJjb3B5RnJvbSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJpc1RydXN0ZWQiLCJzcmNFbGVtZW50Iiwid2hpY2giLCJpZCIsIm92ZXJUYXJnZXQiLCJnZXQiLCJsaXN0ZW5lcnMiLCJfZXZlbnRzIiwib25jZSIsInJlbW92ZUxpc3RlbmVyIiwiY2FsbCIsImNvbnRleHQiLCJUT1VDSF9UT19QT0lOVEVSIiwidG91Y2hzdGFydCIsInRvdWNoZW5kIiwidG91Y2hlbmRvdXRzaWRlIiwidG91Y2htb3ZlIiwidG91Y2hjYW5jZWwiLCJfRXZlbnRTeXN0ZW0iLCJhdXRvUHJldmVudERlZmF1bHQiLCJfZXZlbnRzQWRkZWQiLCJfcm9vdFBvaW50ZXJFdmVudCIsIl9yb290V2hlZWxFdmVudCIsImN1cnNvclN0eWxlcyIsImRlZmF1bHQiLCJwb2ludGVyIiwiZmVhdHVyZXMiLCJQcm94eSIsImRlZmF1bHRFdmVudEZlYXR1cmVzIiwidmFsdWUiLCJfb25Qb2ludGVyRG93biIsIl9vblBvaW50ZXJNb3ZlIiwiX29uUG9pbnRlclVwIiwiX29uUG9pbnRlck92ZXJPdXQiLCJvbldoZWVsIiwiZGVmYXVsdEV2ZW50TW9kZSIsIl9kZWZhdWx0RXZlbnRNb2RlIiwic2V0VGFyZ2V0RWxlbWVudCIsImV2ZW50RmVhdHVyZXMiLCJnbG9iYWxNb3ZlIiwicmVzb2x1dGlvbkNoYW5nZSIsIl9jdXJyZW50Q3Vyc29yIiwic2V0Q3Vyc29yIiwibW9kZSIsImFwcGx5U3R5bGVzIiwiT2Zmc2NyZWVuQ2FudmFzIiwiaGFzT3duUHJvcGVydHkiLCJjbGljayIsIl9ub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwibmF0aXZlRXZlbnQyIiwiZmVkZXJhdGVkRXZlbnQiLCJfYm9vdHN0cmFwRXZlbnQiLCJtb3ZlIiwibm9ybWFsaXplZEV2ZW50cyIsIm91dHNpZGUiLCJ3aGVlbCIsIm5vcm1hbGl6ZVdoZWVsRXZlbnQiLCJlbGVtZW50IiwiX3JlbW92ZUV2ZW50cyIsIl9hZGRFdmVudHMiLCJtc1BvaW50ZXJFbmFibGVkIiwibXNDb250ZW50Wm9vbWluZyIsIm1zVG91Y2hBY3Rpb24iLCJ0b3VjaEFjdGlvbiIsInBhc3NpdmUiLCJjYXB0dXJlIiwibWFwUG9zaXRpb25Ub1BvaW50IiwicmVjdCIsImlzQ29ubmVjdGVkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVzb2x1dGlvbk11bHRpcGxpZXIiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiaWRlbnRpZmllciIsImZvcmNlIiwidGVtcEV2ZW50IiwiX3RyYW5zZmVyTW91c2VEYXRhIiwic3RhcnRzV2l0aCIsInJlcGxhY2UiLCJyZWxhdGVkVGFyZ2V0IiwiQ2FudmFzU3lzdGVtIiwiRXZlbnRTeXN0ZW0iLCJGZWRlcmF0ZWRDb250YWluZXIiLCJvbmNsaWNrIiwib25tb3VzZWRvd24iLCJvbm1vdXNlZW50ZXIiLCJvbm1vdXNlbGVhdmUiLCJvbm1vdXNlbW92ZSIsIm9uZ2xvYmFsbW91c2Vtb3ZlIiwib25tb3VzZW91dCIsIm9ubW91c2VvdmVyIiwib25tb3VzZXVwIiwib25tb3VzZXVwb3V0c2lkZSIsIm9ucG9pbnRlcmNhbmNlbCIsIm9ucG9pbnRlcmRvd24iLCJvbnBvaW50ZXJlbnRlciIsIm9ucG9pbnRlcmxlYXZlIiwib25wb2ludGVybW92ZSIsIm9uZ2xvYmFscG9pbnRlcm1vdmUiLCJvbnBvaW50ZXJvdXQiLCJvbnBvaW50ZXJvdmVyIiwib25wb2ludGVydGFwIiwib25wb2ludGVydXAiLCJvbnBvaW50ZXJ1cG91dHNpZGUiLCJvbnJpZ2h0Y2xpY2siLCJvbnJpZ2h0ZG93biIsIm9ucmlnaHR1cCIsIm9ucmlnaHR1cG91dHNpZGUiLCJvbnRhcCIsIm9udG91Y2hjYW5jZWwiLCJvbnRvdWNoZW5kIiwib250b3VjaGVuZG91dHNpZGUiLCJvbnRvdWNobW92ZSIsIm9uZ2xvYmFsdG91Y2htb3ZlIiwib250b3VjaHN0YXJ0Iiwib253aGVlbCIsIl9pbnRlcm5hbEV2ZW50TW9kZSIsImxpc3RlbmVyIiwic2lnbmFsIiwibGlzdGVuZXJGbiIsImhhbmRsZUV2ZW50IiwiZW1pdHRlciIsIm9mZiIsIm9uIiwiRE9NUGlwZSIsIl9hdHRhY2hlZERvbUVsZW1lbnRzIiwiX2RvbUVsZW1lbnQiLCJhZGRSZW5kZXJhYmxlIiwiZG9tQ29udGFpbmVyIiwiX2luc3RydWN0aW9uU2V0IiwidXBkYXRlUmVuZGVyYWJsZSIsIl9kb21Db250YWluZXIiLCJ2YWxpZGF0ZVJlbmRlcmFibGUiLCJhdHRhY2hlZERvbUVsZW1lbnRzIiwicGFyc2VGbG9hdCIsInRyYW5zZm9ybSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJnbG9iYWxEaXNwbGF5U3RhdHVzIiwiYW5jaG9yIiwiX2FuY2hvciIsImF4IiwiYXkiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJjIiwib3BhY2l0eSIsImdyb3VwQWxwaGEiLCJXZWJHTFBpcGVzIiwiV2ViR1BVUGlwZXMiLCJDYW52YXNQaXBlcyJdLCJzb3VyY2VSb290IjoiIn0=
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[914],{279:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(133),s=r(583),a=r(4492);const i=class e{constructor(t={}){if(this.uid=(0,n.L)("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,t={...e.defaultOptions,...t},this.stencil=t.stencil,this.depth=t.depth,this.isRoot=t.isRoot,"number"==typeof t.colorTextures){this._managedColorTextures=!0;for(let e=0;e<t.colorTextures;e++)this.colorTextures.push(new s.v({width:t.width,height:t.height,resolution:t.resolution,antialias:t.antialias}))}else{this.colorTextures=[...t.colorTextures.map(e=>e.source)];const e=this.colorTexture.source;this.resize(e.width,e.height,e._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(t.depthStencilTexture||this.stencil)&&(t.depthStencilTexture instanceof a.g||t.depthStencilTexture instanceof s.v?this.depthStencilTexture=t.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new s.v({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,t,r=this.resolution,n=!1){this.dirtyId++,this.colorTextures.forEach((s,a)=>{n&&0===a||s.source.resize(e,t,r)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,t,r)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};i.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let o=i},581:(e,t,r)=>{r.d(t,{d:()=>a});var n=r(4486),s=r(133);class a extends n.A{constructor({buffer:e,offset:t,size:r}){super(),this.uid=(0,s.L)("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=(0,s.L)("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=0|t,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=(0,s.L)("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}},1172:(e,t,r)=>{r.d(t,{g:()=>s});var n=r(1957);const s=[];s[n.K.NONE]=void 0,s[n.K.DISABLED]={stencilWriteMask:0,stencilReadMask:0},s[n.K.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}},s[n.K.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}},s[n.K.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}},s[n.K.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}}},1266:(e,t,r)=>{function n(e,t){return`\n        for (let i = 0; i < ${e*t}; i++) {\n            data[offset + (((i / ${e})|0) * 4) + (i % ${e})] = v[i];\n        }\n    `}r.d(t,{_:()=>a,g:()=>s});const s={f32:"\n        data[offset] = v;",i32:"\n        dataInt32[offset] = v;","vec2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];","vec3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];","vec4<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];","vec2<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];","vec3<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];","vec4<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];\n        dataInt32[offset + 3] = v[3];","mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 4] = v[2];\n        data[offset + 5] = v[3];","mat3x3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];","mat4x4<f32>":"\n        for (let i = 0; i < 16; i++) {\n            data[offset + i] = v[i];\n        }","mat3x2<f32>":n(3,2),"mat4x2<f32>":n(4,2),"mat2x3<f32>":n(2,3),"mat4x3<f32>":n(4,3),"mat2x4<f32>":n(2,4),"mat3x4<f32>":n(3,4)},a={...s,"mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    "}},2067:(e,t,r)=>{r.d(t,{Ls:()=>n,_Q:()=>s,mA:()=>a});const n={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},s={...n,vertex:{...n.vertex,header:n.vertex.header.replace("group(1)","group(2)")}},a={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},2760:(e,t,r)=>{function n(e,t,r){const n=(e>>24&255)/255;t[r++]=(255&e)/255*n,t[r++]=(e>>8&255)/255*n,t[r++]=(e>>16&255)/255*n,t[r++]=n}r.d(t,{V:()=>n})},3391:(e,t,r)=>{r.d(t,{R:()=>n,m:()=>s});const n={name:"texture-bit",vertex:{header:"\n\n        struct TextureUniforms {\n            uTextureMatrix:mat3x3<f32>,\n        }\n\n        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;\n        ",main:"\n            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n\n        ",main:"\n            outColor = textureSample(uTexture, uSampler, vUV);\n        "}},s={name:"texture-bit",vertex:{header:"\n            uniform mat3 uTextureMatrix;\n        ",main:"\n            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n        uniform sampler2D uTexture;\n\n\n        ",main:"\n            outColor = texture(uTexture, vUV);\n        "}}},5008:(e,t,r)=>{r.d(t,{f:()=>Fe,i:()=>Oe});var n=r(8507);class s{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,t){this._renderer.renderPipes.batch.break(t),t.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}s.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"customRender"};var a=r(9313),i=r(8218),o=r(8422);function u(e,t){const r=e.instructionSet,n=r.instructions;for(let e=0;e<r.instructionSize;e++){const r=n[e];t[r.renderPipeId].execute(r)}}const d=new a.u;class l{constructor(e){this._renderer=e}addRenderGroup(e,t){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,t):this._addRenderableDirect(e,t)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,t){this._renderer.renderPipes.batch.break(t),e._batchableRenderGroup&&(i.Z.return(e._batchableRenderGroup),e._batchableRenderGroup=null),t.add(e)}_addRenderableCacheAsTexture(e,t){const r=e._batchableRenderGroup??(e._batchableRenderGroup=i.Z.get(o.K));r.renderable=e.root,r.transform=e.root.relativeGroupTransform,r.texture=e.texture,r.bounds=e._textureBounds,t.add(e),this._renderer.renderPipes.batch.addToBatch(r,t)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const t=d.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:t,worldColor:4294967295}),u(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),u(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}l.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"renderGroup"};var c=r(2437),h=r(9636);function p(e,t){t||(t=0);for(let r=t;r<e.length&&e[r];r++)e[r]=null}var f=r(5815),m=r(753);const g=new f.mc,v=f.fR|f.ig|f.u;function x(e,t=!1){!function(e){const t=e.root;let r;if(e.renderGroupParent){const n=e.renderGroupParent;e.worldTransform.appendFrom(t.relativeGroupTransform,n.worldTransform),e.worldColor=(0,m.j)(t.groupColor,n.worldColor),r=t.groupAlpha*n.worldAlpha}else e.worldTransform.copyFrom(t.localTransform),e.worldColor=t.localColor,r=t.localAlpha;r=r<0?0:r>1?1:r,e.worldAlpha=r,e.worldColorAlpha=e.worldColor+(255*r<<24)}(e);const r=e.childrenToUpdate,n=e.updateTick++;for(const t in r){const s=Number(t),a=r[t],i=a.list,o=a.index;for(let t=0;t<o;t++){const r=i[t];r.parentRenderGroup===e&&r.relativeRenderGroupDepth===s&&_(r,n,0)}p(i,o),a.index=0}if(t)for(let r=0;r<e.renderGroupChildren.length;r++)x(e.renderGroupChildren[r],t)}function _(e,t,r){if(t===e.updateTick)return;e.updateTick=t,e.didChange=!1;const n=e.localTransform;e.updateLocalTransform();const s=e.parent;if(s&&!s.renderGroup?(r|=e._updateFlags,e.relativeGroupTransform.appendFrom(n,s.relativeGroupTransform),r&v&&b(e,s,r)):(r=e._updateFlags,e.relativeGroupTransform.copyFrom(n),r&v&&b(e,g,r)),!e.renderGroup){const n=e.children,s=n.length;for(let e=0;e<s;e++)_(n[e],t,r);const a=e.parentRenderGroup,i=e;i.renderPipeId&&!a.structureDidChange&&a.updateRenderable(i)}}function b(e,t,r){if(r&f.ig){e.groupColor=(0,m.j)(e.localColor,t.groupColor);let r=e.localAlpha*t.groupAlpha;r=r<0?0:r>1?1:r,e.groupAlpha=r,e.groupColorAlpha=e.groupColor+(255*r<<24)}r&f.u&&(e.groupBlendMode="inherit"===e.localBlendMode?t.groupBlendMode:e.localBlendMode),r&f.fR&&(e.globalDisplayStatus=e.localDisplayStatus&t.globalDisplayStatus),e._updateFlags=0}const T=new a.u;class y{constructor(e){this._renderer=e}render({container:e,transform:t}){const r=e.parent,n=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const s=this._renderer;let a=T;t&&(a=a.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(t));const i=s.renderPipes;this._updateCachedRenderGroups(e.renderGroup,null),this._updateRenderGroups(e.renderGroup),s.globalUniforms.start({worldTransformMatrix:t?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),u(e.renderGroup,i),i.uniformBatch&&i.uniformBatch.renderEnd(),t&&e.renderGroup.localTransform.copyFrom(a),e.parent=r,e.renderGroup.renderGroupParent=n}destroy(){this._renderer=null}_updateCachedRenderGroups(e,t){if(e.isCachedAsTexture){if(!e.updateCacheTexture)return;t=e}e._parentCacheAsTextureRenderGroup=t;for(let r=e.renderGroupChildren.length-1;r>=0;r--)this._updateCachedRenderGroups(e.renderGroupChildren[r],t);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){const t=e.root.getLocalBounds();t.ceil();const r=e.texture;e.texture&&c.W.returnTexture(e.texture);const n=this._renderer,s=e.textureOptions.resolution||n.view.resolution,a=e.textureOptions.antialias??n.view.antialias;e.texture=c.W.getOptimalTexture(t.width,t.height,s,a),e._textureBounds||(e._textureBounds=new h.c),e._textureBounds.copyFrom(t),r!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(c.W.returnTexture(e.texture),e.texture=null)}_updateRenderGroups(e){const t=this._renderer,r=t.renderPipes;if(e.runOnRender(t),e.instructionSet.renderPipes=r,e.structureDidChange?p(e.childrenRenderablesToUpdate.list,0):function(e,t){const{list:r,index:n}=e.childrenRenderablesToUpdate;let s=!1;for(let e=0;e<n;e++){const n=r[e];if(s=t[n.renderPipeId].validateRenderable(n),s)break}e.structureDidChange=s}(e,r),x(e),e.structureDidChange?(e.structureDidChange=!1,this._buildInstructions(e,t)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,t.renderPipes.batch.upload(e.instructionSet),!e.isCachedAsTexture||e.textureNeedsUpdate)for(let t=0;t<e.renderGroupChildren.length;t++)this._updateRenderGroups(e.renderGroupChildren[t])}_updateRenderables(e){const{list:t,index:r}=e.childrenRenderablesToUpdate;for(let n=0;n<r;n++){const r=t[n];r.didViewUpdate&&e.updateRenderable(r)}p(t,r)}_buildInstructions(e,t){const r=e.root,n=e.instructionSet;n.reset();const s=t.renderPipes?t:t.batch.renderer,a=s.renderPipes;a.batch.buildStart(n),a.blendMode.buildStart(),a.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),r.collectRenderablesWithEffects(n,s,null),a.batch.buildEnd(n),a.blendMode.buildEnd(n)}}y.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"renderGroup"};class k{constructor(e){this._renderer=e}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}_updateBatchableSprite(e,t){t.bounds=e.visualBounds,t.texture=e._texture}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=new o.K;return t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.bounds=e.visualBounds,t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}k.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"sprite"};var M=r(7073),C=r(7547),S=r(3721);const w=class e{constructor(e,t){this.state=C.U.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=t,this._adaptor.init?.(this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let t=this._batchersByInstructionSet[e.uid];t||(t=this._batchersByInstructionSet[e.uid]=Object.create(null),t.default||(t.default=new S.J({maxTextures:this.renderer.limits.maxBatchableTextures}))),this._activeBatches=t,this._activeBatch=this._activeBatches.default;for(const e in this._activeBatches)this._activeBatches[e].begin()}addToBatch(t,r){if(this._activeBatch.name!==t.batcherName){this._activeBatch.break(r);let n=this._activeBatches[t.batcherName];n||(n=this._activeBatches[t.batcherName]=e.getBatcher(t.batcherName),n.begin()),this._activeBatch=n}this._activeBatch.add(t)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const t=this._activeBatches;for(const e in t){const r=t[e],n=r.geometry;n.indexBuffer.setDataWithSize(r.indexBuffer,r.indexSize,!0),n.buffers[0].setDataWithSize(r.attributeBuffer.float32View,r.attributeSize,!1)}}upload(e){const t=this._batchersByInstructionSet[e.uid];for(const e in t){const r=t[e],n=r.geometry;r.dirty&&(r.dirty=!1,n.buffers[0].update(4*r.attributeSize))}}execute(e){if("startBatch"===e.action){const t=e.batcher,r=t.geometry,n=t.shader;this._adaptor.start(this,r,n)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};w.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"batch"},w._availableBatchers=Object.create(null);let G=w;n.XO.handleByMap(n.Ag.Batcher,G._availableBatchers),n.XO.add(S.J);var P=r(9049),A=r(9113),R=r(3012),U=r(5811),B=r(1196),I=r(8475);const O=class e extends I.M{constructor(t){super(t={...e.defaultOptions,...t}),this.enabled=!0,this._state=C.U.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,"boolean"==typeof t.antialias?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(e,t,r,n){e.applyFilter(this,t,r,n)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(t){const{gpu:r,gl:n,...s}=t;let a,i;return r&&(a=R.B.from(r)),n&&(i=A.M.from(n)),new e({gpuProgram:a,glProgram:i,...s})}};O.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let F=O;var E="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct MaskUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uMaskClamp:vec4<f32>,\n  uAlpha:f32,\n  uInverse:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;\n@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n};\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);\n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>,\n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var maskClamp = filterUniforms.uMaskClamp;\n    var uAlpha = filterUniforms.uAlpha;\n\n    var clip = step(3.5,\n      step(maskClamp.x, filterUv.x) +\n      step(maskClamp.y, filterUv.y) +\n      step(filterUv.x, maskClamp.z) +\n      step(filterUv.y, maskClamp.w));\n\n    var mask = textureSample(uMaskTexture, uSampler, filterUv);\n    var source = textureSample(uTexture, uSampler, uv);\n    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);\n\n    var a: f32 = alphaMul * mask.r * uAlpha * clip;\n\n    if (filterUniforms.uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    return source * a;\n}\n";class D extends F{constructor(e){const{sprite:t,...r}=e,n=new B.N(t.texture),s=new U.k({uFilterMatrix:{value:new a.u,type:"mat3x3<f32>"},uMaskClamp:{value:n.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}});super({...r,gpuProgram:R.B.from({vertex:{source:E,entryPoint:"mainVertex"},fragment:{source:E,entryPoint:"mainFragment"}}),glProgram:A.M.from({vertex:"in vec2 aPosition;\n\nout vec2 vTextureCoord;\nout vec2 vMaskCoord;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition(  vec2 aPosition )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n       \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord(  vec2 aPosition )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( vec2 aPosition )\n{\n    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}   \n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition(aPosition);\n    vTextureCoord = filterTextureCoord(aPosition);\n    vMaskCoord = getFilterCoord(aPosition);\n}\n",fragment:"in vec2 vMaskCoord;\nin vec2 vTextureCoord;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMaskTexture;\n\nuniform float uAlpha;\nuniform vec4 uMaskClamp;\nuniform float uInverse;\n\nout vec4 finalColor;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(uMaskClamp.x, vMaskCoord.x) +\n        step(uMaskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, uMaskClamp.z) +\n        step(vMaskCoord.y, uMaskClamp.w));\n\n    // TODO look into why this is needed\n    float npmAlpha = uAlpha;\n    vec4 original = texture(uTexture, vTextureCoord);\n    vec4 masky = texture(uMaskTexture, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    float a = alphaMul * masky.r * npmAlpha * clip;\n\n    if (uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    finalColor = original * a;\n}\n",name:"mask-filter"}),resources:{filterUniforms:s,uMaskTexture:t.texture.source}}),this.sprite=t,this._textureMatrix=n}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return 1===this.resources.filterUniforms.uniforms.uInverse}apply(e,t,r,n){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,t,r,n)}}var z=r(9443),W=r(6844),L=r(4492),H=r(5099);const V=new h.c;class j extends P.a{constructor(){super(),this.filters=[new D({sprite:new W.k(L.g.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class N{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,t,r){const n=this._renderer;if(n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1,maskedContainer:t}),e.inverse=t._maskOptions.inverse,e.renderMaskToTexture){const t=e.mask;t.includeInBuild=!0,t.collectRenderables(r,n,null),t.includeInBuild=!1}n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:t,inverse:t._maskOptions.inverse,canBundle:!1})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1})}execute(e){const t=this._renderer,r=e.mask.renderMaskToTexture;if("pushMaskBegin"===e.action){const n=i.Z.get(j);if(n.inverse=e.inverse,r){e.mask.mask.measurable=!0;const r=(0,z.f)(e.mask.mask,!0,V);e.mask.mask.measurable=!1,r.ceil();const s=t.renderTarget.renderTarget.colorTexture.source,a=c.W.getOptimalTexture(r.width,r.height,s._resolution,s.antialias);t.renderTarget.push(a,!0),t.globalUniforms.push({offset:r,worldColor:4294967295});const i=n.sprite;i.texture=a,i.worldTransform.tx=r.minX,i.worldTransform.ty=r.minY,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer,filterTexture:a})}else n.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer})}else if("pushMaskEnd"===e.action){const e=this._activeMaskStage[this._activeMaskStage.length-1];r&&(t.type===H.W.WEBGL&&t.renderTarget.finishRenderPass(),t.renderTarget.pop(),t.globalUniforms.pop()),t.filter.push({renderPipeId:"filter",action:"pushFilter",container:e.maskedContainer,filterEffect:e.filterEffect,canBundle:!1})}else if("popMaskEnd"===e.action){t.filter.pop();const e=this._activeMaskStage.pop();r&&c.W.returnTexture(e.filterTexture),i.Z.return(e.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}N.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"alphaMask"};class ${constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;n[this._colorStackIndex]=n[this._colorStackIndex-1]&e.mask;const s=this._colorStack[this._colorStackIndex];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1})),this._colorStackIndex++}pop(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;this._colorStackIndex--;const s=n[this._colorStackIndex-1];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}$.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"colorMask"};var K=r(1257),q=r(1957);class Y{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,t,r){var n;const s=e,a=this._renderer;a.renderPipes.batch.break(r),a.renderPipes.blendMode.setBlendMode(s.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const i=s.mask;i.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const o=this._maskHash.get(s);o.instructionsStart=r.instructionSize,i.collectRenderables(r,a,null),i.includeInBuild=!1,a.renderPipes.batch.break(r),r.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const u=r.instructionSize-o.instructionsStart-1;o.instructionsLength=u;const d=a.renderTarget.renderTarget.uid;(n=this._maskStackHash)[d]??(n[d]=0)}pop(e,t,r){const n=e,s=this._renderer;s.renderPipes.batch.break(r),s.renderPipes.blendMode.setBlendMode(n.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:t._maskOptions.inverse,canBundle:!1});const a=this._maskHash.get(e);for(let e=0;e<a.instructionsLength;e++)r.instructions[r.instructionSize++]=r.instructions[a.instructionsStart++];r.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var t;const r=this._renderer,n=r.renderTarget.renderTarget.uid;let s=(t=this._maskStackHash)[n]??(t[n]=0);"pushMaskBegin"===e.action?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(q.K.RENDERING_MASK_ADD,s),s++,r.colorMask.setMask(0)):"pushMaskEnd"===e.action?(e.inverse?r.stencil.setStencilMode(q.K.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(q.K.MASK_ACTIVE,s),r.colorMask.setMask(15)):"popMaskBegin"===e.action?(r.colorMask.setMask(0),0!==s?r.stencil.setStencilMode(q.K.RENDERING_MASK_REMOVE,s):(r.renderTarget.clear(null,K.u.STENCIL),r.stencil.setStencilMode(q.K.DISABLED,s)),s--):"popMaskEnd"===e.action&&(e.inverse?r.stencil.setStencilMode(q.K.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(q.K.MASK_ACTIVE,s),r.colorMask.setMask(15)),this._maskStackHash[n]=s}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}Y.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"stencilMask"};var J=r(2577);const Q=class e{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new J.Q(0),this.color=this._backgroundColor,this.alpha=1}init(t){t={...e.defaultOptions,...t},this.clearBeforeRender=t.clearBeforeRender,this.color=t.background||t.backgroundColor||this._backgroundColor,this.alpha=t.backgroundAlpha,this._backgroundColor.setAlpha(t.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};Q.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"background",priority:0},Q.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let X=Q;var Z=r(268);const ee={};n.XO.handle(n.Ag.BlendMode,e=>{if(!e.name)throw new Error("BlendMode extension must have a name property");ee[e.name]=e.ref},e=>{delete ee[e.name]});class te{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}setBlendMode(e,t,r){this._activeBlendMode!==t?(this._activeBlendMode=t,this._isAdvanced&&this._endAdvancedBlendMode(r),this._isAdvanced=!!ee[t],this._isAdvanced&&(this._beginAdvancedBlendMode(r),this._renderableList.push(e))):this._isAdvanced&&this._renderableList.push(e)}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const t=this._activeBlendMode;if(!ee[t])return void(0,Z.R)(`Unable to assign BlendMode: '${t}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);let r=this._filterHash[t];r||(r=this._filterHash[t]=new P.a,r.filters=[new ee[t]]);const n={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:r,canBundle:!1};this._renderableList=n.renderables,e.add(n)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}te.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"blendMode"};const re={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},ne=class e{constructor(e){this._renderer=e}_normalizeOptions(e,t={}){return e instanceof f.mc||e instanceof L.g?{target:e,...t}:{...t,...e}}async image(e){const t=new Image;return t.src=await this.base64(e),t}async base64(t){t=this._normalizeOptions(t,e.defaultImageOptions);const{format:r,quality:n}=t,s=this.canvas(t);if(void 0!==s.toBlob)return new Promise((e,t)=>{s.toBlob(r=>{if(!r)return void t(new Error("ICanvas.toBlob failed!"));const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)},re[r],n)});if(void 0!==s.toDataURL)return s.toDataURL(re[r],n);if(void 0!==s.convertToBlob){const e=await s.convertToBlob({type:re[r],quality:n});return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer;if(t instanceof L.g)return r.texture.generateCanvas(t);const n=r.textureGenerator.generateTexture(e),s=r.texture.generateCanvas(n);return n.destroy(!0),s}pixels(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer,n=t instanceof L.g?t:r.textureGenerator.generateTexture(e),s=r.texture.getPixels(n);return t instanceof f.mc&&n.destroy(!0),s}texture(e){return(e=this._normalizeOptions(e)).target instanceof L.g?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const t=this.canvas(e),r=document.createElement("a");r.download=e.filename??"image.png",r.href=t.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){const t=e.width??200;e=this._normalizeOptions(e);const r=this.canvas(e),n=r.toDataURL();console.log(`[Pixi Texture] ${r.width}px ${r.height}px`);const s=["font-size: 1px;",`padding: ${t}px 300px;`,`background: url(${n}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};ne.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"extract"},ne.defaultImageOptions={format:"png",quality:1};let se=ne;var ae=r(9252),ie=r(7269),oe=r(583);class ue extends L.g{static create(e){return new ue({source:new oe.v(e)})}resize(e,t,r){return this.source.resize(e,t,r),this}}const de=new ae.M,le=new h.c,ce=[0,0,0,0];class he{constructor(e){this._renderer=e}generateTexture(e){e instanceof f.mc&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const t=e.resolution||this._renderer.resolution,r=e.antialias||this._renderer.view.antialias,n=e.target;let s=e.clearColor;s=s?Array.isArray(s)&&4===s.length?s:J.Q.shared.setValue(s).toArray():ce;const i=e.frame?.copyTo(de)||(0,ie.n)(n,le).rectangle;i.width=0|Math.max(i.width,1/t),i.height=0|Math.max(i.height,1/t);const o=ue.create({...e.textureSourceOptions,width:i.width,height:i.height,resolution:t,antialias:r}),u=a.u.shared.translate(-i.x,-i.y);return this._renderer.render({container:n,transform:u,target:o,clearColor:s}),o.source.updateMipmaps(),o}destroy(){this._renderer=null}}he.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGenerator"};var pe=r(5101),fe=r(2760),me=r(3513);class ge{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:t,worldTransformMatrix:r,worldColor:n,offset:s}){const i=this._renderer.renderTarget.renderTarget,o=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:i,worldTransformMatrix:new a.u,worldColor:4294967295,offset:new pe.b},u={projectionMatrix:t||this._renderer.renderTarget.projectionMatrix,resolution:e||i.size,worldTransformMatrix:r||o.worldTransformMatrix,worldColor:n||o.worldColor,offset:s||o.offset,bindGroup:null},d=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(d);const l=d.uniforms;let c;l.uProjectionMatrix=u.projectionMatrix,l.uResolution=u.resolution,l.uWorldTransformMatrix.copyFrom(u.worldTransformMatrix),l.uWorldTransformMatrix.tx-=u.offset.x,l.uWorldTransformMatrix.ty-=u.offset.y,(0,fe.V)(u.worldColor,l.uWorldColorAlpha,0),d.update(),this._renderer.renderPipes.uniformBatch?c=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(d,!1):(c=this._bindGroupPool.pop()||new me.T,this._activeBindGroups.push(c),c.setResource(d,0)),u.bindGroup=c,this._currentGlobalUniformData=u}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===H.W.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new U.k({uProjectionMatrix:{value:new a.u,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new a.u,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}ge.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"globalUniforms"};var ve=r(7309);let xe=1;class _e{constructor(){this._tasks=[],this._offset=0}init(){ve.R.system.add(this._update,this)}repeat(e,t,r=!0){const n=xe++;let s=0;return r&&(this._offset+=1e3,s=this._offset),this._tasks.push({func:e,duration:t,start:performance.now(),offset:s,last:performance.now(),repeat:!0,id:n}),n}cancel(e){for(let t=0;t<this._tasks.length;t++)if(this._tasks[t].id===e)return void this._tasks.splice(t,1)}_update(){const e=performance.now();for(let t=0;t<this._tasks.length;t++){const r=this._tasks[t];if(e-r.offset-r.last>=r.duration){const t=e-r.start;r.func(t),r.last=e}}}destroy(){ve.R.system.remove(this._update,this),this._tasks.length=0}}_e.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"scheduler",priority:0};var be=r(1761),Te=r(2571);let ye=!1;class ke{constructor(e){this._renderer=e}init(e){if(e.hello){let e=this._renderer.name;this._renderer.type===H.W.WEBGL&&(e+=` ${this._renderer.context.webGLVersion}`),function(e){if(!ye){if(be.e.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const t=[`%c  %c  %c  %c  %c PixiJS %c v${Te.xv} (${e}) http://www.pixijs.com/\n\n`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...t)}else globalThis.console&&globalThis.console.log(`PixiJS ${Te.xv} - ${e} - http://www.pixijs.com/`);ye=!0}}(e)}}}function Me(e){let t=!1;for(const r in e)if(null==e[r]){t=!0;break}if(!t)return e;const r=Object.create(null);for(const t in e){const n=e[t];n&&(r[t]=n)}return r}function Ce(e){let t=0;for(let r=0;r<e.length;r++)null==e[r]?t++:e[r-t]=e[r];return e.length-=t,e}ke.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"hello",priority:-2},ke.defaultOptions={hello:!1};let Se=0;const we=class e{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(t){t={...e.defaultOptions,...t},this.maxUnusedTime=t.renderableGCMaxUnusedTime,this._frequency=t.renderableGCFrequency,this.enabled=t.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(const e of this._managedHashes)e.context[e.hash]=Me(e.context[e.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(const e of this._managedArrays)Ce(e.context[e.hash])},this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,t){this._managedHashes.push({context:e,hash:t})}addManagedArray(e,t){this._managedArrays.push({context:e,hash:t})}prerender({container:e}){this._now=performance.now(),e.renderGroup.gcTick=Se++,this._updateInstructionGCTick(e.renderGroup,e.renderGroup.gcTick)}addRenderable(e){this.enabled&&(-1===e._lastUsed&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastUsed=this._now)}run(){const e=this._now,t=this._managedRenderables,r=this._renderer.renderPipes;let n=0;for(let s=0;s<t.length;s++){const a=t[s];if(null===a){n++;continue}const i=a.renderGroup??a.parentRenderGroup,o=i?.instructionSet?.gcTick??-1;if((i?.gcTick??0)===o&&(a._lastUsed=e),e-a._lastUsed>this.maxUnusedTime){if(!a.destroyed){const e=r;i&&(i.structureDidChange=!0),e[a.renderPipeId].destroyRenderable(a)}a._lastUsed=-1,n++,a.off("destroyed",this._removeRenderable,this)}else t[s-n]=a}t.length-=n}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const t=this._managedRenderables.indexOf(e);t>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[t]=null)}_updateInstructionGCTick(e,t){e.instructionSet.gcTick=t;for(const r of e.renderGroupChildren)this._updateInstructionGCTick(r,t)}};we.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"renderableGC",priority:0},we.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let Ge=we;const Pe=class e{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(t){t={...e.defaultOptions,...t},this.checkCountMax=t.textureGCCheckCountMax,this.maxIdle=t.textureGCAMaxIdle??t.textureGCMaxIdle,this.active=t.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let t=0;t<e.length;t++){const r=e[t];r.autoGarbageCollect&&r.resource&&r._touched>-1&&this.count-r._touched>this.maxIdle&&(r._touched=-1,r.unload())}}destroy(){this._renderer=null}};Pe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGC"},Pe.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};let Ae=Pe;var Re=r(4670),Ue=r(279),Be=r(8725);const Ie=class e{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(t){(t={...e.defaultOptions,...t}).view&&((0,Re.t6)(Re.lj,"ViewSystem.view has been renamed to ViewSystem.canvas"),t.canvas=t.view),this.screen=new ae.M(0,0,t.width,t.height),this.canvas=t.canvas||be.e.get().createCanvas(),this.antialias=!!t.antialias,this.texture=(0,Be.c)(this.canvas,t),this.renderTarget=new Ue.O({colorTextures:[this.texture],depth:!!t.depth,isRoot:!0}),this.texture.source.transparent=t.backgroundAlpha<1,this.resolution=t.resolution}resize(e,t,r){this.texture.source.resize(e,t,r),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){("boolean"==typeof e?e:e?.removeView)&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};Ie.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"view",priority:0},Ie.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};const Oe=[X,ge,ke,Ie,y,Ae,he,se,M.d,Ge,_e],Fe=[te,G,k,l,N,Y,$,s]},6423:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(8166);function s(e,t,r,s){const a=["\n        var v = null;\n        var v2 = null;\n        var t = 0;\n        var index = 0;\n        var name = null;\n        var arrayOffset = null;\n    "];let i=0;for(let o=0;o<e.length;o++){const u=e[o],d=u.data.name;let l=!1,c=0;for(let e=0;e<n.$.length;e++)if(n.$[e].test(u.data)){c=u.offset/4,a.push(`name = "${d}";`,`offset += ${c-i};`,n.$[e][t]||n.$[e].ubo),l=!0;break}if(!l)if(u.data.size>1)c=u.offset/4,a.push(r(u,c-i));else{const e=s[u.data.type];c=u.offset/4,a.push(`\n                    v = uv.${d};\n                    offset += ${c-i};\n                    ${e};\n                `)}i=c}const o=a.join("\n");return new Function("uv","data","dataInt32","offset",o)}},7047:(e,t,r)=>{r.d(t,{W:()=>i});var n=r(4577),s=r(949),a=r(1132);class i{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!(0,n.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const t=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(t.layout.size/4),usage:a.S.UNIFORM|a.S.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const t=e._signature;let r=this._syncFunctionHash[t];if(!r){const n=Object.keys(e.uniformStructures).map(t=>e.uniformStructures[t]),s=this._adaptor.createUboElements(n),a=this._generateUboSync(s.uboElements);r=this._syncFunctionHash[t]={layout:s,syncFunction:a}}return this._syncFunctionHash[t]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,t,r){const n=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(n.layout.size/4),usage:a.S.UNIFORM|a.S.COPY_DST}));let i=null;return t||(t=e.buffer.data,i=e.buffer.dataInt32),r||(r=0),n.syncFunction(e.uniforms,t,i,r),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const t=this.syncUniformGroup(e);return e.buffer.update(),t}destroy(){this._syncFunctionHash=null}}},7084:(e,t,r)=>{r.d(t,{q:()=>a});var n=r(268),s=r(8306);function a(e,t){for(const r in e.attributes){const s=e.attributes[r],a=t[r];a?(s.format??(s.format=a.format),s.offset??(s.offset=a.offset),s.instance??(s.instance=a.instance)):(0,n.R)(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}!function(e){const{buffers:t,attributes:r}=e,n={},a={};for(const e in t){const r=t[e];n[r.uid]=0,a[r.uid]=0}for(const e in r){const t=r[e];n[t.buffer.uid]+=(0,s.m)(t.format).stride}for(const e in r){const t=r[e];t.stride??(t.stride=n[t.buffer.uid]),t.start??(t.start=a[t.buffer.uid]),a[t.buffer.uid]+=(0,s.m)(t.format).stride}}(e)}},7238:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(9313),s=r(9252),a=r(1257),i=r(7729),o=r(4884),u=r(583),d=r(4492),l=r(8725),c=r(279);class h{constructor(e){this.rootViewPort=new s.M,this.viewport=new s.M,this.onRenderTargetChange=new i.C("onRenderTargetChange"),this.projectionMatrix=new n.u,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:t,clearColor:r,frame:n}){this._renderTargetStack.length=0,this.push(e,t,r,n),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=function(e){const t=e.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement&&document.body.contains(t)}(this.rootRenderTarget),this.adaptor.prerender?.(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(e,t=!0,r,n){const s=this.getRenderTarget(e),a=this.renderTarget!==s;this.renderTarget=s,this.renderSurface=e;const i=this.getGpuRenderTarget(s);s.pixelWidth===i.width&&s.pixelHeight===i.height||(this.adaptor.resizeGpuRenderTarget(s),i.width=s.pixelWidth,i.height=s.pixelHeight);const o=s.colorTexture,u=this.viewport,l=o.pixelWidth,c=o.pixelHeight;if(!n&&e instanceof d.g&&(n=e.frame),n){const e=o._resolution;u.x=n.x*e+.5|0,u.y=n.y*e+.5|0,u.width=n.width*e+.5|0,u.height=n.height*e+.5|0}else u.x=0,u.y=0,u.width=l,u.height=c;return function(e,t,r,n,s,a){const i=a?1:-1;e.identity(),e.a=1/n*2,e.d=i*(1/s*2),e.tx=-1-0*e.a,e.ty=-i-0*e.d}(this.projectionMatrix,0,0,u.width/o.resolution,u.height/o.resolution,!s.isRoot),this.adaptor.startRenderPass(s,t,r,u),a&&this.onRenderTargetChange.emit(s),s}clear(e,t=a.u.ALL,r){t&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,t,r,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,t=a.u.ALL,r,n){const s=this.bind(e,t,r,n);return this._renderTargetStack.push({renderTarget:s,frame:n}),s}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,t,r,n,s){r.x<0&&(n.width+=r.x,s.x-=r.x,r.x=0),r.y<0&&(n.height+=r.y,s.y-=r.y,r.y=0);const{pixelWidth:a,pixelHeight:i}=e;return n.width=Math.min(n.width,a-r.x),n.height=Math.min(n.height,i-r.y),this.adaptor.copyToTexture(e,t,r,n,s)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,t)=>{e!==t&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let t=null;return o.q.test(e)&&(e=(0,l.c)(e).source),e instanceof c.O?t=e:e instanceof u.v&&(t=new c.O({colorTextures:[e]}),e.source instanceof o.q&&(t.isRoot=!0),e.once("destroy",()=>{t.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const r=this._gpuRenderTargetHash[t.uid];r&&(this._gpuRenderTargetHash[t.uid]=null,this.adaptor.destroyGpuRenderTarget(r))})),this._renderSurfaceToRenderTargetHash.set(e,t),t}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}resetState(){this.renderTarget=null,this.renderSurface=null}}},7547:(e,t,r)=>{r.d(t,{U:()=>a});const n={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},s=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=n[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};s.default2d=s.for2d();let a=s},8166:(e,t,r)=>{r.d(t,{$:()=>n});const n=[{type:"mat3x3<f32>",test:e=>void 0!==e.value.a,ubo:"\n            var matrix = uv[name].toArray(true);\n            data[offset] = matrix[0];\n            data[offset + 1] = matrix[1];\n            data[offset + 2] = matrix[2];\n            data[offset + 4] = matrix[3];\n            data[offset + 5] = matrix[4];\n            data[offset + 6] = matrix[5];\n            data[offset + 8] = matrix[6];\n            data[offset + 9] = matrix[7];\n            data[offset + 10] = matrix[8];\n        ",uniform:"\n            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.width,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n            data[offset + 2] = v.width;\n            data[offset + 3] = v.height;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                cv[2] = v.width;\n                cv[3] = v.height;\n                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);\n            }\n        "},{type:"vec2<f32>",test:e=>"vec2<f32>"===e.type&&1===e.size&&void 0!==e.value.x,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                gl.uniform2f(ud[name].location, v.x, v.y);\n            }\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n            data[offset + 3] = v.alpha;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                cv[3] = v.alpha;\n                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);\n            }\n        "},{type:"vec3<f32>",test:e=>"vec3<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);\n            }\n        "}]},8422:(e,t,r)=>{r.d(t,{K:()=>n});class n{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}},8725:(e,t,r)=>{r.d(t,{c:()=>i});var n=r(4884),s=r(4492);const a=new Map;function i(e,t){if(!a.has(e)){const r=new s.g({source:new n.q({resource:e,...t})}),i=()=>{a.get(e)===r&&a.delete(e)};r.once("destroy",i),r.source.once("destroy",i),a.set(e,r)}return a.get(e)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFdBQVdrRSxlQUN6QixDQUNBLEtBQUFrQyxHQUNFcE8sS0FBS2dJLFdBQWEsS0FDbEJoSSxLQUFLa0IsUUFBVSxLQUNmbEIsS0FBS21KLFNBQVcsS0FDaEJuSixLQUFLd3RCLE9BQVMsS0FDZHh0QixLQUFLb0ksT0FBUyxJQUNoQixDQUNBLE9BQUFoRyxHQUNBLEUsMERDekJGLE1BQU1xckIsRUFBOEIsSUFBSWhFLElBQ3hDLFNBQVNsRSxFQUFpQnBLLEVBQVEvSSxHQUNoQyxJQUFLcWIsRUFBWTVWLElBQUlzRCxHQUFTLENBQzVCLE1BQU1qYSxFQUFVLElBQUksSUFBUSxDQUMxQkMsT0FBUSxJQUFJLElBQWEsQ0FDdkI0akIsU0FBVTVKLEtBQ1AvSSxNQUdEc2IsRUFBWSxLQUNaRCxFQUFZM2xCLElBQUlxVCxLQUFZamEsR0FDOUJ1c0IsRUFBWTlCLE9BQU94USxJQUd2QmphLEVBQVF5aUIsS0FBSyxVQUFXK0osR0FDeEJ4c0IsRUFBUUMsT0FBT3dpQixLQUFLLFVBQVcrSixHQUMvQkQsRUFBWTNWLElBQUlxRCxFQUFRamEsRUFDMUIsQ0FDQSxPQUFPdXNCLEVBQVkzbEIsSUFBSXFULEVBQ3pCLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L1JlbmRlclRhcmdldC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2J1ZmZlci9CdWZmZXJSZXNvdXJjZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3N0YXRlL0dwdVN0ZW5jaWxNb2Rlc1RvUGl4aS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy91Ym9TeW5jRnVuY3Rpb25zLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2dyYXBoaWNzL2dwdS9jb2xvclRvVW5pZm9ybS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9oaWdoLXNoYWRlci9zaGFkZXItYml0cy90ZXh0dXJlQml0Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL0N1c3RvbVJlbmRlclBpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvdXRpbHMvZXhlY3V0ZUluc3RydWN0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci9SZW5kZXJHcm91cFBpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvdXRpbHMvY2xlYXJMaXN0Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL3VwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3Jtcy5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci9SZW5kZXJHcm91cFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci91dGlscy92YWxpZGF0ZVJlbmRlcmFibGVzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlL1Nwcml0ZVBpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvYmF0Y2hlci9zaGFyZWQvQmF0Y2hlclBpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvbWFzay9tYXNrLmZyYWcubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svbWFzay53Z3NsLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9tYXNrL01hc2tGaWx0ZXIubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svbWFzay52ZXJ0Lm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL21hc2svYWxwaGEvQWxwaGFNYXNrUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9tYXNrL2NvbG9yL0NvbG9yTWFza1BpcGUubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvbWFzay9zdGVuY2lsL1N0ZW5jaWxNYXNrUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2JhY2tncm91bmQvQmFja2dyb3VuZFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2JsZW5kTW9kZXMvQmxlbmRNb2RlUGlwZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2V4dHJhY3QvRXh0cmFjdFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvUmVuZGVyVGV4dHVyZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2V4dHJhY3QvR2VuZXJhdGVUZXh0dXJlU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L0dsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9TY2hlZHVsZXJTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi91dGlscy9zYXlIZWxsby5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXJ0dXAvSGVsbG9TeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi91dGlscy9kYXRhL2NsZWFuLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvdGV4dHVyZS9SZW5kZXJhYmxlR0NTeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVHQ1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3ZpZXcvVmlld1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N5c3RlbS9TaGFyZWRTeXN0ZW1zLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL3V0aWxzL2NyZWF0ZVVib1N5bmNGdW5jdGlvbi5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9VYm9TeXN0ZW0ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9wcm9ncmFtL2Vuc3VyZUF0dHJpYnV0ZXMubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9yZW5kZXJUYXJnZXQvUmVuZGVyVGFyZ2V0U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L2lzUmVuZGVyaW5nVG9TY3JlZW4ubWpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9yZW5kZXJUYXJnZXQvY2FsY3VsYXRlUHJvamVjdGlvbi5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL3V0aWxzL3VuaWZvcm1QYXJzZXJzLm1qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlL0JhdGNoYWJsZVNwcml0ZS5tanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvdXRpbHMvZ2V0Q2FudmFzVGV4dHVyZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdWlkIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvZGF0YS91aWQubWpzJztcbmltcG9ydCB7IFRleHR1cmVTb3VyY2UgfSBmcm9tICcuLi90ZXh0dXJlL3NvdXJjZXMvVGV4dHVyZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9SZW5kZXJUYXJnZXQgPSBjbGFzcyBfUmVuZGVyVGFyZ2V0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBbZGVzY3JpcHRvcl0gLSBPcHRpb25zIGZvciBjcmVhdGluZyBhIHJlbmRlciB0YXJnZXQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXNjcmlwdG9yID0ge30pIHtcbiAgICAvKiogdW5pcXVlIGlkIGZvciB0aGlzIHJlbmRlciB0YXJnZXQgKi9cbiAgICB0aGlzLnVpZCA9IHVpZChcInJlbmRlclRhcmdldFwiKTtcbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB3cml0dGVuIHRvIGJ5IHRoZSBHUFUgLSBtb3N0bHkgdGhpcyBoYXMgb25lIHRleHR1cmUgaW4gUGl4aSwgYnV0IHlvdSBjb3VsZFxuICAgICAqIHdyaXRlIHRvIG11bHRpcGxlIGlmIHJlcXVpcmVkISAoZWcgZGVmZXJyZWQgbGlnaHRpbmcpXG4gICAgICovXG4gICAgdGhpcy5jb2xvclRleHR1cmVzID0gW107XG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICB0aGlzLmlzUm9vdCA9IGZhbHNlO1xuICAgIHRoaXMuX3NpemUgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgIC8qKiBpZiB0cnVlLCB0aGVuIHdoZW4gdGhlIHJlbmRlciB0YXJnZXQgaXMgZGVzdHJveWVkLCBpdCB3aWxsIGRlc3Ryb3kgYWxsIHRoZSB0ZXh0dXJlcyB0aGF0IHdlcmUgY3JlYXRlZCBmb3IgaXQuICovXG4gICAgdGhpcy5fbWFuYWdlZENvbG9yVGV4dHVyZXMgPSBmYWxzZTtcbiAgICBkZXNjcmlwdG9yID0geyAuLi5fUmVuZGVyVGFyZ2V0LmRlZmF1bHRPcHRpb25zLCAuLi5kZXNjcmlwdG9yIH07XG4gICAgdGhpcy5zdGVuY2lsID0gZGVzY3JpcHRvci5zdGVuY2lsO1xuICAgIHRoaXMuZGVwdGggPSBkZXNjcmlwdG9yLmRlcHRoO1xuICAgIHRoaXMuaXNSb290ID0gZGVzY3JpcHRvci5pc1Jvb3Q7XG4gICAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmNvbG9yVGV4dHVyZXMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMuX21hbmFnZWRDb2xvclRleHR1cmVzID0gdHJ1ZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVzY3JpcHRvci5jb2xvclRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzLnB1c2goXG4gICAgICAgICAgbmV3IFRleHR1cmVTb3VyY2Uoe1xuICAgICAgICAgICAgd2lkdGg6IGRlc2NyaXB0b3Iud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGRlc2NyaXB0b3IuaGVpZ2h0LFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZGVzY3JpcHRvci5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgYW50aWFsaWFzOiBkZXNjcmlwdG9yLmFudGlhbGlhc1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFsuLi5kZXNjcmlwdG9yLmNvbG9yVGV4dHVyZXMubWFwKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlLnNvdXJjZSldO1xuICAgICAgY29uc3QgY29sb3JTb3VyY2UgPSB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2U7XG4gICAgICB0aGlzLnJlc2l6ZShjb2xvclNvdXJjZS53aWR0aCwgY29sb3JTb3VyY2UuaGVpZ2h0LCBjb2xvclNvdXJjZS5fcmVzb2x1dGlvbik7XG4gICAgfVxuICAgIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5vbihcInJlc2l6ZVwiLCB0aGlzLm9uU291cmNlUmVzaXplLCB0aGlzKTtcbiAgICBpZiAoZGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxUZXh0dXJlIHx8IHRoaXMuc3RlbmNpbCkge1xuICAgICAgaWYgKGRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUgfHwgZGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZVNvdXJjZSkge1xuICAgICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUgPSBkZXNjcmlwdG9yLmRlcHRoU3RlbmNpbFRleHR1cmUuc291cmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbnN1cmVEZXB0aFN0ZW5jaWxUZXh0dXJlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBzaXplKCkge1xuICAgIGNvbnN0IF9zaXplID0gdGhpcy5fc2l6ZTtcbiAgICBfc2l6ZVswXSA9IHRoaXMucGl4ZWxXaWR0aDtcbiAgICBfc2l6ZVsxXSA9IHRoaXMucGl4ZWxIZWlnaHQ7XG4gICAgcmV0dXJuIF9zaXplO1xuICB9XG4gIGdldCB3aWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLndpZHRoO1xuICB9XG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5oZWlnaHQ7XG4gIH1cbiAgZ2V0IHBpeGVsV2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5waXhlbFdpZHRoO1xuICB9XG4gIGdldCBwaXhlbEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLnBpeGVsSGVpZ2h0O1xuICB9XG4gIGdldCByZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gIH1cbiAgZ2V0IGNvbG9yVGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xuICB9XG4gIG9uU291cmNlUmVzaXplKHNvdXJjZSkge1xuICAgIHRoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCwgc291cmNlLl9yZXNvbHV0aW9uLCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyB3aWxsIGVuc3VyZSBhIGRlcHRoU3RlbmNpbCB0ZXh0dXJlIGlzIGNyZWF0ZWQgZm9yIHRoaXMgcmVuZGVyIHRhcmdldC5cbiAgICogTW9zdCBsaWtlbHkgY2FsbGVkIGJ5IHRoZSBtYXNrIHN5c3RlbSB0byBtYWtlIHN1cmUgd2UgaGF2ZSBzdGVuY2lsIGJ1ZmZlciBhZGRlZC5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnN1cmVEZXB0aFN0ZW5jaWxUZXh0dXJlKCkge1xuICAgIGlmICghdGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlKSB7XG4gICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUgPSBuZXcgVGV4dHVyZVNvdXJjZSh7XG4gICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICByZXNvbHV0aW9uOiB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgIGZvcm1hdDogXCJkZXB0aDI0cGx1cy1zdGVuY2lsOFwiLFxuICAgICAgICBhdXRvR2VuZXJhdGVNaXBtYXBzOiBmYWxzZSxcbiAgICAgICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICAgICAgbWlwTGV2ZWxDb3VudDogMVxuICAgICAgICAvLyBzYW1wbGVDb3VudDogaGFuZGxlZCBieSB0aGUgcmVuZGVyIHRhcmdldCBzeXN0ZW0uLlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uLCBza2lwQ29sb3JUZXh0dXJlID0gZmFsc2UpIHtcbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmNvbG9yVGV4dHVyZXMuZm9yRWFjaCgoY29sb3JUZXh0dXJlLCBpKSA9PiB7XG4gICAgICBpZiAoc2tpcENvbG9yVGV4dHVyZSAmJiBpID09PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb2xvclRleHR1cmUuc291cmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlKSB7XG4gICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUuc291cmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2Uub2ZmKFwicmVzaXplXCIsIHRoaXMub25Tb3VyY2VSZXNpemUsIHRoaXMpO1xuICAgIGlmICh0aGlzLl9tYW5hZ2VkQ29sb3JUZXh0dXJlcykge1xuICAgICAgdGhpcy5jb2xvclRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHtcbiAgICAgICAgdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZSkge1xuICAgICAgdGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmU7XG4gICAgfVxuICB9XG59O1xuLyoqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIGEgcmVuZGVyIHRhcmdldCAqL1xuX1JlbmRlclRhcmdldC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIHRoZSB3aWR0aCBvZiB0aGUgUmVuZGVyVGFyZ2V0ICovXG4gIHdpZHRoOiAwLFxuICAvKiogdGhlIGhlaWdodCBvZiB0aGUgUmVuZGVyVGFyZ2V0ICovXG4gIGhlaWdodDogMCxcbiAgLyoqIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBSZW5kZXJUYXJnZXQgKi9cbiAgcmVzb2x1dGlvbjogMSxcbiAgLyoqIGFuIGFycmF5IG9mIHRleHR1cmVzLCBvciBhIG51bWJlciBpbmRpY2F0aW5nIGhvdyBtYW55IGNvbG9yIHRleHR1cmVzIHRoZXJlIHNob3VsZCBiZSAqL1xuICBjb2xvclRleHR1cmVzOiAxLFxuICAvKiogc2hvdWxkIHRoaXMgcmVuZGVyIHRhcmdldCBoYXZlIGEgc3RlbmNpbCBidWZmZXI/ICovXG4gIHN0ZW5jaWw6IGZhbHNlLFxuICAvKiogc2hvdWxkIHRoaXMgcmVuZGVyIHRhcmdldCBoYXZlIGEgZGVwdGggYnVmZmVyPyAqL1xuICBkZXB0aDogZmFsc2UsXG4gIC8qKiBzaG91bGQgdGhpcyByZW5kZXIgdGFyZ2V0IGJlIGFudGlhbGlhc2VkPyAqL1xuICBhbnRpYWxpYXM6IGZhbHNlLFxuICAvLyBzYXZlIG9uIHBlcmYgYnkgZGVmYXVsdCFcbiAgLyoqIGlzIHRoaXMgYSByb290IGVsZW1lbnQsIHRydWUgaWYgdGhpcyBpcyBnbCBjb250ZXh0IG93bmVycyByZW5kZXIgdGFyZ2V0ICovXG4gIGlzUm9vdDogZmFsc2Vcbn07XG5sZXQgUmVuZGVyVGFyZ2V0ID0gX1JlbmRlclRhcmdldDtcblxuZXhwb3J0IHsgUmVuZGVyVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUYXJnZXQubWpzLm1hcFxuIiwiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2RhdGEvdWlkLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQnVmZmVyUmVzb3VyY2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEJ1ZmZlciBSZXNvdXJjZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGJ1ZmZlciByZXNvdXJjZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5idWZmZXIgLSBUaGUgdW5kZXJseWluZyBidWZmZXIgdGhhdCB0aGlzIHJlc291cmNlIGlzIHVzaW5nXG4gICAqIEBwYXJhbSBvcHRpb25zLm9mZnNldCAtIFRoZSBvZmZzZXQgb2YgdGhlIGJ1ZmZlciB0aGlzIHJlc291cmNlIGlzIHVzaW5nLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZW4gaXQgd2lsbCB1c2UgdGhlIG9mZnNldCBvZiB0aGUgYnVmZmVyLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5zaXplIC0gVGhlIHNpemUgb2YgdGhlIGJ1ZmZlciB0aGlzIHJlc291cmNlIGlzIHVzaW5nLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZW4gaXQgd2lsbCB1c2UgdGhlIHNpemUgb2YgdGhlIGJ1ZmZlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYnVmZmVyLCBvZmZzZXQsIHNpemUgfSkge1xuICAgIHN1cGVyKCk7XG4gICAgLyoqXG4gICAgICogZW1pdHMgd2hlbiB0aGUgdW5kZXJseWluZyBidWZmZXIgaGFzIGNoYW5nZWQgc2hhcGUgKGkuZS4gcmVzaXplZClcbiAgICAgKiBsZXR0aW5nIHRoZSByZW5kZXJlciBrbm93IHRoYXQgaXQgbmVlZHMgdG8gZGlzY2FyZCB0aGUgb2xkIGJ1ZmZlciBvbiB0aGUgR1BVIGFuZCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICogQGV2ZW50IGNoYW5nZVxuICAgICAqL1xuICAgIC8qKiBhIHVuaXF1ZSBpZCBmb3IgdGhpcyB1bmlmb3JtIGdyb3VwIHVzZWQgdGhyb3VnaCB0aGUgcmVuZGVyZXIgKi9cbiAgICB0aGlzLnVpZCA9IHVpZChcImJ1ZmZlclwiKTtcbiAgICAvKipcbiAgICAgKiBhIHJlc291cmNlIHR5cGUsIHVzZWQgdG8gaWRlbnRpZnkgaG93IHRvIGhhbmRsZSBpdCB3aGVuIGl0cyBpbiBhIGJpbmQgZ3JvdXAgLyBzaGFkZXIgcmVzb3VyY2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9yZXNvdXJjZVR5cGUgPSBcImJ1ZmZlclJlc291cmNlXCI7XG4gICAgLyoqXG4gICAgICogdXNlZCBpbnRlcm5hbGx5IHRvIGtub3cgaWYgYSB1bmlmb3JtIGdyb3VwIHdhcyB1c2VkIGluIHRoZSBsYXN0IHJlbmRlciBwYXNzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fdG91Y2hlZCA9IDA7XG4gICAgLyoqXG4gICAgICogdGhlIHJlc291cmNlIGlkIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgcmVuZGVyZXIgdG8gYnVpbGQgYmluZCBncm91cCBrZXlzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fcmVzb3VyY2VJZCA9IHVpZChcInJlc291cmNlXCIpO1xuICAgIC8qKlxuICAgICAqIEEgY2hlZWt5IGhpbnQgdG8gdGhlIEdMIHJlbmRlcmVyIHRvIGxldCBpdCBrbm93IHRoaXMgaXMgYSBCdWZmZXJSZXNvdXJjZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2J1ZmZlclJlc291cmNlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBIYXMgdGhlIEJ1ZmZlciByZXNvdXJjZSBiZWVuIGRlc3Ryb3llZD9cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0IHwgMDtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuYnVmZmVyLm9uKFwiY2hhbmdlXCIsIHRoaXMub25CdWZmZXJDaGFuZ2UsIHRoaXMpO1xuICB9XG4gIG9uQnVmZmVyQ2hhbmdlKCkge1xuICAgIHRoaXMuX3Jlc291cmNlSWQgPSB1aWQoXCJyZXNvdXJjZVwiKTtcbiAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoaXMgcmVzb3VyY2UuIE1ha2Ugc3VyZSB0aGUgdW5kZXJseWluZyBidWZmZXIgaXMgbm90IHVzZWQgYW55d2hlcmUgZWxzZVxuICAgKiBpZiB5b3Ugd2FudCB0byBkZXN0cm95IGl0IGFzIHdlbGwsIG9yIGNvZGUgd2lsbCBleHBsb2RlXG4gICAqIEBwYXJhbSBkZXN0cm95QnVmZmVyIC0gU2hvdWxkIHRoZSB1bmRlcmx5aW5nIGJ1ZmZlciBiZSBkZXN0cm95ZWQgYXMgd2VsbD9cbiAgICovXG4gIGRlc3Ryb3koZGVzdHJveUJ1ZmZlciA9IGZhbHNlKSB7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIGlmIChkZXN0cm95QnVmZmVyKSB7XG4gICAgICB0aGlzLmJ1ZmZlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB0aGlzKTtcbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQnVmZmVyUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJ1ZmZlclJlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IFNURU5DSUxfTU9ERVMgfSBmcm9tICcuLi8uLi9zaGFyZWQvc3RhdGUvY29uc3QubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBHcHVTdGVuY2lsTW9kZXNUb1BpeGkgPSBbXTtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLk5PTkVdID0gdm9pZCAwO1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuRElTQUJMRURdID0ge1xuICBzdGVuY2lsV3JpdGVNYXNrOiAwLFxuICBzdGVuY2lsUmVhZE1hc2s6IDBcbn07XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5SRU5ERVJJTkdfTUFTS19BRERdID0ge1xuICBzdGVuY2lsRnJvbnQ6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImluY3JlbWVudC1jbGFtcFwiXG4gIH0sXG4gIHN0ZW5jaWxCYWNrOiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJpbmNyZW1lbnQtY2xhbXBcIlxuICB9XG59O1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuUkVOREVSSU5HX01BU0tfUkVNT1ZFXSA9IHtcbiAgc3RlbmNpbEZyb250OiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJkZWNyZW1lbnQtY2xhbXBcIlxuICB9LFxuICBzdGVuY2lsQmFjazoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwiZGVjcmVtZW50LWNsYW1wXCJcbiAgfVxufTtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLk1BU0tfQUNUSVZFXSA9IHtcbiAgc3RlbmNpbFdyaXRlTWFzazogMCxcbiAgc3RlbmNpbEZyb250OiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJrZWVwXCJcbiAgfSxcbiAgc3RlbmNpbEJhY2s6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImtlZXBcIlxuICB9XG59O1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuSU5WRVJTRV9NQVNLX0FDVElWRV0gPSB7XG4gIHN0ZW5jaWxXcml0ZU1hc2s6IDAsXG4gIHN0ZW5jaWxGcm9udDoge1xuICAgIGNvbXBhcmU6IFwibm90LWVxdWFsXCIsXG4gICAgcGFzc09wOiBcImtlZXBcIlxuICB9LFxuICBzdGVuY2lsQmFjazoge1xuICAgIGNvbXBhcmU6IFwibm90LWVxdWFsXCIsXG4gICAgcGFzc09wOiBcImtlZXBcIlxuICB9XG59O1xuXG5leHBvcnQgeyBHcHVTdGVuY2lsTW9kZXNUb1BpeGkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdwdVN0ZW5jaWxNb2Rlc1RvUGl4aS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGxvb3BNYXRyaXgoY29sLCByb3cpIHtcbiAgY29uc3QgdG90YWwgPSBjb2wgKiByb3c7XG4gIHJldHVybiBgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJHt0b3RhbH07IGkrKykge1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAoKChpIC8gJHtjb2x9KXwwKSAqIDQpICsgKGkgJSAke2NvbH0pXSA9IHZbaV07XG4gICAgICAgIH1cbiAgICBgO1xufVxuY29uc3QgdWJvU3luY0Z1bmN0aW9uc1NURDQwID0ge1xuICBmMzI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdjtgLFxuICBpMzI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2O2AsXG4gIFwidmVjMjxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07YCxcbiAgXCJ2ZWMzPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07YCxcbiAgXCJ2ZWM0PGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2WzNdO2AsXG4gIFwidmVjMjxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO2AsXG4gIFwidmVjMzxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMl0gPSB2WzJdO2AsXG4gIFwidmVjNDxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMl0gPSB2WzJdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgM10gPSB2WzNdO2AsXG4gIFwibWF0MngyPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA0XSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNV0gPSB2WzNdO2AsXG4gIFwibWF0M3gzPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNF0gPSB2WzNdO1xuICAgICAgICBkYXRhW29mZnNldCArIDVdID0gdls0XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA2XSA9IHZbNV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgOF0gPSB2WzZdO1xuICAgICAgICBkYXRhW29mZnNldCArIDldID0gdls3XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxMF0gPSB2WzhdO2AsXG4gIFwibWF0NHg0PGYzMj5cIjogYFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgaV0gPSB2W2ldO1xuICAgICAgICB9YCxcbiAgXCJtYXQzeDI8ZjMyPlwiOiBsb29wTWF0cml4KDMsIDIpLFxuICBcIm1hdDR4MjxmMzI+XCI6IGxvb3BNYXRyaXgoNCwgMiksXG4gIFwibWF0MngzPGYzMj5cIjogbG9vcE1hdHJpeCgyLCAzKSxcbiAgXCJtYXQ0eDM8ZjMyPlwiOiBsb29wTWF0cml4KDQsIDMpLFxuICBcIm1hdDJ4NDxmMzI+XCI6IGxvb3BNYXRyaXgoMiwgNCksXG4gIFwibWF0M3g0PGYzMj5cIjogbG9vcE1hdHJpeCgzLCA0KVxufTtcbmNvbnN0IHVib1N5bmNGdW5jdGlvbnNXR1NMID0ge1xuICAuLi51Ym9TeW5jRnVuY3Rpb25zU1RENDAsXG4gIFwibWF0MngyPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2WzNdO1xuICAgIGBcbn07XG5cbmV4cG9ydCB7IHVib1N5bmNGdW5jdGlvbnNTVEQ0MCwgdWJvU3luY0Z1bmN0aW9uc1dHU0wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVib1N5bmNGdW5jdGlvbnMubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBsb2NhbFVuaWZvcm1CaXQgPSB7XG4gIG5hbWU6IFwibG9jYWwtdW5pZm9ybS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG5cbiAgICAgICAgICAgIHN0cnVjdCBMb2NhbFVuaWZvcm1zIHtcbiAgICAgICAgICAgICAgICB1VHJhbnNmb3JtTWF0cml4Om1hdDN4MzxmMzI+LFxuICAgICAgICAgICAgICAgIHVDb2xvcjp2ZWM0PGYzMj4sXG4gICAgICAgICAgICAgICAgdVJvdW5kOmYzMixcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQGdyb3VwKDEpIEBiaW5kaW5nKDApIHZhcjx1bmlmb3JtPiBsb2NhbFVuaWZvcm1zIDogTG9jYWxVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IGxvY2FsVW5pZm9ybXMudUNvbG9yO1xuICAgICAgICAgICAgbW9kZWxNYXRyaXggKj0gbG9jYWxVbmlmb3Jtcy51VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBlbmQ6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIGlmKGxvY2FsVW5pZm9ybXMudVJvdW5kID09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdlBvc2l0aW9uID0gdmVjNChyb3VuZFBpeGVscyh2UG9zaXRpb24ueHksIGdsb2JhbFVuaWZvcm1zLnVSZXNvbHV0aW9uKSwgdlBvc2l0aW9uLnp3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdyb3VwMiA9IHtcbiAgLi4ubG9jYWxVbmlmb3JtQml0LFxuICB2ZXJ0ZXg6IHtcbiAgICAuLi5sb2NhbFVuaWZvcm1CaXQudmVydGV4LFxuICAgIC8vIHJlcGxhY2UgdGhlIGdyb3VwIVxuICAgIGhlYWRlcjogbG9jYWxVbmlmb3JtQml0LnZlcnRleC5oZWFkZXIucmVwbGFjZShcImdyb3VwKDEpXCIsIFwiZ3JvdXAoMilcIilcbiAgfVxufTtcbmNvbnN0IGxvY2FsVW5pZm9ybUJpdEdsID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjNCB1Q29sb3I7XG4gICAgICAgICAgICB1bmlmb3JtIGZsb2F0IHVSb3VuZDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdkNvbG9yICo9IHVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ID0gdVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZih1Um91bmQgPT0gMS4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24ueHkgPSByb3VuZFBpeGVscyhnbF9Qb3NpdGlvbi54eSwgdVJlc29sdXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuXG5leHBvcnQgeyBsb2NhbFVuaWZvcm1CaXQsIGxvY2FsVW5pZm9ybUJpdEdsLCBsb2NhbFVuaWZvcm1CaXRHcm91cDIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvY2FsVW5pZm9ybUJpdC5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNvbG9yVG9Vbmlmb3JtKHJnYiwgYWxwaGEsIG91dCwgb2Zmc2V0KSB7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDE2ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChyZ2IgPj4gOCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuZnVuY3Rpb24gY29sb3IzMkJpdFRvVW5pZm9ybShhYmdyLCBvdXQsIG9mZnNldCkge1xuICBjb25zdCBhbHBoYSA9IChhYmdyID4+IDI0ICYgMjU1KSAvIDI1NTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gKGFiZ3IgPj4gOCAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDE2ICYgMjU1KSAvIDI1NSAqIGFscGhhO1xuICBvdXRbb2Zmc2V0KytdID0gYWxwaGE7XG59XG5cbmV4cG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0sIGNvbG9yVG9Vbmlmb3JtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvclRvVW5pZm9ybS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRleHR1cmVCaXQgPSB7XG4gIG5hbWU6IFwidGV4dHVyZS1iaXRcIixcbiAgdmVydGV4OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG5cbiAgICAgICAgc3RydWN0IFRleHR1cmVVbmlmb3JtcyB7XG4gICAgICAgICAgICB1VGV4dHVyZU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgfVxuXG4gICAgICAgIEBncm91cCgyKSBAYmluZGluZygyKSB2YXI8dW5pZm9ybT4gdGV4dHVyZVVuaWZvcm1zIDogVGV4dHVyZVVuaWZvcm1zO1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICB1diA9ICh0ZXh0dXJlVW5pZm9ybXMudVRleHR1cmVNYXRyaXggKiB2ZWMzKHV2LCAxLjApKS54eTtcbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygwKSB2YXIgdVRleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcbiAgICAgICAgICAgIEBncm91cCgyKSBAYmluZGluZygxKSB2YXIgdVNhbXBsZXI6IHNhbXBsZXI7XG5cblxuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBvdXRDb2xvciA9IHRleHR1cmVTYW1wbGUodVRleHR1cmUsIHVTYW1wbGVyLCB2VVYpO1xuICAgICAgICBgXG4gICAgKVxuICB9XG59O1xuY29uc3QgdGV4dHVyZUJpdEdsID0ge1xuICBuYW1lOiBcInRleHR1cmUtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdW5pZm9ybSBtYXQzIHVUZXh0dXJlTWF0cml4O1xuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICB1diA9ICh1VGV4dHVyZU1hdHJpeCAqIHZlYzModXYsIDEuMCkpLnh5O1xuICAgICAgICBgXG4gICAgKVxuICB9LFxuICBmcmFnbWVudDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICB1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcblxuXG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIG91dENvbG9yID0gdGV4dHVyZSh1VGV4dHVyZSwgdlVWKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgdGV4dHVyZUJpdCwgdGV4dHVyZUJpdEdsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0dXJlQml0Lm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBDdXN0b21SZW5kZXJQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHVwZGF0ZVJlbmRlcmFibGUoKSB7XG4gIH1cbiAgZGVzdHJveVJlbmRlcmFibGUoKSB7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKGNvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKGNvbnRhaW5lcik7XG4gIH1cbiAgZXhlY3V0ZShjb250YWluZXIpIHtcbiAgICBpZiAoIWNvbnRhaW5lci5pc1JlbmRlcmFibGUpXG4gICAgICByZXR1cm47XG4gICAgY29udGFpbmVyLnJlbmRlcih0aGlzLl9yZW5kZXJlcik7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbkN1c3RvbVJlbmRlclBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImN1c3RvbVJlbmRlclwiXG59O1xuXG5leHBvcnQgeyBDdXN0b21SZW5kZXJQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DdXN0b21SZW5kZXJQaXBlLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZXhlY3V0ZUluc3RydWN0aW9ucyhyZW5kZXJHcm91cCwgcmVuZGVyZXIpIHtcbiAgY29uc3QgaW5zdHJ1Y3Rpb25TZXQgPSByZW5kZXJHcm91cC5pbnN0cnVjdGlvblNldDtcbiAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25zO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uU2l6ZTsgaSsrKSB7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbnNbaV07XG4gICAgcmVuZGVyZXJbaW5zdHJ1Y3Rpb24ucmVuZGVyUGlwZUlkXS5leGVjdXRlKGluc3RydWN0aW9uKTtcbiAgfVxufVxuXG5leHBvcnQgeyBleGVjdXRlSW5zdHJ1Y3Rpb25zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGVjdXRlSW5zdHJ1Y3Rpb25zLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IEJpZ1Bvb2wgfSBmcm9tICcuLi8uLi91dGlscy9wb29sL1Bvb2xHcm91cC5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH0gZnJvbSAnLi4vc3ByaXRlL0JhdGNoYWJsZVNwcml0ZS5tanMnO1xuaW1wb3J0IHsgZXhlY3V0ZUluc3RydWN0aW9ucyB9IGZyb20gJy4vdXRpbHMvZXhlY3V0ZUluc3RydWN0aW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5jbGFzcyBSZW5kZXJHcm91cFBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYWRkUmVuZGVyR3JvdXAocmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgaWYgKHJlbmRlckdyb3VwLmlzQ2FjaGVkQXNUZXh0dXJlKSB7XG4gICAgICB0aGlzLl9hZGRSZW5kZXJhYmxlQ2FjaGVBc1RleHR1cmUocmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYWRkUmVuZGVyYWJsZURpcmVjdChyZW5kZXJHcm91cCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH1cbiAgfVxuICBleGVjdXRlKHJlbmRlckdyb3VwKSB7XG4gICAgaWYgKCFyZW5kZXJHcm91cC5pc1JlbmRlcmFibGUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHJlbmRlckdyb3VwLmlzQ2FjaGVkQXNUZXh0dXJlKSB7XG4gICAgICB0aGlzLl9leGVjdXRlQ2FjaGVBc1RleHR1cmUocmVuZGVyR3JvdXApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9leGVjdXRlRGlyZWN0KHJlbmRlckdyb3VwKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbiAgX2FkZFJlbmRlcmFibGVEaXJlY3QocmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGlmIChyZW5kZXJHcm91cC5fYmF0Y2hhYmxlUmVuZGVyR3JvdXApIHtcbiAgICAgIEJpZ1Bvb2wucmV0dXJuKHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cCk7XG4gICAgICByZW5kZXJHcm91cC5fYmF0Y2hhYmxlUmVuZGVyR3JvdXAgPSBudWxsO1xuICAgIH1cbiAgICBpbnN0cnVjdGlvblNldC5hZGQocmVuZGVyR3JvdXApO1xuICB9XG4gIF9hZGRSZW5kZXJhYmxlQ2FjaGVBc1RleHR1cmUocmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hhYmxlUmVuZGVyR3JvdXAgPSByZW5kZXJHcm91cC5fYmF0Y2hhYmxlUmVuZGVyR3JvdXAgPz8gKHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cCA9IEJpZ1Bvb2wuZ2V0KEJhdGNoYWJsZVNwcml0ZSkpO1xuICAgIGJhdGNoYWJsZVJlbmRlckdyb3VwLnJlbmRlcmFibGUgPSByZW5kZXJHcm91cC5yb290O1xuICAgIGJhdGNoYWJsZVJlbmRlckdyb3VwLnRyYW5zZm9ybSA9IHJlbmRlckdyb3VwLnJvb3QucmVsYXRpdmVHcm91cFRyYW5zZm9ybTtcbiAgICBiYXRjaGFibGVSZW5kZXJHcm91cC50ZXh0dXJlID0gcmVuZGVyR3JvdXAudGV4dHVyZTtcbiAgICBiYXRjaGFibGVSZW5kZXJHcm91cC5ib3VuZHMgPSByZW5kZXJHcm91cC5fdGV4dHVyZUJvdW5kcztcbiAgICBpbnN0cnVjdGlvblNldC5hZGQocmVuZGVyR3JvdXApO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmFkZFRvQmF0Y2goYmF0Y2hhYmxlUmVuZGVyR3JvdXAsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICBfZXhlY3V0ZUNhY2hlQXNUZXh0dXJlKHJlbmRlckdyb3VwKSB7XG4gICAgaWYgKHJlbmRlckdyb3VwLnRleHR1cmVOZWVkc1VwZGF0ZSkge1xuICAgICAgcmVuZGVyR3JvdXAudGV4dHVyZU5lZWRzVXBkYXRlID0gZmFsc2U7XG4gICAgICBjb25zdCB3b3JsZFRyYW5zZm9ybU1hdHJpeCA9IHRlbXBNYXRyaXguaWRlbnRpdHkoKS50cmFuc2xhdGUoXG4gICAgICAgIC1yZW5kZXJHcm91cC5fdGV4dHVyZUJvdW5kcy54LFxuICAgICAgICAtcmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHMueVxuICAgICAgKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclRhcmdldC5wdXNoKHJlbmRlckdyb3VwLnRleHR1cmUsIHRydWUsIG51bGwsIHJlbmRlckdyb3VwLnRleHR1cmUuZnJhbWUpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucHVzaCh7XG4gICAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4LFxuICAgICAgICB3b3JsZENvbG9yOiA0Mjk0OTY3Mjk1XG4gICAgICB9KTtcbiAgICAgIGV4ZWN1dGVJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQucG9wKCk7XG4gICAgICB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQocmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwKTtcbiAgICByZW5kZXJHcm91cC5fYmF0Y2hhYmxlUmVuZGVyR3JvdXAuX2JhdGNoZXIuZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgfVxuICBfZXhlY3V0ZURpcmVjdChyZW5kZXJHcm91cCkge1xuICAgIHRoaXMuX3JlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnB1c2goe1xuICAgICAgd29ybGRUcmFuc2Zvcm1NYXRyaXg6IHJlbmRlckdyb3VwLmludmVyc2VQYXJlbnRUZXh0dXJlVHJhbnNmb3JtLFxuICAgICAgd29ybGRDb2xvcjogcmVuZGVyR3JvdXAud29ybGRDb2xvckFscGhhXG4gICAgfSk7XG4gICAgZXhlY3V0ZUluc3RydWN0aW9ucyhyZW5kZXJHcm91cCwgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnBvcCgpO1xuICB9XG59XG5SZW5kZXJHcm91cFBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInJlbmRlckdyb3VwXCJcbn07XG5cbmV4cG9ydCB7IFJlbmRlckdyb3VwUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyR3JvdXBQaXBlLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY2xlYXJMaXN0KGxpc3QsIGluZGV4KSB7XG4gIGluZGV4IHx8IChpbmRleCA9IDApO1xuICBmb3IgKGxldCBqID0gaW5kZXg7IGogPCBsaXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgaWYgKGxpc3Rbal0pIHtcbiAgICAgIGxpc3Rbal0gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgY2xlYXJMaXN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGVhckxpc3QubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29udGFpbmVyLCBVUERBVEVfVklTSUJMRSwgVVBEQVRFX0NPTE9SLCBVUERBVEVfQkxFTkQgfSBmcm9tICcuLi9Db250YWluZXIubWpzJztcbmltcG9ydCB7IGNsZWFyTGlzdCB9IGZyb20gJy4vY2xlYXJMaXN0Lm1qcyc7XG5pbXBvcnQgeyBtdWx0aXBseUNvbG9ycyB9IGZyb20gJy4vbXVsdGlwbHlDb2xvcnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xuY29uc3QgVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUgPSBVUERBVEVfVklTSUJMRSB8IFVQREFURV9DT0xPUiB8IFVQREFURV9CTEVORDtcbmZ1bmN0aW9uIHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcyhyZW5kZXJHcm91cCwgdXBkYXRlQ2hpbGRSZW5kZXJHcm91cHMgPSBmYWxzZSkge1xuICB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybShyZW5kZXJHcm91cCk7XG4gIGNvbnN0IGNoaWxkcmVuVG9VcGRhdGUgPSByZW5kZXJHcm91cC5jaGlsZHJlblRvVXBkYXRlO1xuICBjb25zdCB1cGRhdGVUaWNrID0gcmVuZGVyR3JvdXAudXBkYXRlVGljaysrO1xuICBmb3IgKGNvbnN0IGogaW4gY2hpbGRyZW5Ub1VwZGF0ZSkge1xuICAgIGNvbnN0IHJlbmRlckdyb3VwRGVwdGggPSBOdW1iZXIoaik7XG4gICAgY29uc3QgY2hpbGRyZW5BdERlcHRoID0gY2hpbGRyZW5Ub1VwZGF0ZVtqXTtcbiAgICBjb25zdCBsaXN0ID0gY2hpbGRyZW5BdERlcHRoLmxpc3Q7XG4gICAgY29uc3QgaW5kZXggPSBjaGlsZHJlbkF0RGVwdGguaW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGxpc3RbaV07XG4gICAgICBpZiAoY2hpbGQucGFyZW50UmVuZGVyR3JvdXAgPT09IHJlbmRlckdyb3VwICYmIGNoaWxkLnJlbGF0aXZlUmVuZGVyR3JvdXBEZXB0aCA9PT0gcmVuZGVyR3JvdXBEZXB0aCkge1xuICAgICAgICB1cGRhdGVUcmFuc2Zvcm1BbmRDaGlsZHJlbihjaGlsZCwgdXBkYXRlVGljaywgMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNsZWFyTGlzdChsaXN0LCBpbmRleCk7XG4gICAgY2hpbGRyZW5BdERlcHRoLmluZGV4ID0gMDtcbiAgfVxuICBpZiAodXBkYXRlQ2hpbGRSZW5kZXJHcm91cHMpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcyhyZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuW2ldLCB1cGRhdGVDaGlsZFJlbmRlckdyb3Vwcyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybShyZW5kZXJHcm91cCkge1xuICBjb25zdCByb290ID0gcmVuZGVyR3JvdXAucm9vdDtcbiAgbGV0IHdvcmxkQWxwaGE7XG4gIGlmIChyZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudCkge1xuICAgIGNvbnN0IHJlbmRlckdyb3VwUGFyZW50ID0gcmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQ7XG4gICAgcmVuZGVyR3JvdXAud29ybGRUcmFuc2Zvcm0uYXBwZW5kRnJvbShcbiAgICAgIHJvb3QucmVsYXRpdmVHcm91cFRyYW5zZm9ybSxcbiAgICAgIHJlbmRlckdyb3VwUGFyZW50LndvcmxkVHJhbnNmb3JtXG4gICAgKTtcbiAgICByZW5kZXJHcm91cC53b3JsZENvbG9yID0gbXVsdGlwbHlDb2xvcnMoXG4gICAgICByb290Lmdyb3VwQ29sb3IsXG4gICAgICByZW5kZXJHcm91cFBhcmVudC53b3JsZENvbG9yXG4gICAgKTtcbiAgICB3b3JsZEFscGhhID0gcm9vdC5ncm91cEFscGhhICogcmVuZGVyR3JvdXBQYXJlbnQud29ybGRBbHBoYTtcbiAgfSBlbHNlIHtcbiAgICByZW5kZXJHcm91cC53b3JsZFRyYW5zZm9ybS5jb3B5RnJvbShyb290LmxvY2FsVHJhbnNmb3JtKTtcbiAgICByZW5kZXJHcm91cC53b3JsZENvbG9yID0gcm9vdC5sb2NhbENvbG9yO1xuICAgIHdvcmxkQWxwaGEgPSByb290LmxvY2FsQWxwaGE7XG4gIH1cbiAgd29ybGRBbHBoYSA9IHdvcmxkQWxwaGEgPCAwID8gMCA6IHdvcmxkQWxwaGEgPiAxID8gMSA6IHdvcmxkQWxwaGE7XG4gIHJlbmRlckdyb3VwLndvcmxkQWxwaGEgPSB3b3JsZEFscGhhO1xuICByZW5kZXJHcm91cC53b3JsZENvbG9yQWxwaGEgPSByZW5kZXJHcm91cC53b3JsZENvbG9yICsgKCh3b3JsZEFscGhhICogMjU1IHwgMCkgPDwgMjQpO1xufVxuZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4oY29udGFpbmVyLCB1cGRhdGVUaWNrLCB1cGRhdGVGbGFncykge1xuICBpZiAodXBkYXRlVGljayA9PT0gY29udGFpbmVyLnVwZGF0ZVRpY2spXG4gICAgcmV0dXJuO1xuICBjb250YWluZXIudXBkYXRlVGljayA9IHVwZGF0ZVRpY2s7XG4gIGNvbnRhaW5lci5kaWRDaGFuZ2UgPSBmYWxzZTtcbiAgY29uc3QgbG9jYWxUcmFuc2Zvcm0gPSBjb250YWluZXIubG9jYWxUcmFuc2Zvcm07XG4gIGNvbnRhaW5lci51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICBjb25zdCBwYXJlbnQgPSBjb250YWluZXIucGFyZW50O1xuICBpZiAocGFyZW50ICYmICFwYXJlbnQucmVuZGVyR3JvdXApIHtcbiAgICB1cGRhdGVGbGFncyB8PSBjb250YWluZXIuX3VwZGF0ZUZsYWdzO1xuICAgIGNvbnRhaW5lci5yZWxhdGl2ZUdyb3VwVHJhbnNmb3JtLmFwcGVuZEZyb20oXG4gICAgICBsb2NhbFRyYW5zZm9ybSxcbiAgICAgIHBhcmVudC5yZWxhdGl2ZUdyb3VwVHJhbnNmb3JtXG4gICAgKTtcbiAgICBpZiAodXBkYXRlRmxhZ3MgJiBVUERBVEVfQkxFTkRfQ09MT1JfVklTSUJMRSkge1xuICAgICAgdXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkoY29udGFpbmVyLCBwYXJlbnQsIHVwZGF0ZUZsYWdzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlRmxhZ3MgPSBjb250YWluZXIuX3VwZGF0ZUZsYWdzO1xuICAgIGNvbnRhaW5lci5yZWxhdGl2ZUdyb3VwVHJhbnNmb3JtLmNvcHlGcm9tKGxvY2FsVHJhbnNmb3JtKTtcbiAgICBpZiAodXBkYXRlRmxhZ3MgJiBVUERBVEVfQkxFTkRfQ09MT1JfVklTSUJMRSkge1xuICAgICAgdXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkoY29udGFpbmVyLCB0ZW1wQ29udGFpbmVyLCB1cGRhdGVGbGFncyk7XG4gICAgfVxuICB9XG4gIGlmICghY29udGFpbmVyLnJlbmRlckdyb3VwKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgY29uc3QgbGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuKGNoaWxkcmVuW2ldLCB1cGRhdGVUaWNrLCB1cGRhdGVGbGFncyk7XG4gICAgfVxuICAgIGNvbnN0IHJlbmRlckdyb3VwID0gY29udGFpbmVyLnBhcmVudFJlbmRlckdyb3VwO1xuICAgIGNvbnN0IHJlbmRlcmFibGUgPSBjb250YWluZXI7XG4gICAgaWYgKHJlbmRlcmFibGUucmVuZGVyUGlwZUlkICYmICFyZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UpIHtcbiAgICAgIHJlbmRlckdyb3VwLnVwZGF0ZVJlbmRlcmFibGUocmVuZGVyYWJsZSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1cGRhdGVDb2xvckJsZW5kVmlzaWJpbGl0eShjb250YWluZXIsIHBhcmVudCwgdXBkYXRlRmxhZ3MpIHtcbiAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX0NPTE9SKSB7XG4gICAgY29udGFpbmVyLmdyb3VwQ29sb3IgPSBtdWx0aXBseUNvbG9ycyhcbiAgICAgIGNvbnRhaW5lci5sb2NhbENvbG9yLFxuICAgICAgcGFyZW50Lmdyb3VwQ29sb3JcbiAgICApO1xuICAgIGxldCBncm91cEFscGhhID0gY29udGFpbmVyLmxvY2FsQWxwaGEgKiBwYXJlbnQuZ3JvdXBBbHBoYTtcbiAgICBncm91cEFscGhhID0gZ3JvdXBBbHBoYSA8IDAgPyAwIDogZ3JvdXBBbHBoYSA+IDEgPyAxIDogZ3JvdXBBbHBoYTtcbiAgICBjb250YWluZXIuZ3JvdXBBbHBoYSA9IGdyb3VwQWxwaGE7XG4gICAgY29udGFpbmVyLmdyb3VwQ29sb3JBbHBoYSA9IGNvbnRhaW5lci5ncm91cENvbG9yICsgKChncm91cEFscGhhICogMjU1IHwgMCkgPDwgMjQpO1xuICB9XG4gIGlmICh1cGRhdGVGbGFncyAmIFVQREFURV9CTEVORCkge1xuICAgIGNvbnRhaW5lci5ncm91cEJsZW5kTW9kZSA9IGNvbnRhaW5lci5sb2NhbEJsZW5kTW9kZSA9PT0gXCJpbmhlcml0XCIgPyBwYXJlbnQuZ3JvdXBCbGVuZE1vZGUgOiBjb250YWluZXIubG9jYWxCbGVuZE1vZGU7XG4gIH1cbiAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX1ZJU0lCTEUpIHtcbiAgICBjb250YWluZXIuZ2xvYmFsRGlzcGxheVN0YXR1cyA9IGNvbnRhaW5lci5sb2NhbERpc3BsYXlTdGF0dXMgJiBwYXJlbnQuZ2xvYmFsRGlzcGxheVN0YXR1cztcbiAgfVxuICBjb250YWluZXIuX3VwZGF0ZUZsYWdzID0gMDtcbn1cblxuZXhwb3J0IHsgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0sIHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcywgdXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3Jtcy5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlUG9vbCB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4vYm91bmRzL0JvdW5kcy5tanMnO1xuaW1wb3J0IHsgY2xlYXJMaXN0IH0gZnJvbSAnLi91dGlscy9jbGVhckxpc3QubWpzJztcbmltcG9ydCB7IGV4ZWN1dGVJbnN0cnVjdGlvbnMgfSBmcm9tICcuL3V0aWxzL2V4ZWN1dGVJbnN0cnVjdGlvbnMubWpzJztcbmltcG9ydCB7IHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcyB9IGZyb20gJy4vdXRpbHMvdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zLm1qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZVJlbmRlcmFibGVzIH0gZnJvbSAnLi91dGlscy92YWxpZGF0ZVJlbmRlcmFibGVzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbmNsYXNzIFJlbmRlckdyb3VwU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHJlbmRlcih7IGNvbnRhaW5lciwgdHJhbnNmb3JtIH0pIHtcbiAgICBjb25zdCBwYXJlbnQgPSBjb250YWluZXIucGFyZW50O1xuICAgIGNvbnN0IHJlbmRlckdyb3VwUGFyZW50ID0gY29udGFpbmVyLnJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50O1xuICAgIGNvbnRhaW5lci5wYXJlbnQgPSBudWxsO1xuICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudCA9IG51bGw7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBsZXQgb3JpZ2luYWxMb2NhbFRyYW5zZm9ybSA9IHRlbXBNYXRyaXg7XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgb3JpZ2luYWxMb2NhbFRyYW5zZm9ybSA9IG9yaWdpbmFsTG9jYWxUcmFuc2Zvcm0uY29weUZyb20oY29udGFpbmVyLnJlbmRlckdyb3VwLmxvY2FsVHJhbnNmb3JtKTtcbiAgICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5sb2NhbFRyYW5zZm9ybS5jb3B5RnJvbSh0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJQaXBlcyA9IHJlbmRlcmVyLnJlbmRlclBpcGVzO1xuICAgIHRoaXMuX3VwZGF0ZUNhY2hlZFJlbmRlckdyb3Vwcyhjb250YWluZXIucmVuZGVyR3JvdXAsIG51bGwpO1xuICAgIHRoaXMuX3VwZGF0ZVJlbmRlckdyb3Vwcyhjb250YWluZXIucmVuZGVyR3JvdXApO1xuICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnN0YXJ0KHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4OiB0cmFuc2Zvcm0gPyBjb250YWluZXIucmVuZGVyR3JvdXAubG9jYWxUcmFuc2Zvcm0gOiBjb250YWluZXIucmVuZGVyR3JvdXAud29ybGRUcmFuc2Zvcm0sXG4gICAgICB3b3JsZENvbG9yOiBjb250YWluZXIucmVuZGVyR3JvdXAud29ybGRDb2xvckFscGhhXG4gICAgfSk7XG4gICAgZXhlY3V0ZUluc3RydWN0aW9ucyhjb250YWluZXIucmVuZGVyR3JvdXAsIHJlbmRlclBpcGVzKTtcbiAgICBpZiAocmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoKSB7XG4gICAgICByZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2gucmVuZGVyRW5kKCk7XG4gICAgfVxuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5sb2NhbFRyYW5zZm9ybS5jb3B5RnJvbShvcmlnaW5hbExvY2FsVHJhbnNmb3JtKTtcbiAgICB9XG4gICAgY29udGFpbmVyLnBhcmVudCA9IHBhcmVudDtcbiAgICBjb250YWluZXIucmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQgPSByZW5kZXJHcm91cFBhcmVudDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlQ2FjaGVkUmVuZGVyR3JvdXBzKHJlbmRlckdyb3VwLCBjbG9zZXN0Q2FjaGVBc1RleHR1cmUpIHtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUpIHtcbiAgICAgIGlmICghcmVuZGVyR3JvdXAudXBkYXRlQ2FjaGVUZXh0dXJlKVxuICAgICAgICByZXR1cm47XG4gICAgICBjbG9zZXN0Q2FjaGVBc1RleHR1cmUgPSByZW5kZXJHcm91cDtcbiAgICB9XG4gICAgcmVuZGVyR3JvdXAuX3BhcmVudENhY2hlQXNUZXh0dXJlUmVuZGVyR3JvdXAgPSBjbG9zZXN0Q2FjaGVBc1RleHR1cmU7XG4gICAgZm9yIChsZXQgaSA9IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUNhY2hlZFJlbmRlckdyb3VwcyhyZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuW2ldLCBjbG9zZXN0Q2FjaGVBc1RleHR1cmUpO1xuICAgIH1cbiAgICByZW5kZXJHcm91cC5pbnZhbGlkYXRlTWF0cmljZXMoKTtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUpIHtcbiAgICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gcmVuZGVyR3JvdXAucm9vdC5nZXRMb2NhbEJvdW5kcygpO1xuICAgICAgICBib3VuZHMuY2VpbCgpO1xuICAgICAgICBjb25zdCBsYXN0VGV4dHVyZSA9IHJlbmRlckdyb3VwLnRleHR1cmU7XG4gICAgICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlKSB7XG4gICAgICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShyZW5kZXJHcm91cC50ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gcmVuZGVyR3JvdXAudGV4dHVyZU9wdGlvbnMucmVzb2x1dGlvbiB8fCByZW5kZXJlci52aWV3LnJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGFudGlhbGlhcyA9IHJlbmRlckdyb3VwLnRleHR1cmVPcHRpb25zLmFudGlhbGlhcyA/PyByZW5kZXJlci52aWV3LmFudGlhbGlhcztcbiAgICAgICAgcmVuZGVyR3JvdXAudGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgICAgICBib3VuZHMuaGVpZ2h0LFxuICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgYW50aWFsaWFzXG4gICAgICAgICk7XG4gICAgICAgIHJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzIHx8IChyZW5kZXJHcm91cC5fdGV4dHVyZUJvdW5kcyA9IG5ldyBCb3VuZHMoKSk7XG4gICAgICAgIHJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzLmNvcHlGcm9tKGJvdW5kcyk7XG4gICAgICAgIGlmIChsYXN0VGV4dHVyZSAhPT0gcmVuZGVyR3JvdXAudGV4dHVyZSkge1xuICAgICAgICAgIGlmIChyZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudCkge1xuICAgICAgICAgICAgcmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQuc3RydWN0dXJlRGlkQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHJlbmRlckdyb3VwLnRleHR1cmUpIHtcbiAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyR3JvdXAudGV4dHVyZSk7XG4gICAgICByZW5kZXJHcm91cC50ZXh0dXJlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgX3VwZGF0ZVJlbmRlckdyb3VwcyhyZW5kZXJHcm91cCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgY29uc3QgcmVuZGVyUGlwZXMgPSByZW5kZXJlci5yZW5kZXJQaXBlcztcbiAgICByZW5kZXJHcm91cC5ydW5PblJlbmRlcihyZW5kZXJlcik7XG4gICAgcmVuZGVyR3JvdXAuaW5zdHJ1Y3Rpb25TZXQucmVuZGVyUGlwZXMgPSByZW5kZXJQaXBlcztcbiAgICBpZiAoIXJlbmRlckdyb3VwLnN0cnVjdHVyZURpZENoYW5nZSkge1xuICAgICAgdmFsaWRhdGVSZW5kZXJhYmxlcyhyZW5kZXJHcm91cCwgcmVuZGVyUGlwZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhckxpc3QocmVuZGVyR3JvdXAuY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlLmxpc3QsIDApO1xuICAgIH1cbiAgICB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXApO1xuICAgIGlmIChyZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UpIHtcbiAgICAgIHJlbmRlckdyb3VwLnN0cnVjdHVyZURpZENoYW5nZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fYnVpbGRJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHJlbmRlcmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlUmVuZGVyYWJsZXMocmVuZGVyR3JvdXApO1xuICAgIH1cbiAgICByZW5kZXJHcm91cC5jaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGUuaW5kZXggPSAwO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLnVwbG9hZChyZW5kZXJHcm91cC5pbnN0cnVjdGlvblNldCk7XG4gICAgaWYgKHJlbmRlckdyb3VwLmlzQ2FjaGVkQXNUZXh0dXJlICYmICFyZW5kZXJHcm91cC50ZXh0dXJlTmVlZHNVcGRhdGUpXG4gICAgICByZXR1cm47XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl91cGRhdGVSZW5kZXJHcm91cHMocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbltpXSk7XG4gICAgfVxuICB9XG4gIF91cGRhdGVSZW5kZXJhYmxlcyhyZW5kZXJHcm91cCkge1xuICAgIGNvbnN0IHsgbGlzdCwgaW5kZXggfSA9IHJlbmRlckdyb3VwLmNoaWxkcmVuUmVuZGVyYWJsZXNUb1VwZGF0ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4OyBpKyspIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGxpc3RbaV07XG4gICAgICBpZiAoY29udGFpbmVyLmRpZFZpZXdVcGRhdGUpIHtcbiAgICAgICAgcmVuZGVyR3JvdXAudXBkYXRlUmVuZGVyYWJsZShjb250YWluZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBjbGVhckxpc3QobGlzdCwgaW5kZXgpO1xuICB9XG4gIF9idWlsZEluc3RydWN0aW9ucyhyZW5kZXJHcm91cCwgcmVuZGVyZXJPclBpcGVzKSB7XG4gICAgY29uc3Qgcm9vdCA9IHJlbmRlckdyb3VwLnJvb3Q7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25TZXQgPSByZW5kZXJHcm91cC5pbnN0cnVjdGlvblNldDtcbiAgICBpbnN0cnVjdGlvblNldC5yZXNldCgpO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gcmVuZGVyZXJPclBpcGVzLnJlbmRlclBpcGVzID8gcmVuZGVyZXJPclBpcGVzIDogcmVuZGVyZXJPclBpcGVzLmJhdGNoLnJlbmRlcmVyO1xuICAgIGNvbnN0IHJlbmRlclBpcGVzID0gcmVuZGVyZXIucmVuZGVyUGlwZXM7XG4gICAgcmVuZGVyUGlwZXMuYmF0Y2guYnVpbGRTdGFydChpbnN0cnVjdGlvblNldCk7XG4gICAgcmVuZGVyUGlwZXMuYmxlbmRNb2RlLmJ1aWxkU3RhcnQoKTtcbiAgICByZW5kZXJQaXBlcy5jb2xvck1hc2suYnVpbGRTdGFydCgpO1xuICAgIGlmIChyb290LnNvcnRhYmxlQ2hpbGRyZW4pIHtcbiAgICAgIHJvb3Quc29ydENoaWxkcmVuKCk7XG4gICAgfVxuICAgIHJvb3QuY29sbGVjdFJlbmRlcmFibGVzV2l0aEVmZmVjdHMoaW5zdHJ1Y3Rpb25TZXQsIHJlbmRlcmVyLCBudWxsKTtcbiAgICByZW5kZXJQaXBlcy5iYXRjaC5idWlsZEVuZChpbnN0cnVjdGlvblNldCk7XG4gICAgcmVuZGVyUGlwZXMuYmxlbmRNb2RlLmJ1aWxkRW5kKGluc3RydWN0aW9uU2V0KTtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblJlbmRlckdyb3VwU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJyZW5kZXJHcm91cFwiXG59O1xuXG5leHBvcnQgeyBSZW5kZXJHcm91cFN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyR3JvdXBTeXN0ZW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiB2YWxpZGF0ZVJlbmRlcmFibGVzKHJlbmRlckdyb3VwLCByZW5kZXJQaXBlcykge1xuICBjb25zdCB7IGxpc3QsIGluZGV4IH0gPSByZW5kZXJHcm91cC5jaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGU7XG4gIGxldCByZWJ1aWxkUmVxdWlyZWQgPSBmYWxzZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleDsgaSsrKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbGlzdFtpXTtcbiAgICBjb25zdCByZW5kZXJhYmxlID0gY29udGFpbmVyO1xuICAgIGNvbnN0IHBpcGUgPSByZW5kZXJQaXBlc1tyZW5kZXJhYmxlLnJlbmRlclBpcGVJZF07XG4gICAgcmVidWlsZFJlcXVpcmVkID0gcGlwZS52YWxpZGF0ZVJlbmRlcmFibGUoY29udGFpbmVyKTtcbiAgICBpZiAocmVidWlsZFJlcXVpcmVkKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlID0gcmVidWlsZFJlcXVpcmVkO1xuICByZXR1cm4gcmVidWlsZFJlcXVpcmVkO1xufVxuXG5leHBvcnQgeyB2YWxpZGF0ZVJlbmRlcmFibGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0ZVJlbmRlcmFibGVzLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9IGZyb20gJy4vQmF0Y2hhYmxlU3ByaXRlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgU3ByaXRlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBhZGRSZW5kZXJhYmxlKHNwcml0ZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICBpZiAoc3ByaXRlLmRpZFZpZXdVcGRhdGUpXG4gICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBncHVTcHJpdGUpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmFkZFRvQmF0Y2goZ3B1U3ByaXRlLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZShzcHJpdGUpIHtcbiAgICBjb25zdCBncHVTcHJpdGUgPSB0aGlzLl9nZXRHcHVTcHJpdGUoc3ByaXRlKTtcbiAgICBpZiAoc3ByaXRlLmRpZFZpZXdVcGRhdGUpXG4gICAgICB0aGlzLl91cGRhdGVCYXRjaGFibGVTcHJpdGUoc3ByaXRlLCBncHVTcHJpdGUpO1xuICAgIGdwdVNwcml0ZS5fYmF0Y2hlci51cGRhdGVFbGVtZW50KGdwdVNwcml0ZSk7XG4gIH1cbiAgdmFsaWRhdGVSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGdwdVNwcml0ZSA9IHRoaXMuX2dldEdwdVNwcml0ZShzcHJpdGUpO1xuICAgIHJldHVybiAhZ3B1U3ByaXRlLl9iYXRjaGVyLmNoZWNrQW5kVXBkYXRlVGV4dHVyZShcbiAgICAgIGdwdVNwcml0ZSxcbiAgICAgIHNwcml0ZS5fdGV4dHVyZVxuICAgICk7XG4gIH1cbiAgX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGJhdGNoYWJsZVNwcml0ZSkge1xuICAgIGJhdGNoYWJsZVNwcml0ZS5ib3VuZHMgPSBzcHJpdGUudmlzdWFsQm91bmRzO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICB9XG4gIF9nZXRHcHVTcHJpdGUoc3ByaXRlKSB7XG4gICAgcmV0dXJuIHNwcml0ZS5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdIHx8IHRoaXMuX2luaXRHUFVTcHJpdGUoc3ByaXRlKTtcbiAgfVxuICBfaW5pdEdQVVNwcml0ZShzcHJpdGUpIHtcbiAgICBjb25zdCBiYXRjaGFibGVTcHJpdGUgPSBuZXcgQmF0Y2hhYmxlU3ByaXRlKCk7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnJlbmRlcmFibGUgPSBzcHJpdGU7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRyYW5zZm9ybSA9IHNwcml0ZS5ncm91cFRyYW5zZm9ybTtcbiAgICBiYXRjaGFibGVTcHJpdGUudGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICBiYXRjaGFibGVTcHJpdGUuYm91bmRzID0gc3ByaXRlLnZpc3VhbEJvdW5kcztcbiAgICBiYXRjaGFibGVTcHJpdGUucm91bmRQaXhlbHMgPSB0aGlzLl9yZW5kZXJlci5fcm91bmRQaXhlbHMgfCBzcHJpdGUuX3JvdW5kUGl4ZWxzO1xuICAgIHNwcml0ZS5fZ3B1RGF0YVt0aGlzLl9yZW5kZXJlci51aWRdID0gYmF0Y2hhYmxlU3ByaXRlO1xuICAgIHJldHVybiBiYXRjaGFibGVTcHJpdGU7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5TcHJpdGVQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJzcHJpdGVcIlxufTtcblxuZXhwb3J0IHsgU3ByaXRlUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ByaXRlUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlLCBleHRlbnNpb25zIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvU3RhdGUubWpzJztcbmltcG9ydCB7IERlZmF1bHRCYXRjaGVyIH0gZnJvbSAnLi9EZWZhdWx0QmF0Y2hlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9CYXRjaGVyUGlwZSA9IGNsYXNzIF9CYXRjaGVyUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBhZGFwdG9yKSB7XG4gICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgdGhpcy5fYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgLyoqIEEgcmVjb3JkIG9mIGFsbCBhY3RpdmUgYmF0Y2hlcnMsIGtleWVkIGJ5IHRoZWlyIG5hbWVzICovXG4gICAgdGhpcy5fYWN0aXZlQmF0Y2hlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9hZGFwdG9yID0gYWRhcHRvcjtcbiAgICB0aGlzLl9hZGFwdG9yLmluaXQ/Lih0aGlzKTtcbiAgfVxuICBzdGF0aWMgZ2V0QmF0Y2hlcihuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzLl9hdmFpbGFibGVCYXRjaGVyc1tuYW1lXSgpO1xuICB9XG4gIGJ1aWxkU3RhcnQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBsZXQgYmF0Y2hlcnMgPSB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXRbaW5zdHJ1Y3Rpb25TZXQudWlkXTtcbiAgICBpZiAoIWJhdGNoZXJzKSB7XG4gICAgICBiYXRjaGVycyA9IHRoaXMuX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldFtpbnN0cnVjdGlvblNldC51aWRdID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBiYXRjaGVycy5kZWZhdWx0IHx8IChiYXRjaGVycy5kZWZhdWx0ID0gbmV3IERlZmF1bHRCYXRjaGVyKHtcbiAgICAgICAgbWF4VGV4dHVyZXM6IHRoaXMucmVuZGVyZXIubGltaXRzLm1heEJhdGNoYWJsZVRleHR1cmVzXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXMgPSBiYXRjaGVycztcbiAgICB0aGlzLl9hY3RpdmVCYXRjaCA9IHRoaXMuX2FjdGl2ZUJhdGNoZXMuZGVmYXVsdDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fYWN0aXZlQmF0Y2hlcykge1xuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2hlc1tpXS5iZWdpbigpO1xuICAgIH1cbiAgfVxuICBhZGRUb0JhdGNoKGJhdGNoYWJsZU9iamVjdCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlQmF0Y2gubmFtZSAhPT0gYmF0Y2hhYmxlT2JqZWN0LmJhdGNoZXJOYW1lKSB7XG4gICAgICB0aGlzLl9hY3RpdmVCYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgICBsZXQgYmF0Y2ggPSB0aGlzLl9hY3RpdmVCYXRjaGVzW2JhdGNoYWJsZU9iamVjdC5iYXRjaGVyTmFtZV07XG4gICAgICBpZiAoIWJhdGNoKSB7XG4gICAgICAgIGJhdGNoID0gdGhpcy5fYWN0aXZlQmF0Y2hlc1tiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWVdID0gX0JhdGNoZXJQaXBlLmdldEJhdGNoZXIoYmF0Y2hhYmxlT2JqZWN0LmJhdGNoZXJOYW1lKTtcbiAgICAgICAgYmF0Y2guYmVnaW4oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2FjdGl2ZUJhdGNoID0gYmF0Y2g7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZUJhdGNoLmFkZChiYXRjaGFibGVPYmplY3QpO1xuICB9XG4gIGJyZWFrKGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG4gIGJ1aWxkRW5kKGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGNvbnN0IGJhdGNoZXMgPSB0aGlzLl9hY3RpdmVCYXRjaGVzO1xuICAgIGZvciAoY29uc3QgaSBpbiBiYXRjaGVzKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IGJhdGNoZXNbaV07XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGJhdGNoLmdlb21ldHJ5O1xuICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuc2V0RGF0YVdpdGhTaXplKGJhdGNoLmluZGV4QnVmZmVyLCBiYXRjaC5pbmRleFNpemUsIHRydWUpO1xuICAgICAgZ2VvbWV0cnkuYnVmZmVyc1swXS5zZXREYXRhV2l0aFNpemUoYmF0Y2guYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3LCBiYXRjaC5hdHRyaWJ1dGVTaXplLCBmYWxzZSk7XG4gICAgfVxuICB9XG4gIHVwbG9hZChpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGJhdGNoZXJzID0gdGhpcy5fYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0W2luc3RydWN0aW9uU2V0LnVpZF07XG4gICAgZm9yIChjb25zdCBpIGluIGJhdGNoZXJzKSB7XG4gICAgICBjb25zdCBiYXRjaGVyID0gYmF0Y2hlcnNbaV07XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGJhdGNoZXIuZ2VvbWV0cnk7XG4gICAgICBpZiAoYmF0Y2hlci5kaXJ0eSkge1xuICAgICAgICBiYXRjaGVyLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIGdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKGJhdGNoZXIuYXR0cmlidXRlU2l6ZSAqIDQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBleGVjdXRlKGJhdGNoKSB7XG4gICAgaWYgKGJhdGNoLmFjdGlvbiA9PT0gXCJzdGFydEJhdGNoXCIpIHtcbiAgICAgIGNvbnN0IGJhdGNoZXIgPSBiYXRjaC5iYXRjaGVyO1xuICAgICAgY29uc3QgZ2VvbWV0cnkgPSBiYXRjaGVyLmdlb21ldHJ5O1xuICAgICAgY29uc3Qgc2hhZGVyID0gYmF0Y2hlci5zaGFkZXI7XG4gICAgICB0aGlzLl9hZGFwdG9yLnN0YXJ0KHRoaXMsIGdlb21ldHJ5LCBzaGFkZXIpO1xuICAgIH1cbiAgICB0aGlzLl9hZGFwdG9yLmV4ZWN1dGUodGhpcywgYmF0Y2gpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fYWRhcHRvciA9IG51bGw7XG4gICAgZm9yIChjb25zdCBpIGluIHRoaXMuX2FjdGl2ZUJhdGNoZXMpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXNbaV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVCYXRjaGVzID0gbnVsbDtcbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fQmF0Y2hlclBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImJhdGNoXCJcbn07XG5fQmF0Y2hlclBpcGUuX2F2YWlsYWJsZUJhdGNoZXJzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5sZXQgQmF0Y2hlclBpcGUgPSBfQmF0Y2hlclBpcGU7XG5leHRlbnNpb25zLmhhbmRsZUJ5TWFwKEV4dGVuc2lvblR5cGUuQmF0Y2hlciwgQmF0Y2hlclBpcGUuX2F2YWlsYWJsZUJhdGNoZXJzKTtcbmV4dGVuc2lvbnMuYWRkKERlZmF1bHRCYXRjaGVyKTtcblxuZXhwb3J0IHsgQmF0Y2hlclBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhdGNoZXJQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEdsUHJvZ3JhbSB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL0dsUHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgR3B1UHJvZ3JhbSB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3NoYWRlci9HcHVQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBTaGFkZXIgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvU2hhZGVyLm1qcyc7XG5pbXBvcnQgeyBTdGF0ZSB9IGZyb20gJy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX0ZpbHRlciA9IGNsYXNzIF9GaWx0ZXIgZXh0ZW5kcyBTaGFkZXIge1xuICAvKipcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9uYWwgcGFyYW1ldGVycyBvZiB0aGlzIGZpbHRlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyAuLi5fRmlsdGVyLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgLyoqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LiAqL1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgLyoqXG4gICAgICogVGhlIGdwdSBzdGF0ZSB0aGUgZmlsdGVyIHJlcXVpcmVzIHRvIHJlbmRlci5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBvcHRpb25zLmJsZW5kTW9kZTtcbiAgICB0aGlzLnBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmFudGlhbGlhcyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHRoaXMuYW50aWFsaWFzID0gb3B0aW9ucy5hbnRpYWxpYXMgPyBcIm9uXCIgOiBcIm9mZlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzO1xuICAgIH1cbiAgICB0aGlzLnJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb247XG4gICAgdGhpcy5ibGVuZFJlcXVpcmVkID0gb3B0aW9ucy5ibGVuZFJlcXVpcmVkO1xuICAgIHRoaXMuY2xpcFRvVmlld3BvcnQgPSBvcHRpb25zLmNsaXBUb1ZpZXdwb3J0O1xuICAgIHRoaXMuYWRkUmVzb3VyY2UoXCJ1VGV4dHVyZVwiLCAwLCAxKTtcbiAgfVxuICAvKipcbiAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAqIEBwYXJhbSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgKiBAcGFyYW0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICogQHBhcmFtIG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgKiBAcGFyYW0gY2xlYXJNb2RlIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAqL1xuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyTW9kZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgYmxlbmQgbW9kZSBvZiB0aGUgZmlsdGVyLlxuICAgKiBAZGVmYXVsdCBcIm5vcm1hbFwiXG4gICAqL1xuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZS5ibGVuZE1vZGU7XG4gIH1cbiAgLyoqIFNldHMgdGhlIGJsZW5kIG1vZGUgb2YgdGhlIGZpbHRlci4gKi9cbiAgc2V0IGJsZW5kTW9kZSh2YWx1ZSkge1xuICAgIHRoaXMuX3N0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgZmlsdGVyIGJhc2VkIG9mIGEgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXIgc3JjLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyBBIHNoaW55IG5ldyBQaXhpSlMgZmlsdGVyIVxuICAgKi9cbiAgc3RhdGljIGZyb20ob3B0aW9ucykge1xuICAgIGNvbnN0IHsgZ3B1LCBnbCwgLi4ucmVzdCB9ID0gb3B0aW9ucztcbiAgICBsZXQgZ3B1UHJvZ3JhbTtcbiAgICBsZXQgZ2xQcm9ncmFtO1xuICAgIGlmIChncHUpIHtcbiAgICAgIGdwdVByb2dyYW0gPSBHcHVQcm9ncmFtLmZyb20oZ3B1KTtcbiAgICB9XG4gICAgaWYgKGdsKSB7XG4gICAgICBnbFByb2dyYW0gPSBHbFByb2dyYW0uZnJvbShnbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX0ZpbHRlcih7XG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgLi4ucmVzdFxuICAgIH0pO1xuICB9XG59O1xuLyoqIFRoZSBkZWZhdWx0IGZpbHRlciBzZXR0aW5ncyAqL1xuX0ZpbHRlci5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgYmxlbmRNb2RlOiBcIm5vcm1hbFwiLFxuICByZXNvbHV0aW9uOiAxLFxuICBwYWRkaW5nOiAwLFxuICBhbnRpYWxpYXM6IFwib2ZmXCIsXG4gIGJsZW5kUmVxdWlyZWQ6IGZhbHNlLFxuICBjbGlwVG9WaWV3cG9ydDogdHJ1ZVxufTtcbmxldCBGaWx0ZXIgPSBfRmlsdGVyO1xuXG5leHBvcnQgeyBGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbHRlci5tanMubWFwXG4iLCJ2YXIgZnJhZ21lbnQgPSBcImluIHZlYzIgdk1hc2tDb29yZDtcXG5pbiB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxudW5pZm9ybSBzYW1wbGVyMkQgdU1hc2tUZXh0dXJlO1xcblxcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcbnVuaWZvcm0gdmVjNCB1TWFza0NsYW1wO1xcbnVuaWZvcm0gZmxvYXQgdUludmVyc2U7XFxuXFxub3V0IHZlYzQgZmluYWxDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAodU1hc2tDbGFtcC54LCB2TWFza0Nvb3JkLngpICtcXG4gICAgICAgIHN0ZXAodU1hc2tDbGFtcC55LCB2TWFza0Nvb3JkLnkpICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC54LCB1TWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCB1TWFza0NsYW1wLncpKTtcXG5cXG4gICAgLy8gVE9ETyBsb29rIGludG8gd2h5IHRoaXMgaXMgbmVlZGVkXFxuICAgIGZsb2F0IG5wbUFscGhhID0gdUFscGhhO1xcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZSh1VGV4dHVyZSwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlKHVNYXNrVGV4dHVyZSwgdk1hc2tDb29yZCk7XFxuICAgIGZsb2F0IGFscGhhTXVsID0gMS4wIC0gbnBtQWxwaGEgKiAoMS4wIC0gbWFza3kuYSk7XFxuXFxuICAgIGZsb2F0IGEgPSBhbHBoYU11bCAqIG1hc2t5LnIgKiBucG1BbHBoYSAqIGNsaXA7XFxuXFxuICAgIGlmICh1SW52ZXJzZSA9PSAxLjApIHtcXG4gICAgICAgIGEgPSAxLjAgLSBhO1xcbiAgICB9XFxuXFxuICAgIGZpbmFsQ29sb3IgPSBvcmlnaW5hbCAqIGE7XFxufVxcblwiO1xuXG5leHBvcnQgeyBmcmFnbWVudCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLmZyYWcubWpzLm1hcFxuIiwidmFyIHNvdXJjZSA9IFwic3RydWN0IEdsb2JhbEZpbHRlclVuaWZvcm1zIHtcXG4gIHVJbnB1dFNpemU6dmVjNDxmMzI+LFxcbiAgdUlucHV0UGl4ZWw6dmVjNDxmMzI+LFxcbiAgdUlucHV0Q2xhbXA6dmVjNDxmMzI+LFxcbiAgdU91dHB1dEZyYW1lOnZlYzQ8ZjMyPixcXG4gIHVHbG9iYWxGcmFtZTp2ZWM0PGYzMj4sXFxuICB1T3V0cHV0VGV4dHVyZTp2ZWM0PGYzMj4sXFxufTtcXG5cXG5zdHJ1Y3QgTWFza1VuaWZvcm1zIHtcXG4gIHVGaWx0ZXJNYXRyaXg6bWF0M3gzPGYzMj4sXFxuICB1TWFza0NsYW1wOnZlYzQ8ZjMyPixcXG4gIHVBbHBoYTpmMzIsXFxuICB1SW52ZXJzZTpmMzIsXFxufTtcXG5cXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGdmdTogR2xvYmFsRmlsdGVyVW5pZm9ybXM7XFxuQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xcbkBncm91cCgwKSBAYmluZGluZygyKSB2YXIgdVNhbXBsZXIgOiBzYW1wbGVyO1xcblxcbkBncm91cCgxKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gZmlsdGVyVW5pZm9ybXMgOiBNYXNrVW5pZm9ybXM7XFxuQGdyb3VwKDEpIEBiaW5kaW5nKDEpIHZhciB1TWFza1RleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcXG5cXG5zdHJ1Y3QgVlNPdXRwdXQge1xcbiAgICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzQ8ZjMyPixcXG4gICAgQGxvY2F0aW9uKDApIHV2IDogdmVjMjxmMzI+LFxcbiAgICBAbG9jYXRpb24oMSkgZmlsdGVyVXYgOiB2ZWMyPGYzMj4sXFxufTtcXG5cXG5mbiBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb246dmVjMjxmMzI+KSAtPiB2ZWM0PGYzMj5cXG57XFxuICAgIHZhciBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIGdmdS51T3V0cHV0RnJhbWUuencgKyBnZnUudU91dHB1dEZyYW1lLnh5O1xcblxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqICgyLjAgLyBnZnUudU91dHB1dFRleHR1cmUueCkgLSAxLjA7XFxuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCpnZnUudU91dHB1dFRleHR1cmUueiAvIGdmdS51T3V0cHV0VGV4dHVyZS55KSAtIGdmdS51T3V0cHV0VGV4dHVyZS56O1xcblxcbiAgICByZXR1cm4gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApO1xcbn1cXG5cXG5mbiBmaWx0ZXJUZXh0dXJlQ29vcmQoIGFQb3NpdGlvbjp2ZWMyPGYzMj4gKSAtPiB2ZWMyPGYzMj5cXG57XFxuICAgIHJldHVybiBhUG9zaXRpb24gKiAoZ2Z1LnVPdXRwdXRGcmFtZS56dyAqIGdmdS51SW5wdXRTaXplLnp3KTtcXG59XFxuXFxuZm4gZ2xvYmFsVGV4dHVyZUNvb3JkKCBhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuICAoYVBvc2l0aW9uLnh5IC8gZ2Z1LnVHbG9iYWxGcmFtZS56dykgKyAoZ2Z1LnVHbG9iYWxGcmFtZS54eSAvIGdmdS51R2xvYmFsRnJhbWUuencpO1xcbn1cXG5cXG5mbiBnZXRGaWx0ZXJDb29yZChhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuICggZmlsdGVyVW5pZm9ybXMudUZpbHRlck1hdHJpeCAqIHZlYzMoIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLCAxLjApICApLnh5O1xcbn1cXG5cXG5mbiBnZXRTaXplKCkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuIGdmdS51R2xvYmFsRnJhbWUuenc7XFxufVxcblxcbkB2ZXJ0ZXhcXG5mbiBtYWluVmVydGV4KFxcbiAgQGxvY2F0aW9uKDApIGFQb3NpdGlvbiA6IHZlYzI8ZjMyPixcXG4pIC0+IFZTT3V0cHV0IHtcXG4gIHJldHVybiBWU091dHB1dChcXG4gICBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb24pLFxcbiAgIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLFxcbiAgIGdldEZpbHRlckNvb3JkKGFQb3NpdGlvbilcXG4gICk7XFxufVxcblxcbkBmcmFnbWVudFxcbmZuIG1haW5GcmFnbWVudChcXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMjxmMzI+LFxcbiAgQGxvY2F0aW9uKDEpIGZpbHRlclV2OiB2ZWMyPGYzMj4sXFxuICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzQ8ZjMyPlxcbikgLT4gQGxvY2F0aW9uKDApIHZlYzQ8ZjMyPiB7XFxuXFxuICAgIHZhciBtYXNrQ2xhbXAgPSBmaWx0ZXJVbmlmb3Jtcy51TWFza0NsYW1wO1xcbiAgICB2YXIgdUFscGhhID0gZmlsdGVyVW5pZm9ybXMudUFscGhhO1xcblxcbiAgICB2YXIgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgIHN0ZXAobWFza0NsYW1wLngsIGZpbHRlclV2LngpICtcXG4gICAgICBzdGVwKG1hc2tDbGFtcC55LCBmaWx0ZXJVdi55KSArXFxuICAgICAgc3RlcChmaWx0ZXJVdi54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgIHN0ZXAoZmlsdGVyVXYueSwgbWFza0NsYW1wLncpKTtcXG5cXG4gICAgdmFyIG1hc2sgPSB0ZXh0dXJlU2FtcGxlKHVNYXNrVGV4dHVyZSwgdVNhbXBsZXIsIGZpbHRlclV2KTtcXG4gICAgdmFyIHNvdXJjZSA9IHRleHR1cmVTYW1wbGUodVRleHR1cmUsIHVTYW1wbGVyLCB1dik7XFxuICAgIHZhciBhbHBoYU11bCA9IDEuMCAtIHVBbHBoYSAqICgxLjAgLSBtYXNrLmEpO1xcblxcbiAgICB2YXIgYTogZjMyID0gYWxwaGFNdWwgKiBtYXNrLnIgKiB1QWxwaGEgKiBjbGlwO1xcblxcbiAgICBpZiAoZmlsdGVyVW5pZm9ybXMudUludmVyc2UgPT0gMS4wKSB7XFxuICAgICAgICBhID0gMS4wIC0gYTtcXG4gICAgfVxcblxcbiAgICByZXR1cm4gc291cmNlICogYTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHNvdXJjZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLndnc2wubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHcHVQcm9ncmFtIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL0dwdVByb2dyYW0ubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmVNYXRyaXggfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVNYXRyaXgubWpzJztcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJy4uL0ZpbHRlci5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vbWFzay5mcmFnLm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vbWFzay52ZXJ0Lm1qcyc7XG5pbXBvcnQgc291cmNlIGZyb20gJy4vbWFzay53Z3NsLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTWFza0ZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHNwcml0ZSwgLi4ucmVzdCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgoc3ByaXRlLnRleHR1cmUpO1xuICAgIGNvbnN0IGZpbHRlclVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1RmlsdGVyTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdU1hc2tDbGFtcDogeyB2YWx1ZTogdGV4dHVyZU1hdHJpeC51Q2xhbXBGcmFtZSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUFscGhhOiB7IHZhbHVlOiAxLCB0eXBlOiBcImYzMlwiIH0sXG4gICAgICB1SW52ZXJzZTogeyB2YWx1ZTogb3B0aW9ucy5pbnZlcnNlID8gMSA6IDAsIHR5cGU6IFwiZjMyXCIgfVxuICAgIH0pO1xuICAgIGNvbnN0IGdwdVByb2dyYW0gPSBHcHVQcm9ncmFtLmZyb20oe1xuICAgICAgdmVydGV4OiB7XG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluVmVydGV4XCJcbiAgICAgIH0sXG4gICAgICBmcmFnbWVudDoge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpbkZyYWdtZW50XCJcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBnbFByb2dyYW0gPSBHbFByb2dyYW0uZnJvbSh7XG4gICAgICB2ZXJ0ZXgsXG4gICAgICBmcmFnbWVudCxcbiAgICAgIG5hbWU6IFwibWFzay1maWx0ZXJcIlxuICAgIH0pO1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLnJlc3QsXG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgcmVzb3VyY2VzOiB7XG4gICAgICAgIGZpbHRlclVuaWZvcm1zLFxuICAgICAgICB1TWFza1RleHR1cmU6IHNwcml0ZS50ZXh0dXJlLnNvdXJjZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc3ByaXRlID0gc3ByaXRlO1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXggPSB0ZXh0dXJlTWF0cml4O1xuICB9XG4gIHNldCBpbnZlcnNlKHZhbHVlKSB7XG4gICAgdGhpcy5yZXNvdXJjZXMuZmlsdGVyVW5pZm9ybXMudW5pZm9ybXMudUludmVyc2UgPSB2YWx1ZSA/IDEgOiAwO1xuICB9XG4gIGdldCBpbnZlcnNlKCkge1xuICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5maWx0ZXJVbmlmb3Jtcy51bmlmb3Jtcy51SW52ZXJzZSA9PT0gMTtcbiAgfVxuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4LnRleHR1cmUgPSB0aGlzLnNwcml0ZS50ZXh0dXJlO1xuICAgIGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KFxuICAgICAgdGhpcy5yZXNvdXJjZXMuZmlsdGVyVW5pZm9ybXMudW5pZm9ybXMudUZpbHRlck1hdHJpeCxcbiAgICAgIHRoaXMuc3ByaXRlXG4gICAgKS5wcmVwZW5kKHRoaXMuX3RleHR1cmVNYXRyaXgubWFwQ29vcmQpO1xuICAgIHRoaXMucmVzb3VyY2VzLnVNYXNrVGV4dHVyZSA9IHRoaXMuc3ByaXRlLnRleHR1cmUuc291cmNlO1xuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBNYXNrRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXNrRmlsdGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImluIHZlYzIgYVBvc2l0aW9uO1xcblxcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxub3V0IHZlYzIgdk1hc2tDb29yZDtcXG5cXG5cXG51bmlmb3JtIHZlYzQgdUlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgdU91dHB1dEZyYW1lO1xcbnVuaWZvcm0gdmVjNCB1T3V0cHV0VGV4dHVyZTtcXG51bmlmb3JtIG1hdDMgdUZpbHRlck1hdHJpeDtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCAgdmVjMiBhUG9zaXRpb24gKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIHVPdXRwdXRGcmFtZS56dyArIHVPdXRwdXRGcmFtZS54eTtcXG4gICAgICAgXFxuICAgIHBvc2l0aW9uLnggPSBwb3NpdGlvbi54ICogKDIuMCAvIHVPdXRwdXRUZXh0dXJlLngpIC0gMS4wO1xcbiAgICBwb3NpdGlvbi55ID0gcG9zaXRpb24ueSAqICgyLjAqdU91dHB1dFRleHR1cmUueiAvIHVPdXRwdXRUZXh0dXJlLnkpIC0gdU91dHB1dFRleHR1cmUuejtcXG5cXG4gICAgcmV0dXJuIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoICB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKHVPdXRwdXRGcmFtZS56dyAqIHVJbnB1dFNpemUuencpO1xcbn1cXG5cXG52ZWMyIGdldEZpbHRlckNvb3JkKCB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICByZXR1cm4gICggdUZpbHRlck1hdHJpeCAqIHZlYzMoIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLCAxLjApICApLnh5O1xcbn0gICBcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oYVBvc2l0aW9uKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pO1xcbiAgICB2TWFza0Nvb3JkID0gZ2V0RmlsdGVyQ29vcmQoYVBvc2l0aW9uKTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLnZlcnQubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgRmlsdGVyRWZmZWN0IH0gZnJvbSAnLi4vLi4vLi4vZmlsdGVycy9GaWx0ZXJFZmZlY3QubWpzJztcbmltcG9ydCB7IE1hc2tGaWx0ZXIgfSBmcm9tICcuLi8uLi8uLi9maWx0ZXJzL21hc2svTWFza0ZpbHRlci5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9Cb3VuZHMubWpzJztcbmltcG9ydCB7IGdldEdsb2JhbEJvdW5kcyB9IGZyb20gJy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvZ2V0R2xvYmFsQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9zcHJpdGUvU3ByaXRlLm1qcyc7XG5pbXBvcnQgeyBCaWdQb29sIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvcG9vbC9Qb29sR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvVGV4dHVyZVBvb2wubWpzJztcbmltcG9ydCB7IFJlbmRlcmVyVHlwZSB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy90eXBlcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRlbXBCb3VuZHMgPSBuZXcgQm91bmRzKCk7XG5jbGFzcyBBbHBoYU1hc2tFZmZlY3QgZXh0ZW5kcyBGaWx0ZXJFZmZlY3Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZmlsdGVycyA9IFtuZXcgTWFza0ZpbHRlcih7XG4gICAgICBzcHJpdGU6IG5ldyBTcHJpdGUoVGV4dHVyZS5FTVBUWSksXG4gICAgICBpbnZlcnNlOiBmYWxzZSxcbiAgICAgIHJlc29sdXRpb246IFwiaW5oZXJpdFwiLFxuICAgICAgYW50aWFsaWFzOiBcImluaGVyaXRcIlxuICAgIH0pXTtcbiAgfVxuICBnZXQgc3ByaXRlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcnNbMF0uc3ByaXRlO1xuICB9XG4gIHNldCBzcHJpdGUodmFsdWUpIHtcbiAgICB0aGlzLmZpbHRlcnNbMF0uc3ByaXRlID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGludmVyc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyc1swXS5pbnZlcnNlO1xuICB9XG4gIHNldCBpbnZlcnNlKHZhbHVlKSB7XG4gICAgdGhpcy5maWx0ZXJzWzBdLmludmVyc2UgPSB2YWx1ZTtcbiAgfVxufVxuY2xhc3MgQWxwaGFNYXNrUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fYWN0aXZlTWFza1N0YWdlID0gW107XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBwdXNoKG1hc2ssIG1hc2tlZENvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImFscGhhTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInB1c2hNYXNrQmVnaW5cIixcbiAgICAgIG1hc2ssXG4gICAgICBpbnZlcnNlOiBtYXNrZWRDb250YWluZXIuX21hc2tPcHRpb25zLmludmVyc2UsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlLFxuICAgICAgbWFza2VkQ29udGFpbmVyXG4gICAgfSk7XG4gICAgbWFzay5pbnZlcnNlID0gbWFza2VkQ29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlO1xuICAgIGlmIChtYXNrLnJlbmRlck1hc2tUb1RleHR1cmUpIHtcbiAgICAgIGNvbnN0IG1hc2tDb250YWluZXIgPSBtYXNrLm1hc2s7XG4gICAgICBtYXNrQ29udGFpbmVyLmluY2x1ZGVJbkJ1aWxkID0gdHJ1ZTtcbiAgICAgIG1hc2tDb250YWluZXIuY29sbGVjdFJlbmRlcmFibGVzKFxuICAgICAgICBpbnN0cnVjdGlvblNldCxcbiAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgIG51bGxcbiAgICAgICk7XG4gICAgICBtYXNrQ29udGFpbmVyLmluY2x1ZGVJbkJ1aWxkID0gZmFsc2U7XG4gICAgfVxuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImFscGhhTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInB1c2hNYXNrRW5kXCIsXG4gICAgICBtYXNrLFxuICAgICAgbWFza2VkQ29udGFpbmVyLFxuICAgICAgaW52ZXJzZTogbWFza2VkQ29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIHBvcChtYXNrLCBfbWFza2VkQ29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiYWxwaGFNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicG9wTWFza0VuZFwiLFxuICAgICAgbWFzayxcbiAgICAgIGludmVyc2U6IF9tYXNrZWRDb250YWluZXIuX21hc2tPcHRpb25zLmludmVyc2UsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgZXhlY3V0ZShpbnN0cnVjdGlvbikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgY29uc3QgcmVuZGVyTWFzayA9IGluc3RydWN0aW9uLm1hc2sucmVuZGVyTWFza1RvVGV4dHVyZTtcbiAgICBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInB1c2hNYXNrQmVnaW5cIikge1xuICAgICAgY29uc3QgZmlsdGVyRWZmZWN0ID0gQmlnUG9vbC5nZXQoQWxwaGFNYXNrRWZmZWN0KTtcbiAgICAgIGZpbHRlckVmZmVjdC5pbnZlcnNlID0gaW5zdHJ1Y3Rpb24uaW52ZXJzZTtcbiAgICAgIGlmIChyZW5kZXJNYXNrKSB7XG4gICAgICAgIGluc3RydWN0aW9uLm1hc2subWFzay5tZWFzdXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgYm91bmRzID0gZ2V0R2xvYmFsQm91bmRzKGluc3RydWN0aW9uLm1hc2subWFzaywgdHJ1ZSwgdGVtcEJvdW5kcyk7XG4gICAgICAgIGluc3RydWN0aW9uLm1hc2subWFzay5tZWFzdXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGJvdW5kcy5jZWlsKCk7XG4gICAgICAgIGNvbnN0IGNvbG9yVGV4dHVyZVNvdXJjZSA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5yZW5kZXJUYXJnZXQuY29sb3JUZXh0dXJlLnNvdXJjZTtcbiAgICAgICAgY29uc3QgZmlsdGVyVGV4dHVyZSA9IFRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKFxuICAgICAgICAgIGJvdW5kcy53aWR0aCxcbiAgICAgICAgICBib3VuZHMuaGVpZ2h0LFxuICAgICAgICAgIGNvbG9yVGV4dHVyZVNvdXJjZS5fcmVzb2x1dGlvbixcbiAgICAgICAgICBjb2xvclRleHR1cmVTb3VyY2UuYW50aWFsaWFzXG4gICAgICAgICk7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5wdXNoKGZpbHRlclRleHR1cmUsIHRydWUpO1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wdXNoKHtcbiAgICAgICAgICBvZmZzZXQ6IGJvdW5kcyxcbiAgICAgICAgICB3b3JsZENvbG9yOiA0Mjk0OTY3Mjk1XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzcHJpdGUgPSBmaWx0ZXJFZmZlY3Quc3ByaXRlO1xuICAgICAgICBzcHJpdGUudGV4dHVyZSA9IGZpbHRlclRleHR1cmU7XG4gICAgICAgIHNwcml0ZS53b3JsZFRyYW5zZm9ybS50eCA9IGJvdW5kcy5taW5YO1xuICAgICAgICBzcHJpdGUud29ybGRUcmFuc2Zvcm0udHkgPSBib3VuZHMubWluWTtcbiAgICAgICAgdGhpcy5fYWN0aXZlTWFza1N0YWdlLnB1c2goe1xuICAgICAgICAgIGZpbHRlckVmZmVjdCxcbiAgICAgICAgICBtYXNrZWRDb250YWluZXI6IGluc3RydWN0aW9uLm1hc2tlZENvbnRhaW5lcixcbiAgICAgICAgICBmaWx0ZXJUZXh0dXJlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmlsdGVyRWZmZWN0LnNwcml0ZSA9IGluc3RydWN0aW9uLm1hc2subWFzaztcbiAgICAgICAgdGhpcy5fYWN0aXZlTWFza1N0YWdlLnB1c2goe1xuICAgICAgICAgIGZpbHRlckVmZmVjdCxcbiAgICAgICAgICBtYXNrZWRDb250YWluZXI6IGluc3RydWN0aW9uLm1hc2tlZENvbnRhaW5lclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoTWFza0VuZFwiKSB7XG4gICAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMuX2FjdGl2ZU1hc2tTdGFnZVt0aGlzLl9hY3RpdmVNYXNrU3RhZ2UubGVuZ3RoIC0gMV07XG4gICAgICBpZiAocmVuZGVyTWFzaykge1xuICAgICAgICBpZiAocmVuZGVyZXIudHlwZSA9PT0gUmVuZGVyZXJUeXBlLldFQkdMKSB7XG4gICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmZpbmlzaFJlbmRlclBhc3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQucG9wKCk7XG4gICAgICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2goe1xuICAgICAgICByZW5kZXJQaXBlSWQ6IFwiZmlsdGVyXCIsXG4gICAgICAgIGFjdGlvbjogXCJwdXNoRmlsdGVyXCIsXG4gICAgICAgIGNvbnRhaW5lcjogbWFza0RhdGEubWFza2VkQ29udGFpbmVyLFxuICAgICAgICBmaWx0ZXJFZmZlY3Q6IG1hc2tEYXRhLmZpbHRlckVmZmVjdCxcbiAgICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicG9wTWFza0VuZFwiKSB7XG4gICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICBjb25zdCBtYXNrRGF0YSA9IHRoaXMuX2FjdGl2ZU1hc2tTdGFnZS5wb3AoKTtcbiAgICAgIGlmIChyZW5kZXJNYXNrKSB7XG4gICAgICAgIFRleHR1cmVQb29sLnJldHVyblRleHR1cmUobWFza0RhdGEuZmlsdGVyVGV4dHVyZSk7XG4gICAgICB9XG4gICAgICBCaWdQb29sLnJldHVybihtYXNrRGF0YS5maWx0ZXJFZmZlY3QpO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9hY3RpdmVNYXNrU3RhZ2UgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQWxwaGFNYXNrUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYWxwaGFNYXNrXCJcbn07XG5cbmV4cG9ydCB7IEFscGhhTWFza1BpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFscGhhTWFza1BpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIENvbG9yTWFza1BpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2NvbG9yU3RhY2sgPSBbXTtcbiAgICB0aGlzLl9jb2xvclN0YWNrSW5kZXggPSAwO1xuICAgIHRoaXMuX2N1cnJlbnRDb2xvciA9IDA7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBidWlsZFN0YXJ0KCkge1xuICAgIHRoaXMuX2NvbG9yU3RhY2tbMF0gPSAxNTtcbiAgICB0aGlzLl9jb2xvclN0YWNrSW5kZXggPSAxO1xuICAgIHRoaXMuX2N1cnJlbnRDb2xvciA9IDE1O1xuICB9XG4gIHB1c2gobWFzaywgX2NvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBjb25zdCBjb2xvclN0YWNrID0gdGhpcy5fY29sb3JTdGFjaztcbiAgICBjb2xvclN0YWNrW3RoaXMuX2NvbG9yU3RhY2tJbmRleF0gPSBjb2xvclN0YWNrW3RoaXMuX2NvbG9yU3RhY2tJbmRleCAtIDFdICYgbWFzay5tYXNrO1xuICAgIGNvbnN0IGN1cnJlbnRDb2xvciA9IHRoaXMuX2NvbG9yU3RhY2tbdGhpcy5fY29sb3JTdGFja0luZGV4XTtcbiAgICBpZiAoY3VycmVudENvbG9yICE9PSB0aGlzLl9jdXJyZW50Q29sb3IpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRDb2xvciA9IGN1cnJlbnRDb2xvcjtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICAgIHJlbmRlclBpcGVJZDogXCJjb2xvck1hc2tcIixcbiAgICAgICAgY29sb3JNYXNrOiBjdXJyZW50Q29sb3IsXG4gICAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9jb2xvclN0YWNrSW5kZXgrKztcbiAgfVxuICBwb3AoX21hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgY29sb3JTdGFjayA9IHRoaXMuX2NvbG9yU3RhY2s7XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4LS07XG4gICAgY29uc3QgY3VycmVudENvbG9yID0gY29sb3JTdGFja1t0aGlzLl9jb2xvclN0YWNrSW5kZXggLSAxXTtcbiAgICBpZiAoY3VycmVudENvbG9yICE9PSB0aGlzLl9jdXJyZW50Q29sb3IpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRDb2xvciA9IGN1cnJlbnRDb2xvcjtcbiAgICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICAgIHJlbmRlclBpcGVJZDogXCJjb2xvck1hc2tcIixcbiAgICAgICAgY29sb3JNYXNrOiBjdXJyZW50Q29sb3IsXG4gICAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBleGVjdXRlKGluc3RydWN0aW9uKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5jb2xvck1hc2suc2V0TWFzayhpbnN0cnVjdGlvbi5jb2xvck1hc2spO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fY29sb3JTdGFjayA9IG51bGw7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5Db2xvck1hc2tQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJjb2xvck1hc2tcIlxufTtcblxuZXhwb3J0IHsgQ29sb3JNYXNrUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sb3JNYXNrUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBDTEVBUiB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9nbC9jb25zdC5tanMnO1xuaW1wb3J0IHsgU1RFTkNJTF9NT0RFUyB9IGZyb20gJy4uLy4uL3JlbmRlcmVycy9zaGFyZWQvc3RhdGUvY29uc3QubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBTdGVuY2lsTWFza1BpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIC8vIHVzZWQgd2hlbiBidWlsZGluZyBhbmQgYWxzbyB3aGVuIGV4ZWN1dGluZy4uXG4gICAgdGhpcy5fbWFza1N0YWNrSGFzaCA9IHt9O1xuICAgIHRoaXMuX21hc2tIYXNoID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBwdXNoKG1hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGVmZmVjdCA9IG1hc2s7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmxlbmRNb2RlLnNldEJsZW5kTW9kZShlZmZlY3QubWFzaywgXCJub25lXCIsIGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcInN0ZW5jaWxNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicHVzaE1hc2tCZWdpblwiLFxuICAgICAgbWFzayxcbiAgICAgIGludmVyc2U6IF9jb250YWluZXIuX21hc2tPcHRpb25zLmludmVyc2UsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgbWFza0NvbnRhaW5lciA9IGVmZmVjdC5tYXNrO1xuICAgIG1hc2tDb250YWluZXIuaW5jbHVkZUluQnVpbGQgPSB0cnVlO1xuICAgIGlmICghdGhpcy5fbWFza0hhc2guaGFzKGVmZmVjdCkpIHtcbiAgICAgIHRoaXMuX21hc2tIYXNoLnNldChlZmZlY3QsIHtcbiAgICAgICAgaW5zdHJ1Y3Rpb25zU3RhcnQ6IDAsXG4gICAgICAgIGluc3RydWN0aW9uc0xlbmd0aDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG1hc2tEYXRhID0gdGhpcy5fbWFza0hhc2guZ2V0KGVmZmVjdCk7XG4gICAgbWFza0RhdGEuaW5zdHJ1Y3Rpb25zU3RhcnQgPSBpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvblNpemU7XG4gICAgbWFza0NvbnRhaW5lci5jb2xsZWN0UmVuZGVyYWJsZXMoXG4gICAgICBpbnN0cnVjdGlvblNldCxcbiAgICAgIHJlbmRlcmVyLFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IGZhbHNlO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcInN0ZW5jaWxNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicHVzaE1hc2tFbmRcIixcbiAgICAgIG1hc2ssXG4gICAgICBpbnZlcnNlOiBfY29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IGluc3RydWN0aW9uc0xlbmd0aCA9IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uU2l6ZSAtIG1hc2tEYXRhLmluc3RydWN0aW9uc1N0YXJ0IC0gMTtcbiAgICBtYXNrRGF0YS5pbnN0cnVjdGlvbnNMZW5ndGggPSBpbnN0cnVjdGlvbnNMZW5ndGg7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0VWlkID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldC51aWQ7XG4gICAgKF9hID0gdGhpcy5fbWFza1N0YWNrSGFzaClbcmVuZGVyVGFyZ2V0VWlkXSA/PyAoX2FbcmVuZGVyVGFyZ2V0VWlkXSA9IDApO1xuICB9XG4gIHBvcChtYXNrLCBfY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGVmZmVjdCA9IG1hc2s7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmxlbmRNb2RlLnNldEJsZW5kTW9kZShlZmZlY3QubWFzaywgXCJub25lXCIsIGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcInN0ZW5jaWxNYXNrXCIsXG4gICAgICBhY3Rpb246IFwicG9wTWFza0JlZ2luXCIsXG4gICAgICBpbnZlcnNlOiBfY29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICAgIGNvbnN0IG1hc2tEYXRhID0gdGhpcy5fbWFza0hhc2guZ2V0KG1hc2spO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWFza0RhdGEuaW5zdHJ1Y3Rpb25zTGVuZ3RoOyBpKyspIHtcbiAgICAgIGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uc1tpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvblNpemUrK10gPSBpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvbnNbbWFza0RhdGEuaW5zdHJ1Y3Rpb25zU3RhcnQrK107XG4gICAgfVxuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwic3RlbmNpbE1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwb3BNYXNrRW5kXCIsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgZXhlY3V0ZShpbnN0cnVjdGlvbikge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGNvbnN0IHJlbmRlclRhcmdldFVpZCA9IHJlbmRlcmVyLnJlbmRlclRhcmdldC5yZW5kZXJUYXJnZXQudWlkO1xuICAgIGxldCBtYXNrU3RhY2tJbmRleCA9IChfYSA9IHRoaXMuX21hc2tTdGFja0hhc2gpW3JlbmRlclRhcmdldFVpZF0gPz8gKF9hW3JlbmRlclRhcmdldFVpZF0gPSAwKTtcbiAgICBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInB1c2hNYXNrQmVnaW5cIikge1xuICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmVuc3VyZURlcHRoU3RlbmNpbCgpO1xuICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLlJFTkRFUklOR19NQVNLX0FERCwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgbWFza1N0YWNrSW5kZXgrKztcbiAgICAgIHJlbmRlcmVyLmNvbG9yTWFzay5zZXRNYXNrKDApO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInB1c2hNYXNrRW5kXCIpIHtcbiAgICAgIGlmIChpbnN0cnVjdGlvbi5pbnZlcnNlKSB7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5JTlZFUlNFX01BU0tfQUNUSVZFLCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuTUFTS19BQ1RJVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH1cbiAgICAgIHJlbmRlcmVyLmNvbG9yTWFzay5zZXRNYXNrKDE1KTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwb3BNYXNrQmVnaW5cIikge1xuICAgICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soMCk7XG4gICAgICBpZiAobWFza1N0YWNrSW5kZXggIT09IDApIHtcbiAgICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLlJFTkRFUklOR19NQVNLX1JFTU9WRSwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmNsZWFyKG51bGwsIENMRUFSLlNURU5DSUwpO1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuRElTQUJMRUQsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH1cbiAgICAgIG1hc2tTdGFja0luZGV4LS07XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicG9wTWFza0VuZFwiKSB7XG4gICAgICBpZiAoaW5zdHJ1Y3Rpb24uaW52ZXJzZSkge1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuSU5WRVJTRV9NQVNLX0FDVElWRSwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLk1BU0tfQUNUSVZFLCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICB9XG4gICAgICByZW5kZXJlci5jb2xvck1hc2suc2V0TWFzaygxNSk7XG4gICAgfVxuICAgIHRoaXMuX21hc2tTdGFja0hhc2hbcmVuZGVyVGFyZ2V0VWlkXSA9IG1hc2tTdGFja0luZGV4O1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX21hc2tTdGFja0hhc2ggPSBudWxsO1xuICAgIHRoaXMuX21hc2tIYXNoID0gbnVsbDtcbiAgfVxufVxuU3RlbmNpbE1hc2tQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJzdGVuY2lsTWFza1wiXG59O1xuXG5leHBvcnQgeyBTdGVuY2lsTWFza1BpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0ZW5jaWxNYXNrUGlwZS5tanMubWFwXG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbG9yL0NvbG9yLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX0JhY2tncm91bmRTeXN0ZW0gPSBjbGFzcyBfQmFja2dyb3VuZFN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSB0cnVlO1xuICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IG5ldyBDb2xvcigwKTtcbiAgICB0aGlzLmNvbG9yID0gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuICB9XG4gIC8qKlxuICAgKiBpbml0aWF0ZXMgdGhlIGJhY2tncm91bmQgc3lzdGVtXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gdGhlIG9wdGlvbnMgZm9yIHRoZSBiYWNrZ3JvdW5kIGNvbG9yc1xuICAgKi9cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0JhY2tncm91bmRTeXN0ZW0uZGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcbiAgICB0aGlzLmNvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kIHx8IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8IHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgICB0aGlzLmFscGhhID0gb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGE7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yLnNldEFscGhhKG9wdGlvbnMuYmFja2dyb3VuZEFscGhhKTtcbiAgfVxuICAvKiogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnQgKi9cbiAgZ2V0IGNvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gIH1cbiAgc2V0IGNvbG9yKHZhbHVlKSB7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yLnNldFZhbHVlKHZhbHVlKTtcbiAgfVxuICAvKiogVGhlIGJhY2tncm91bmQgY29sb3IgYWxwaGEuIFNldHRpbmcgdGhpcyB0byAwIHdpbGwgbWFrZSB0aGUgY2FudmFzIHRyYW5zcGFyZW50LiAqL1xuICBnZXQgYWxwaGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvci5hbHBoYTtcbiAgfVxuICBzZXQgYWxwaGEodmFsdWUpIHtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3Iuc2V0QWxwaGEodmFsdWUpO1xuICB9XG4gIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQiwgQV0gYXJyYXkuICovXG4gIGdldCBjb2xvclJnYmEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvci50b0FycmF5KCk7XG4gIH1cbiAgLyoqXG4gICAqIGRlc3Ryb3lzIHRoZSBiYWNrZ3JvdW5kIHN5c3RlbVxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX0JhY2tncm91bmRTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImJhY2tncm91bmRcIixcbiAgcHJpb3JpdHk6IDBcbn07XG4vKiogZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIHN5c3RlbSAqL1xuX0JhY2tncm91bmRTeXN0ZW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmJhY2tncm91bmRBbHBoYX1cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgYmFja2dyb3VuZEFscGhhOiAxLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3J9XG4gICAqIEBkZWZhdWx0IDB4MDAwMDAwXG4gICAqL1xuICBiYWNrZ3JvdW5kQ29sb3I6IDAsXG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyfVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZVxufTtcbmxldCBCYWNrZ3JvdW5kU3lzdGVtID0gX0JhY2tncm91bmRTeXN0ZW07XG5cbmV4cG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhY2tncm91bmRTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucywgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgRmlsdGVyRWZmZWN0IH0gZnJvbSAnLi4vLi4vLi4vLi4vZmlsdGVycy9GaWx0ZXJFZmZlY3QubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBCTEVORF9NT0RFX0ZJTFRFUlMgPSB7fTtcbmV4dGVuc2lvbnMuaGFuZGxlKEV4dGVuc2lvblR5cGUuQmxlbmRNb2RlLCAodmFsdWUpID0+IHtcbiAgaWYgKCF2YWx1ZS5uYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQmxlbmRNb2RlIGV4dGVuc2lvbiBtdXN0IGhhdmUgYSBuYW1lIHByb3BlcnR5XCIpO1xuICB9XG4gIEJMRU5EX01PREVfRklMVEVSU1t2YWx1ZS5uYW1lXSA9IHZhbHVlLnJlZjtcbn0sICh2YWx1ZSkgPT4ge1xuICBkZWxldGUgQkxFTkRfTU9ERV9GSUxURVJTW3ZhbHVlLm5hbWVdO1xufSk7XG5jbGFzcyBCbGVuZE1vZGVQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9pc0FkdmFuY2VkID0gZmFsc2U7XG4gICAgdGhpcy5fZmlsdGVySGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fcmVuZGVyZXIucnVubmVycy5wcmVyZW5kZXIuYWRkKHRoaXMpO1xuICB9XG4gIHByZXJlbmRlcigpIHtcbiAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBcIm5vcm1hbFwiO1xuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogVGhpcyBlbnN1cmVzIHRoYXQgYSBibGVuZE1vZGUgc3dpdGNoIGlzIGFkZGVkIHRvIHRoZSBpbnN0cnVjdGlvbiBzZXQgaWYgdGhlIGJsZW5kIG1vZGUgaGFzIGNoYW5nZWQuXG4gICAqIEBwYXJhbSByZW5kZXJhYmxlIC0gVGhlIHJlbmRlcmFibGUgd2UgYXJlIGFkZGluZyB0byB0aGUgaW5zdHJ1Y3Rpb24gc2V0XG4gICAqIEBwYXJhbSBibGVuZE1vZGUgLSBUaGUgYmxlbmQgbW9kZSBvZiB0aGUgcmVuZGVyYWJsZVxuICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb25TZXQgLSBUaGUgaW5zdHJ1Y3Rpb24gc2V0IHdlIGFyZSBhZGRpbmcgdG9cbiAgICovXG4gIHNldEJsZW5kTW9kZShyZW5kZXJhYmxlLCBibGVuZE1vZGUsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9PT0gYmxlbmRNb2RlKSB7XG4gICAgICBpZiAodGhpcy5faXNBZHZhbmNlZClcbiAgICAgICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QucHVzaChyZW5kZXJhYmxlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmxlbmRNb2RlID0gYmxlbmRNb2RlO1xuICAgIGlmICh0aGlzLl9pc0FkdmFuY2VkKSB7XG4gICAgICB0aGlzLl9lbmRBZHZhbmNlZEJsZW5kTW9kZShpbnN0cnVjdGlvblNldCk7XG4gICAgfVxuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSAhIUJMRU5EX01PREVfRklMVEVSU1tibGVuZE1vZGVdO1xuICAgIGlmICh0aGlzLl9pc0FkdmFuY2VkKSB7XG4gICAgICB0aGlzLl9iZWdpbkFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIHRoaXMuX3JlbmRlcmFibGVMaXN0LnB1c2gocmVuZGVyYWJsZSk7XG4gICAgfVxuICB9XG4gIF9iZWdpbkFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KSB7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGNvbnN0IGJsZW5kTW9kZSA9IHRoaXMuX2FjdGl2ZUJsZW5kTW9kZTtcbiAgICBpZiAoIUJMRU5EX01PREVfRklMVEVSU1tibGVuZE1vZGVdKSB7XG4gICAgICB3YXJuKGBVbmFibGUgdG8gYXNzaWduIEJsZW5kTW9kZTogJyR7YmxlbmRNb2RlfScuIFlvdSBtYXkgd2FudCB0byBpbmNsdWRlOiBpbXBvcnQgJ3BpeGkuanMvYWR2YW5jZWQtYmxlbmQtbW9kZXMnYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBmaWx0ZXJFZmZlY3QgPSB0aGlzLl9maWx0ZXJIYXNoW2JsZW5kTW9kZV07XG4gICAgaWYgKCFmaWx0ZXJFZmZlY3QpIHtcbiAgICAgIGZpbHRlckVmZmVjdCA9IHRoaXMuX2ZpbHRlckhhc2hbYmxlbmRNb2RlXSA9IG5ldyBGaWx0ZXJFZmZlY3QoKTtcbiAgICAgIGZpbHRlckVmZmVjdC5maWx0ZXJzID0gW25ldyBCTEVORF9NT0RFX0ZJTFRFUlNbYmxlbmRNb2RlXSgpXTtcbiAgICB9XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb24gPSB7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiZmlsdGVyXCIsXG4gICAgICBhY3Rpb246IFwicHVzaEZpbHRlclwiLFxuICAgICAgcmVuZGVyYWJsZXM6IFtdLFxuICAgICAgZmlsdGVyRWZmZWN0LFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH07XG4gICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QgPSBpbnN0cnVjdGlvbi5yZW5kZXJhYmxlcztcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoaW5zdHJ1Y3Rpb24pO1xuICB9XG4gIF9lbmRBZHZhbmNlZEJsZW5kTW9kZShpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX3JlbmRlcmFibGVMaXN0ID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGFjdGlvbjogXCJwb3BGaWx0ZXJcIixcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogY2FsbGVkIHdoZW4gdGhlIGluc3RydWN0aW9uIGJ1aWxkIHByb2Nlc3MgaXMgc3RhcnRpbmcgdGhpcyB3aWxsIHJlc2V0IGludGVybmFsbHkgdG8gdGhlIGRlZmF1bHQgYmxlbmQgbW9kZVxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGJ1aWxkU3RhcnQoKSB7XG4gICAgdGhpcy5faXNBZHZhbmNlZCA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBjYWxsZWQgd2hlbiB0aGUgaW5zdHJ1Y3Rpb24gYnVpbGQgcHJvY2VzcyBpcyBmaW5pc2hlZCwgZW5zdXJpbmcgdGhhdCBpZiB0aGVyZSBpcyBhbiBhZHZhbmNlZCBibGVuZCBtb2RlXG4gICAqIGFjdGl2ZSwgd2UgYWRkIHRoZSBmaW5hbCByZW5kZXIgaW5zdHJ1Y3Rpb25zIGFkZGVkIHRvIHRoZSBpbnN0cnVjdGlvbiBzZXRcbiAgICogQHBhcmFtIGluc3RydWN0aW9uU2V0IC0gVGhlIGluc3RydWN0aW9uIHNldCB3ZSBhcmUgYWRkaW5nIHRvXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBpZiAodGhpcy5faXNBZHZhbmNlZCkge1xuICAgICAgdGhpcy5fZW5kQWR2YW5jZWRCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH1cbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmFibGVMaXN0ID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fZmlsdGVySGFzaCkge1xuICAgICAgdGhpcy5fZmlsdGVySGFzaFtpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2ZpbHRlckhhc2ggPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQmxlbmRNb2RlUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYmxlbmRNb2RlXCJcbn07XG5cbmV4cG9ydCB7IEJsZW5kTW9kZVBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsZW5kTW9kZVBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGltYWdlVHlwZXMgPSB7XG4gIHBuZzogXCJpbWFnZS9wbmdcIixcbiAganBnOiBcImltYWdlL2pwZWdcIixcbiAgd2VicDogXCJpbWFnZS93ZWJwXCJcbn07XG5jb25zdCBfRXh0cmFjdFN5c3RlbSA9IGNsYXNzIF9FeHRyYWN0U3lzdGVtIHtcbiAgLyoqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBfbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zLCBkZWZhdWx0cyA9IHt9KSB7XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBDb250YWluZXIgfHwgb3B0aW9ucyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhcmdldDogb3B0aW9ucyxcbiAgICAgICAgLi4uZGVmYXVsdHNcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5kZWZhdWx0cyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEhUTUxJbWFnZUVsZW1lbnQgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHRleHR1cmUuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIGltYWdlLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGdlbmVyYXRlZCBIVE1MSW1hZ2VFbGVtZW50XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEJhc2ljIHVzYWdlIHdpdGggYSBzcHJpdGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogY29uc3QgaW1hZ2UgPSBhd2FpdCByZW5kZXJlci5leHRyYWN0LmltYWdlKHNwcml0ZSk7XG4gICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgKlxuICAgKiAvLyBBZHZhbmNlZCB1c2FnZSB3aXRoIG9wdGlvbnNcbiAgICogY29uc3QgaW1hZ2UgPSBhd2FpdCByZW5kZXJlci5leHRyYWN0LmltYWdlKHtcbiAgICogICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgKiAgICAgZm9ybWF0OiAnd2VicCcsXG4gICAqICAgICBxdWFsaXR5OiAwLjgsXG4gICAqICAgICBmcmFtZTogbmV3IFJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCksXG4gICAqICAgICByZXNvbHV0aW9uOiAyLFxuICAgKiAgICAgY2xlYXJDb2xvcjogJyNmZjAwMDAnLFxuICAgKiAgICAgYW50aWFsaWFzOiB0cnVlXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IGRpcmVjdGx5IGZyb20gYSB0ZXh0dXJlXG4gICAqIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlLmZyb20oJ215VGV4dHVyZS5wbmcnKTtcbiAgICogY29uc3QgaW1hZ2UgPSBhd2FpdCByZW5kZXJlci5leHRyYWN0LmltYWdlKHRleHR1cmUpO1xuICAgKiBgYGBcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdEltYWdlT3B0aW9uc30gRm9yIGRldGFpbGVkIG9wdGlvbnNcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5iYXNlNjR9IEZvciBiYXNlNjQgc3RyaW5nIG91dHB1dFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmNhbnZhc30gRm9yIGNhbnZhcyBvdXRwdXRcbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgYXN5bmMgaW1hZ2Uob3B0aW9ucykge1xuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2Uuc3JjID0gYXdhaXQgdGhpcy5iYXNlNjQob3B0aW9ucyk7XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgdGFyZ2V0IGludG8gYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdvcmtzIGJ5IGZpcnN0IGNyZWF0aW5nXG4gICAqIGEgY2FudmFzIHVzaW5nIGBFeHRyYWN0LmNhbnZhc2AgYW5kIHRoZW4gY29udmVydGluZyBpdCB0byBhIGJhc2U2NCBzdHJpbmcuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGNyZWF0aW5nIHRoZSBiYXNlNjQgc3RyaW5nLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZ1xuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBCYXNpYyB1c2FnZSB3aXRoIGEgc3ByaXRlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlbmRlcmVyLmV4dHJhY3QuYmFzZTY0KHNwcml0ZSk7XG4gICAqIGNvbnNvbGUubG9nKGJhc2U2NCk7IC8vIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwuLi5cbiAgICpcbiAgICogLy8gQWR2YW5jZWQgdXNhZ2Ugd2l0aCBvcHRpb25zXG4gICAqIGNvbnN0IGJhc2U2NCA9IGF3YWl0IHJlbmRlcmVyLmV4dHJhY3QuYmFzZTY0KHtcbiAgICogICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgKiAgICAgZm9ybWF0OiAnd2VicCcsXG4gICAqICAgICBxdWFsaXR5OiAwLjgsXG4gICAqICAgICBmcmFtZTogbmV3IFJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCksXG4gICAqICAgICByZXNvbHV0aW9uOiAyXG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIHRoZSBwbGF0Zm9ybSBkb2Vzbid0IHN1cHBvcnQgYW55IG9mOlxuICAgKiAtIElDYW52YXMudG9EYXRhVVJMXG4gICAqIC0gSUNhbnZhcy50b0Jsb2JcbiAgICogLSBJQ2FudmFzLmNvbnZlcnRUb0Jsb2JcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdEltYWdlT3B0aW9uc30gRm9yIGRldGFpbGVkIG9wdGlvbnNcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5jYW52YXN9IEZvciBjYW52YXMgb3V0cHV0XG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uaW1hZ2V9IEZvciBIVE1MSW1hZ2Ugb3V0cHV0XG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIGFzeW5jIGJhc2U2NChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMoXG4gICAgICBvcHRpb25zLFxuICAgICAgX0V4dHJhY3RTeXN0ZW0uZGVmYXVsdEltYWdlT3B0aW9uc1xuICAgICk7XG4gICAgY29uc3QgeyBmb3JtYXQsIHF1YWxpdHkgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXMob3B0aW9ucyk7XG4gICAgaWYgKGNhbnZhcy50b0Jsb2IgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY2FudmFzLnRvQmxvYigoYmxvYikgPT4ge1xuICAgICAgICAgIGlmICghYmxvYikge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcIklDYW52YXMudG9CbG9iIGZhaWxlZCFcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgICB9LCBpbWFnZVR5cGVzW2Zvcm1hdF0sIHF1YWxpdHkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChjYW52YXMudG9EYXRhVVJMICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBjYW52YXMudG9EYXRhVVJMKGltYWdlVHlwZXNbZm9ybWF0XSwgcXVhbGl0eSk7XG4gICAgfVxuICAgIGlmIChjYW52YXMuY29udmVydFRvQmxvYiAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgY2FudmFzLmNvbnZlcnRUb0Jsb2IoeyB0eXBlOiBpbWFnZVR5cGVzW2Zvcm1hdF0sIHF1YWxpdHkgfSk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkV4dHJhY3QuYmFzZTY0KCkgcmVxdWlyZXMgSUNhbnZhcy50b0RhdGFVUkwsIElDYW52YXMudG9CbG9iLCBvciBJQ2FudmFzLmNvbnZlcnRUb0Jsb2IgdG8gYmUgaW1wbGVtZW50ZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGUgdGFyZ2V0IHRvIGl0IGFuZCByZXR1cm5zIGl0LlxuICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VmdWwgZm9yIGNyZWF0aW5nIHN0YXRpYyBpbWFnZXMgb3Igd2hlbiB5b3UgbmVlZCBkaXJlY3QgY2FudmFzIGFjY2Vzcy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIGNhbnZhcywgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEByZXR1cm5zIEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvblxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBCYXNpYyBjYW52YXMgZXh0cmFjdGlvbiBmcm9tIGEgc3ByaXRlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIGNvbnN0IGNhbnZhcyA9IHJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHNwcml0ZSk7XG4gICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICpcbiAgICogLy8gRXh0cmFjdCB3aXRoIGN1c3RvbSByZWdpb25cbiAgICogY29uc3QgY2FudmFzID0gcmVuZGVyZXIuZXh0cmFjdC5jYW52YXMoe1xuICAgKiAgICAgdGFyZ2V0OiBjb250YWluZXIsXG4gICAqICAgICBmcmFtZTogbmV3IFJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMClcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIEV4dHJhY3Qgd2l0aCBoaWdoIHJlc29sdXRpb25cbiAgICogY29uc3QgY2FudmFzID0gcmVuZGVyZXIuZXh0cmFjdC5jYW52YXMoe1xuICAgKiAgICAgdGFyZ2V0OiBzcHJpdGUsXG4gICAqICAgICByZXNvbHV0aW9uOiAyLFxuICAgKiAgICAgY2xlYXJDb2xvcjogJyNmZjAwMDAnXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IGRpcmVjdGx5IGZyb20gYSB0ZXh0dXJlXG4gICAqIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlLmZyb20oJ215VGV4dHVyZS5wbmcnKTtcbiAgICogY29uc3QgY2FudmFzID0gcmVuZGVyZXIuZXh0cmFjdC5jYW52YXModGV4dHVyZSk7XG4gICAqXG4gICAqIC8vIEV4dHJhY3Qgd2l0aCBhbnRpLWFsaWFzaW5nXG4gICAqIGNvbnN0IGNhbnZhcyA9IHJlbmRlcmVyLmV4dHJhY3QuY2FudmFzKHtcbiAgICogICAgIHRhcmdldDogZ3JhcGhpY3MsXG4gICAqICAgICBhbnRpYWxpYXM6IHRydWVcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0T3B0aW9uc30gRm9yIGRldGFpbGVkIG9wdGlvbnNcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5pbWFnZX0gRm9yIEhUTUxJbWFnZSBvdXRwdXRcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5waXhlbHN9IEZvciByYXcgcGl4ZWwgZGF0YVxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBjYW52YXMob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIHJldHVybiByZW5kZXJlci50ZXh0dXJlLmdlbmVyYXRlQ2FudmFzKHRhcmdldCk7XG4gICAgfVxuICAgIGNvbnN0IHRleHR1cmUgPSByZW5kZXJlci50ZXh0dXJlR2VuZXJhdG9yLmdlbmVyYXRlVGV4dHVyZShvcHRpb25zKTtcbiAgICBjb25zdCBjYW52YXMgPSByZW5kZXJlci50ZXh0dXJlLmdlbmVyYXRlQ2FudmFzKHRleHR1cmUpO1xuICAgIHRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgb25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlIGluIFJHQkEgb3JkZXIsXG4gICAqIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1c2l2ZSkuXG4gICAqID4gWyFOT0VdIFRoZSByZXR1cm5lZCBhcnJheSBpcyBhIGZsYXQgVWludDhBcnJheSB3aGVyZSBldmVyeSA0IHZhbHVlcyByZXByZXNlbnQgUkdCQVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBleHRyYWN0aW5nIHRoZSBpbWFnZSwgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEByZXR1cm5zIE9uZS1kaW1lbnNpb25hbCBVaW50OEFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgaW4gUkdCQSBmb3JtYXRcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgcGl4ZWwgZXh0cmFjdGlvblxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiBjb25zdCBwaXhlbHMgPSByZW5kZXJlci5leHRyYWN0LnBpeGVscyhzcHJpdGUpO1xuICAgKiBjb25zb2xlLmxvZyhwaXhlbHNbMF0sIHBpeGVsc1sxXSwgcGl4ZWxzWzJdLCBwaXhlbHNbM10pOyAvLyBSLEcsQixBIHZhbHVlc1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IHdpdGggY3VzdG9tIHJlZ2lvblxuICAgKiBjb25zdCBwaXhlbHMgPSByZW5kZXJlci5leHRyYWN0LnBpeGVscyh7XG4gICAqICAgICB0YXJnZXQ6IHNwcml0ZSxcbiAgICogICAgIGZyYW1lOiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKVxuICAgKiB9KTtcbiAgICpcbiAgICogLy8gRXh0cmFjdCB3aXRoIGhpZ2ggcmVzb2x1dGlvblxuICAgKiBjb25zdCBwaXhlbHMgPSByZW5kZXJlci5leHRyYWN0LnBpeGVscyh7XG4gICAqICAgICB0YXJnZXQ6IHNwcml0ZSxcbiAgICogICAgIHJlc29sdXRpb246IDJcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0T3B0aW9uc30gRm9yIGRldGFpbGVkIG9wdGlvbnNcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5jYW52YXN9IEZvciBjYW52YXMgb3V0cHV0XG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uaW1hZ2V9IEZvciBpbWFnZSBvdXRwdXRcbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgcGl4ZWxzKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGNvbnN0IHRleHR1cmUgPSB0YXJnZXQgaW5zdGFuY2VvZiBUZXh0dXJlID8gdGFyZ2V0IDogcmVuZGVyZXIudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUob3B0aW9ucyk7XG4gICAgY29uc3QgcGl4ZWxJbmZvID0gcmVuZGVyZXIudGV4dHVyZS5nZXRQaXhlbHModGV4dHVyZSk7XG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIENvbnRhaW5lcikge1xuICAgICAgdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gcGl4ZWxJbmZvO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdGV4dHVyZSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgZXhpc3RpbmcgdGV4dHVyZS5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNyZWF0aW5nXG4gICAqIHJldXNhYmxlIHRleHR1cmVzIGZyb20gcmVuZGVyZWQgY29udGVudCBvciBtYWtpbmcgY29waWVzIG9mIGV4aXN0aW5nIHRleHR1cmVzLlxuICAgKiA+IFshTk9URV0gVGhlIHJldHVybmVkIHRleHR1cmUgc2hvdWxkIGJlIGRlc3Ryb3llZCB3aGVuIG5vIGxvbmdlciBuZWVkZWRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIHRleHR1cmUsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKiBAcmV0dXJucyBBIG5ldyB0ZXh0dXJlIGNvbnRhaW5pbmcgdGhlIGV4dHJhY3RlZCBjb250ZW50XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEJhc2ljIHRleHR1cmUgZXh0cmFjdGlvbiBmcm9tIGEgc3ByaXRlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIGNvbnN0IGV4dHJhY3RlZFRleHR1cmUgPSByZW5kZXJlci5leHRyYWN0LnRleHR1cmUoc3ByaXRlKTtcbiAgICpcbiAgICogLy8gRXh0cmFjdCB3aXRoIGN1c3RvbSByZWdpb25cbiAgICogY29uc3QgcmVnaW9uVGV4dHVyZSA9IHJlbmRlcmVyLmV4dHJhY3QudGV4dHVyZSh7XG4gICAqICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICogICAgIGZyYW1lOiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKVxuICAgKiB9KTtcbiAgICpcbiAgICogLy8gRXh0cmFjdCB3aXRoIGhpZ2ggcmVzb2x1dGlvblxuICAgKiBjb25zdCBoaVJlc1RleHR1cmUgPSByZW5kZXJlci5leHRyYWN0LnRleHR1cmUoe1xuICAgKiAgICAgdGFyZ2V0OiBzcHJpdGUsXG4gICAqICAgICByZXNvbHV0aW9uOiAyLFxuICAgKiAgICAgY2xlYXJDb2xvcjogJyNmZjAwMDAnXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBuZXcgc3ByaXRlIGZyb20gZXh0cmFjdGVkIHRleHR1cmVcbiAgICogY29uc3QgbmV3U3ByaXRlID0gbmV3IFNwcml0ZShcbiAgICogICAgIHJlbmRlcmVyLmV4dHJhY3QudGV4dHVyZSh7XG4gICAqICAgICAgICAgdGFyZ2V0OiBncmFwaGljcyxcbiAgICogICAgICAgICBhbnRpYWxpYXM6IHRydWVcbiAgICogICAgIH0pXG4gICAqICk7XG4gICAqXG4gICAqIC8vIENsZWFuIHVwIHdoZW4gZG9uZVxuICAgKiBleHRyYWN0ZWRUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0T3B0aW9uc30gRm9yIGRldGFpbGVkIG9wdGlvbnNcbiAgICogQHNlZSB7QGxpbmsgVGV4dHVyZX0gRm9yIHRleHR1cmUgbWFuYWdlbWVudFxuICAgKiBAc2VlIHtAbGluayBHZW5lcmF0ZVRleHR1cmVTeXN0ZW19IEZvciB0ZXh0dXJlIGdlbmVyYXRpb25cbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgdGV4dHVyZShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0IGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgIHJldHVybiBvcHRpb25zLnRhcmdldDtcbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyZXIudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUob3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEV4dHJhY3RzIGFuZCBkb3dubG9hZHMgY29udGVudCBmcm9tIHRoZSByZW5kZXJlciBhcyBhbiBpbWFnZSBmaWxlLlxuICAgKiBUaGlzIGlzIGEgY29udmVuaWVudCB3YXkgdG8gc2F2ZSBzY3JlZW5zaG90cyBvciBleHBvcnQgcmVuZGVyZWQgY29udGVudC5cbiAgICogPiBbIU5PVEVdIFRoZSBkb3dubG9hZCB3aWxsIHVzZSBQTkcgZm9ybWF0IHJlZ2FyZGxlc3Mgb2YgdGhlIGZpbGVuYW1lIGV4dGVuc2lvblxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBkb3dubG9hZGluZyBhbmQgZXh0cmFjdGluZyB0aGUgaW1hZ2UsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBCYXNpYyBkb3dubG9hZCB3aXRoIGRlZmF1bHQgZmlsZW5hbWVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogcmVuZGVyZXIuZXh0cmFjdC5kb3dubG9hZChzcHJpdGUpOyAvLyBEb3dubG9hZHMgYXMgJ2ltYWdlLnBuZydcbiAgICpcbiAgICogLy8gRG93bmxvYWQgd2l0aCBjdXN0b20gZmlsZW5hbWVcbiAgICogcmVuZGVyZXIuZXh0cmFjdC5kb3dubG9hZCh7XG4gICAqICAgICB0YXJnZXQ6IHNwcml0ZSxcbiAgICogICAgIGZpbGVuYW1lOiAnc2NyZWVuc2hvdC5wbmcnXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBEb3dubG9hZCB3aXRoIGN1c3RvbSByZWdpb25cbiAgICogcmVuZGVyZXIuZXh0cmFjdC5kb3dubG9hZCh7XG4gICAqICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICogICAgIGZpbGVuYW1lOiAncmVnaW9uLnBuZycsXG4gICAqICAgICBmcmFtZTogbmV3IFJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMClcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIERvd25sb2FkIHdpdGggaGlnaCByZXNvbHV0aW9uIGFuZCBiYWNrZ3JvdW5kXG4gICAqIHJlbmRlcmVyLmV4dHJhY3QuZG93bmxvYWQoe1xuICAgKiAgICAgdGFyZ2V0OiBzdGFnZSxcbiAgICogICAgIGZpbGVuYW1lOiAnaGQtc2NyZWVuc2hvdC5wbmcnLFxuICAgKiAgICAgcmVzb2x1dGlvbjogMixcbiAgICogICAgIGNsZWFyQ29sb3I6ICcjZmYwMDAwJ1xuICAgKiB9KTtcbiAgICpcbiAgICogLy8gRG93bmxvYWQgd2l0aCBhbnRpLWFsaWFzaW5nXG4gICAqIHJlbmRlcmVyLmV4dHJhY3QuZG93bmxvYWQoe1xuICAgKiAgICAgdGFyZ2V0OiBncmFwaGljcyxcbiAgICogICAgIGZpbGVuYW1lOiAnc21vb3RoLnBuZycsXG4gICAqICAgICBhbnRpYWxpYXM6IHRydWVcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0RG93bmxvYWRPcHRpb25zfSBGb3IgZGV0YWlsZWQgb3B0aW9uc1xuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmltYWdlfSBGb3IgY3JlYXRpbmcgaW1hZ2VzIHdpdGhvdXQgZG93bmxvYWRcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5jYW52YXN9IEZvciBjYW52YXMgb3V0cHV0XG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIGRvd25sb2FkKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcyhvcHRpb25zKTtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbGluay5kb3dubG9hZCA9IG9wdGlvbnMuZmlsZW5hbWUgPz8gXCJpbWFnZS5wbmdcIjtcbiAgICBsaW5rLmhyZWYgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5jbGljaygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gIH1cbiAgLyoqXG4gICAqIExvZ3MgdGhlIHRhcmdldCB0byB0aGUgY29uc29sZSBhcyBhbiBpbWFnZS4gVGhpcyBpcyBhIHVzZWZ1bCB3YXkgdG8gZGVidWcgd2hhdCdzIGhhcHBlbmluZyBpbiB0aGUgcmVuZGVyZXIuXG4gICAqIFRoZSBpbWFnZSB3aWxsIGJlIGRpc3BsYXllZCBpbiB0aGUgYnJvd3NlcidzIGNvbnNvbGUgdXNpbmcgQ1NTIGJhY2tncm91bmQgaW1hZ2VzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBsb2dnaW5nIHRoZSBpbWFnZSwgb3IgdGhlIHRhcmdldCB0byBsb2dcbiAgICogQHBhcmFtIG9wdGlvbnMud2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIGxvZ2dlZCBpbWFnZSBwcmV2aWV3IGluIHRoZSBjb25zb2xlIChpbiBwaXhlbHMpXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEJhc2ljIHVzYWdlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIHJlbmRlcmVyLmV4dHJhY3QubG9nKHNwcml0ZSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmNhbnZhc30gRm9yIGdldHRpbmcgcmF3IGNhbnZhcyBvdXRwdXRcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5waXhlbHN9IEZvciByYXcgcGl4ZWwgZGF0YVxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqIEBhZHZhbmNlZFxuICAgKi9cbiAgbG9nKG9wdGlvbnMpIHtcbiAgICBjb25zdCB3aWR0aCA9IG9wdGlvbnMud2lkdGggPz8gMjAwO1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzKG9wdGlvbnMpO1xuICAgIGNvbnN0IGJhc2U2NCA9IGNhbnZhcy50b0RhdGFVUkwoKTtcbiAgICBjb25zb2xlLmxvZyhgW1BpeGkgVGV4dHVyZV0gJHtjYW52YXMud2lkdGh9cHggJHtjYW52YXMuaGVpZ2h0fXB4YCk7XG4gICAgY29uc3Qgc3R5bGUgPSBbXG4gICAgICBcImZvbnQtc2l6ZTogMXB4O1wiLFxuICAgICAgYHBhZGRpbmc6ICR7d2lkdGh9cHggJHszMDB9cHg7YCxcbiAgICAgIGBiYWNrZ3JvdW5kOiB1cmwoJHtiYXNlNjR9KSBuby1yZXBlYXQ7YCxcbiAgICAgIFwiYmFja2dyb3VuZC1zaXplOiBjb250YWluO1wiXG4gICAgXS5qb2luKFwiIFwiKTtcbiAgICBjb25zb2xlLmxvZyhcIiVjIFwiLCBzdHlsZSk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX0V4dHJhY3RTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcImV4dHJhY3RcIlxufTtcbi8qKlxuICogRGVmYXVsdCBvcHRpb25zIGZvciBpbWFnZSBleHRyYWN0aW9uLlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiAvLyBDdXN0b21pemUgZGVmYXVsdCBvcHRpb25zXG4gKiBFeHRyYWN0U3lzdGVtLmRlZmF1bHRJbWFnZU9wdGlvbnMuZm9ybWF0ID0gJ3dlYnAnO1xuICogRXh0cmFjdFN5c3RlbS5kZWZhdWx0SW1hZ2VPcHRpb25zLnF1YWxpdHkgPSAwLjg7XG4gKlxuICogLy8gVXNlIGRlZmF1bHRzXG4gKiBjb25zdCBpbWFnZSA9IGF3YWl0IHJlbmRlcmVyLmV4dHJhY3QuaW1hZ2Uoc3ByaXRlKTtcbiAqIGBgYFxuICovXG5fRXh0cmFjdFN5c3RlbS5kZWZhdWx0SW1hZ2VPcHRpb25zID0ge1xuICBmb3JtYXQ6IFwicG5nXCIsXG4gIHF1YWxpdHk6IDFcbn07XG5sZXQgRXh0cmFjdFN5c3RlbSA9IF9FeHRyYWN0U3lzdGVtO1xuXG5leHBvcnQgeyBFeHRyYWN0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeHRyYWN0U3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IFRleHR1cmVTb3VyY2UgfSBmcm9tICcuL3NvdXJjZXMvVGV4dHVyZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4vVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFJlbmRlclRleHR1cmUgZXh0ZW5kcyBUZXh0dXJlIHtcbiAgc3RhdGljIGNyZWF0ZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKHtcbiAgICAgIHNvdXJjZTogbmV3IFRleHR1cmVTb3VyY2Uob3B0aW9ucylcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVzaXplcyB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSB3aWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gaGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgKiBAcGFyYW0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEByZXR1cm5zIFRoaXMgdGV4dHVyZS5cbiAgICovXG4gIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgdGhpcy5zb3VyY2UucmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmV4cG9ydCB7IFJlbmRlclRleHR1cmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlclRleHR1cmUubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ29sb3IgfSBmcm9tICcuLi8uLi8uLi8uLi9jb2xvci9Db2xvci5tanMnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvc2hhcGVzL1JlY3RhbmdsZS5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9Cb3VuZHMubWpzJztcbmltcG9ydCB7IGdldExvY2FsQm91bmRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL2JvdW5kcy9nZXRMb2NhbEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0NvbnRhaW5lci5tanMnO1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvUmVuZGVyVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuY29uc3QgdGVtcEJvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbmNvbnN0IG5vQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5jbGFzcyBHZW5lcmF0ZVRleHR1cmVTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB0ZXh0dXJlIGZyb20gYSBkaXNwbGF5IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGZvciBjcmVhdGluZyBzcHJpdGVzIGFuZCBvdGhlciB0ZXh0dXJlcy5cbiAgICogVGhpcyBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBvcHRpbWl6aW5nIHBlcmZvcm1hbmNlIHdoZW4gYSBjb21wbGV4IGNvbnRhaW5lciBuZWVkcyB0byBiZSByZXVzZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gR2VuZXJhdGUgdGV4dHVyZSBvcHRpb25zIG9yIGEgY29udGFpbmVyIHRvIGNvbnZlcnQgdG8gdGV4dHVyZVxuICAgKiBAcmV0dXJucyBBIG5ldyBSZW5kZXJUZXh0dXJlIGNvbnRhaW5pbmcgdGhlIHJlbmRlcmVkIGRpc3BsYXkgb2JqZWN0XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEJhc2ljIHVzYWdlIHdpdGggYSBjb250YWluZXJcbiAgICogY29uc3QgY29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xuICAgKiBjb250YWluZXIuYWRkQ2hpbGQoXG4gICAqICAgICBuZXcgR3JhcGhpY3MoKVxuICAgKiAgICAgICAgIC5jaXJjbGUoMCwgMCwgNTApXG4gICAqICAgICAgICAgLmZpbGwoJ3JlZCcpXG4gICAqICk7XG4gICAqXG4gICAqIGNvbnN0IHRleHR1cmUgPSByZW5kZXJlci50ZXh0dXJlR2VuZXJhdG9yLmdlbmVyYXRlVGV4dHVyZShjb250YWluZXIpO1xuICAgKlxuICAgKiAvLyBBZHZhbmNlZCB1c2FnZSB3aXRoIG9wdGlvbnNcbiAgICogY29uc3QgdGV4dHVyZSA9IHJlbmRlcmVyLnRleHR1cmVHZW5lcmF0b3IuZ2VuZXJhdGVUZXh0dXJlKHtcbiAgICogICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgKiAgICAgZnJhbWU6IG5ldyBSZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApLCAvLyBTcGVjaWZpYyByZWdpb25cbiAgICogICAgIHJlc29sdXRpb246IDIsICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGlnaCBEUElcbiAgICogICAgIGNsZWFyQ29sb3I6ICcjZmYwMDAwJywgICAgICAgICAgICAgICAvLyBSZWQgYmFja2dyb3VuZFxuICAgKiAgICAgYW50aWFsaWFzOiB0cnVlICAgICAgICAgICAgICAgICAgICAgIC8vIFNtb290aCBlZGdlc1xuICAgKiB9KTtcbiAgICpcbiAgICogLy8gQ3JlYXRlIGEgc3ByaXRlIGZyb20gdGhlIGdlbmVyYXRlZCB0ZXh0dXJlXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqXG4gICAqIC8vIENsZWFuIHVwIHdoZW4gZG9uZVxuICAgKiB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIHtAbGluayBHZW5lcmF0ZVRleHR1cmVPcHRpb25zfSBGb3IgZGV0YWlsZWQgdGV4dHVyZSBnZW5lcmF0aW9uIG9wdGlvbnNcbiAgICogQHNlZSB7QGxpbmsgUmVuZGVyVGV4dHVyZX0gRm9yIHRoZSB0eXBlIG9mIHRleHR1cmUgY3JlYXRlZFxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBnZW5lcmF0ZVRleHR1cmUob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICB0YXJnZXQ6IG9wdGlvbnMsXG4gICAgICAgIGZyYW1lOiB2b2lkIDAsXG4gICAgICAgIHRleHR1cmVTb3VyY2VPcHRpb25zOiB7fSxcbiAgICAgICAgcmVzb2x1dGlvbjogdm9pZCAwXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHRoaXMuX3JlbmRlcmVyLnJlc29sdXRpb247XG4gICAgY29uc3QgYW50aWFsaWFzID0gb3B0aW9ucy5hbnRpYWxpYXMgfHwgdGhpcy5fcmVuZGVyZXIudmlldy5hbnRpYWxpYXM7XG4gICAgY29uc3QgY29udGFpbmVyID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgbGV0IGNsZWFyQ29sb3IgPSBvcHRpb25zLmNsZWFyQ29sb3I7XG4gICAgaWYgKGNsZWFyQ29sb3IpIHtcbiAgICAgIGNvbnN0IGlzUkdCQUFycmF5ID0gQXJyYXkuaXNBcnJheShjbGVhckNvbG9yKSAmJiBjbGVhckNvbG9yLmxlbmd0aCA9PT0gNDtcbiAgICAgIGNsZWFyQ29sb3IgPSBpc1JHQkFBcnJheSA/IGNsZWFyQ29sb3IgOiBDb2xvci5zaGFyZWQuc2V0VmFsdWUoY2xlYXJDb2xvcikudG9BcnJheSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGVhckNvbG9yID0gbm9Db2xvcjtcbiAgICB9XG4gICAgY29uc3QgcmVnaW9uID0gb3B0aW9ucy5mcmFtZT8uY29weVRvKHRlbXBSZWN0KSB8fCBnZXRMb2NhbEJvdW5kcyhjb250YWluZXIsIHRlbXBCb3VuZHMpLnJlY3RhbmdsZTtcbiAgICByZWdpb24ud2lkdGggPSBNYXRoLm1heChyZWdpb24ud2lkdGgsIDEgLyByZXNvbHV0aW9uKSB8IDA7XG4gICAgcmVnaW9uLmhlaWdodCA9IE1hdGgubWF4KHJlZ2lvbi5oZWlnaHQsIDEgLyByZXNvbHV0aW9uKSB8IDA7XG4gICAgY29uc3QgdGFyZ2V0ID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoe1xuICAgICAgLi4ub3B0aW9ucy50ZXh0dXJlU291cmNlT3B0aW9ucyxcbiAgICAgIHdpZHRoOiByZWdpb24ud2lkdGgsXG4gICAgICBoZWlnaHQ6IHJlZ2lvbi5oZWlnaHQsXG4gICAgICByZXNvbHV0aW9uLFxuICAgICAgYW50aWFsaWFzXG4gICAgfSk7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gTWF0cml4LnNoYXJlZC50cmFuc2xhdGUoLXJlZ2lvbi54LCAtcmVnaW9uLnkpO1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlcih7XG4gICAgICBjb250YWluZXIsXG4gICAgICB0cmFuc2Zvcm0sXG4gICAgICB0YXJnZXQsXG4gICAgICBjbGVhckNvbG9yXG4gICAgfSk7XG4gICAgdGFyZ2V0LnNvdXJjZS51cGRhdGVNaXBtYXBzKCk7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdlbmVyYXRlVGV4dHVyZVN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwidGV4dHVyZUdlbmVyYXRvclwiXG59O1xuXG5leHBvcnQgeyBHZW5lcmF0ZVRleHR1cmVTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdlbmVyYXRlVGV4dHVyZVN5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL3BvaW50L1BvaW50Lm1qcyc7XG5pbXBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvZ3JhcGhpY3MvZ3B1L2NvbG9yVG9Vbmlmb3JtLm1qcyc7XG5pbXBvcnQgeyBCaW5kR3JvdXAgfSBmcm9tICcuLi8uLi9ncHUvc2hhZGVyL0JpbmRHcm91cC5tanMnO1xuaW1wb3J0IHsgUmVuZGVyZXJUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBHbG9iYWxVbmlmb3JtU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9zdGFja0luZGV4ID0gMDtcbiAgICB0aGlzLl9nbG9iYWxVbmlmb3JtRGF0YVN0YWNrID0gW107XG4gICAgdGhpcy5fdW5pZm9ybXNQb29sID0gW107XG4gICAgdGhpcy5fYWN0aXZlVW5pZm9ybXMgPSBbXTtcbiAgICB0aGlzLl9iaW5kR3JvdXBQb29sID0gW107XG4gICAgdGhpcy5fYWN0aXZlQmluZEdyb3VwcyA9IFtdO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fc3RhY2tJbmRleCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVVbmlmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fdW5pZm9ybXNQb29sLnB1c2godGhpcy5fYWN0aXZlVW5pZm9ybXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2FjdGl2ZUJpbmRHcm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2JpbmRHcm91cFBvb2wucHVzaCh0aGlzLl9hY3RpdmVCaW5kR3JvdXBzW2ldKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlVW5pZm9ybXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9hY3RpdmVCaW5kR3JvdXBzLmxlbmd0aCA9IDA7XG4gIH1cbiAgc3RhcnQob3B0aW9ucykge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLnB1c2gob3B0aW9ucyk7XG4gIH1cbiAgYmluZCh7XG4gICAgc2l6ZSxcbiAgICBwcm9qZWN0aW9uTWF0cml4LFxuICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4LFxuICAgIHdvcmxkQ29sb3IsXG4gICAgb2Zmc2V0XG4gIH0pIHtcbiAgICBjb25zdCByZW5kZXJUYXJnZXQgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0O1xuICAgIGNvbnN0IGN1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YSA9IHRoaXMuX3N0YWNrSW5kZXggPyB0aGlzLl9nbG9iYWxVbmlmb3JtRGF0YVN0YWNrW3RoaXMuX3N0YWNrSW5kZXggLSAxXSA6IHtcbiAgICAgIHByb2plY3Rpb25EYXRhOiByZW5kZXJUYXJnZXQsXG4gICAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgd29ybGRDb2xvcjogNDI5NDk2NzI5NSxcbiAgICAgIG9mZnNldDogbmV3IFBvaW50KClcbiAgICB9O1xuICAgIGNvbnN0IGdsb2JhbFVuaWZvcm1EYXRhID0ge1xuICAgICAgcHJvamVjdGlvbk1hdHJpeDogcHJvamVjdGlvbk1hdHJpeCB8fCB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQucHJvamVjdGlvbk1hdHJpeCxcbiAgICAgIHJlc29sdXRpb246IHNpemUgfHwgcmVuZGVyVGFyZ2V0LnNpemUsXG4gICAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeDogd29ybGRUcmFuc2Zvcm1NYXRyaXggfHwgY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLndvcmxkVHJhbnNmb3JtTWF0cml4LFxuICAgICAgd29ybGRDb2xvcjogd29ybGRDb2xvciB8fCBjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEud29ybGRDb2xvcixcbiAgICAgIG9mZnNldDogb2Zmc2V0IHx8IGN1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS5vZmZzZXQsXG4gICAgICBiaW5kR3JvdXA6IG51bGxcbiAgICB9O1xuICAgIGNvbnN0IHVuaWZvcm1Hcm91cCA9IHRoaXMuX3VuaWZvcm1zUG9vbC5wb3AoKSB8fCB0aGlzLl9jcmVhdGVVbmlmb3JtcygpO1xuICAgIHRoaXMuX2FjdGl2ZVVuaWZvcm1zLnB1c2godW5pZm9ybUdyb3VwKTtcbiAgICBjb25zdCB1bmlmb3JtcyA9IHVuaWZvcm1Hcm91cC51bmlmb3JtcztcbiAgICB1bmlmb3Jtcy51UHJvamVjdGlvbk1hdHJpeCA9IGdsb2JhbFVuaWZvcm1EYXRhLnByb2plY3Rpb25NYXRyaXg7XG4gICAgdW5pZm9ybXMudVJlc29sdXRpb24gPSBnbG9iYWxVbmlmb3JtRGF0YS5yZXNvbHV0aW9uO1xuICAgIHVuaWZvcm1zLnVXb3JsZFRyYW5zZm9ybU1hdHJpeC5jb3B5RnJvbShnbG9iYWxVbmlmb3JtRGF0YS53b3JsZFRyYW5zZm9ybU1hdHJpeCk7XG4gICAgdW5pZm9ybXMudVdvcmxkVHJhbnNmb3JtTWF0cml4LnR4IC09IGdsb2JhbFVuaWZvcm1EYXRhLm9mZnNldC54O1xuICAgIHVuaWZvcm1zLnVXb3JsZFRyYW5zZm9ybU1hdHJpeC50eSAtPSBnbG9iYWxVbmlmb3JtRGF0YS5vZmZzZXQueTtcbiAgICBjb2xvcjMyQml0VG9Vbmlmb3JtKFxuICAgICAgZ2xvYmFsVW5pZm9ybURhdGEud29ybGRDb2xvcixcbiAgICAgIHVuaWZvcm1zLnVXb3JsZENvbG9yQWxwaGEsXG4gICAgICAwXG4gICAgKTtcbiAgICB1bmlmb3JtR3JvdXAudXBkYXRlKCk7XG4gICAgbGV0IGJpbmRHcm91cDtcbiAgICBpZiAodGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoKSB7XG4gICAgICBiaW5kR3JvdXAgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2guZ2V0VW5pZm9ybUJpbmRHcm91cCh1bmlmb3JtR3JvdXAsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmluZEdyb3VwID0gdGhpcy5fYmluZEdyb3VwUG9vbC5wb3AoKSB8fCBuZXcgQmluZEdyb3VwKCk7XG4gICAgICB0aGlzLl9hY3RpdmVCaW5kR3JvdXBzLnB1c2goYmluZEdyb3VwKTtcbiAgICAgIGJpbmRHcm91cC5zZXRSZXNvdXJjZSh1bmlmb3JtR3JvdXAsIDApO1xuICAgIH1cbiAgICBnbG9iYWxVbmlmb3JtRGF0YS5iaW5kR3JvdXAgPSBiaW5kR3JvdXA7XG4gICAgdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhID0gZ2xvYmFsVW5pZm9ybURhdGE7XG4gIH1cbiAgcHVzaChvcHRpb25zKSB7XG4gICAgdGhpcy5iaW5kKG9wdGlvbnMpO1xuICAgIHRoaXMuX2dsb2JhbFVuaWZvcm1EYXRhU3RhY2tbdGhpcy5fc3RhY2tJbmRleCsrXSA9IHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YTtcbiAgfVxuICBwb3AoKSB7XG4gICAgdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhID0gdGhpcy5fZ2xvYmFsVW5pZm9ybURhdGFTdGFja1stLXRoaXMuX3N0YWNrSW5kZXggLSAxXTtcbiAgICBpZiAodGhpcy5fcmVuZGVyZXIudHlwZSA9PT0gUmVuZGVyZXJUeXBlLldFQkdMKSB7XG4gICAgICB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEuYmluZEdyb3VwLnJlc291cmNlc1swXS51cGRhdGUoKTtcbiAgICB9XG4gIH1cbiAgZ2V0IGJpbmRHcm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLmJpbmRHcm91cDtcbiAgfVxuICBnZXQgZ2xvYmFsVW5pZm9ybURhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YTtcbiAgfVxuICBnZXQgdW5pZm9ybUdyb3VwKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEuYmluZEdyb3VwLnJlc291cmNlc1swXTtcbiAgfVxuICBfY3JlYXRlVW5pZm9ybXMoKSB7XG4gICAgY29uc3QgZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgIHVQcm9qZWN0aW9uTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdVdvcmxkVHJhbnNmb3JtTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgLy8gVE9ETyAtIHNvbWVvbmUgc21hcnQgLSBzZXQgdGhpcyB0byBiZSBhIHVub3JtOHg0IHJhdGhlciB0aGFuIGEgdmVjNDxmMzI+XG4gICAgICB1V29ybGRDb2xvckFscGhhOiB7IHZhbHVlOiBuZXcgRmxvYXQzMkFycmF5KDQpLCB0eXBlOiBcInZlYzQ8ZjMyPlwiIH0sXG4gICAgICB1UmVzb2x1dGlvbjogeyB2YWx1ZTogWzAsIDBdLCB0eXBlOiBcInZlYzI8ZjMyPlwiIH1cbiAgICB9LCB7XG4gICAgICBpc1N0YXRpYzogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBnbG9iYWxVbmlmb3JtcztcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdsb2JhbFVuaWZvcm1TeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImdsb2JhbFVuaWZvcm1zXCJcbn07XG5cbmV4cG9ydCB7IEdsb2JhbFVuaWZvcm1TeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi4vLi4vLi4vdGlja2VyL1RpY2tlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCB1aWQgPSAxO1xuY2xhc3MgU2NoZWR1bGVyU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fdGFza3MgPSBbXTtcbiAgICAvKiogYSBzbWFsbCBvZmYgc2V0IHRvIGFwcGx5IHRvIHRoZSByZXBlYXQgc2NoZWR1bGVzLiBUaGlzIGlzIGp1c3QgdG8gbWFrZSBzdXJlIHRoZXkgcnVuIGF0IHNsaWdodGx5IGRpZmZlcmVudCB0aW1lcyAqL1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG4gIH1cbiAgLyoqIEluaXRpYWxpemVzIHRoZSBzY2hlZHVsZXIgc3lzdGVtIGFuZCBzdGFydHMgdGhlIHRpY2tlci4gKi9cbiAgaW5pdCgpIHtcbiAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLl91cGRhdGUsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYSByZXBlYXRpbmcgdGFzay5cbiAgICogQHBhcmFtIGZ1bmMgLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICogQHBhcmFtIGR1cmF0aW9uIC0gVGhlIGludGVydmFsIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHVzZU9mZnNldCAtIHRoaXMgd2lsbCBzcHJlYWQgb3V0IHRhc2tzIHNvIHRoYXQgdGhleSBkbyBub3QgYWxsIHJ1biBhdCB0aGUgc2FtZSB0aW1lXG4gICAqIEByZXR1cm5zIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHNjaGVkdWxlZCB0YXNrLlxuICAgKi9cbiAgcmVwZWF0KGZ1bmMsIGR1cmF0aW9uLCB1c2VPZmZzZXQgPSB0cnVlKSB7XG4gICAgY29uc3QgaWQgPSB1aWQrKztcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBpZiAodXNlT2Zmc2V0KSB7XG4gICAgICB0aGlzLl9vZmZzZXQgKz0gMWUzO1xuICAgICAgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0O1xuICAgIH1cbiAgICB0aGlzLl90YXNrcy5wdXNoKHtcbiAgICAgIGZ1bmMsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHN0YXJ0OiBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICAgIG9mZnNldCxcbiAgICAgIGxhc3Q6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgaWRcbiAgICB9KTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBzY2hlZHVsZWQgdGFzay5cbiAgICogQHBhcmFtIGlkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSB0YXNrIHRvIGNhbmNlbC5cbiAgICovXG4gIGNhbmNlbChpZCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl90YXNrc1tpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgdGhpcy5fdGFza3Muc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIGFuZCBleGVjdXRlcyB0aGUgc2NoZWR1bGVkIHRhc2tzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3Rhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0YXNrID0gdGhpcy5fdGFza3NbaV07XG4gICAgICBpZiAobm93IC0gdGFzay5vZmZzZXQgLSB0YXNrLmxhc3QgPj0gdGFzay5kdXJhdGlvbikge1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gbm93IC0gdGFzay5zdGFydDtcbiAgICAgICAgdGFzay5mdW5jKGVsYXBzZWQpO1xuICAgICAgICB0YXNrLmxhc3QgPSBub3c7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgc2NoZWR1bGVyIHN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgdGFza3MuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLl91cGRhdGUsIHRoaXMpO1xuICAgIHRoaXMuX3Rhc2tzLmxlbmd0aCA9IDA7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5TY2hlZHVsZXJTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcInNjaGVkdWxlclwiLFxuICBwcmlvcml0eTogMFxufTtcblxuZXhwb3J0IHsgU2NoZWR1bGVyU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2hlZHVsZXJTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IHNhaWRIZWxsbyA9IGZhbHNlO1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChET01BZGFwdGVyLmdldCgpLmdldE5hdmlnYXRvcigpLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJjaHJvbWVcIikgPiAtMSkge1xuICAgIGNvbnN0IGFyZ3MgPSBbXG4gICAgICBgJWMgICVjICAlYyAgJWMgICVjIFBpeGlKUyAlYyB2JHtWRVJTSU9OfSAoJHt0eXBlfSkgaHR0cDovL3d3dy5waXhpanMuY29tL1xuXG5gLFxuICAgICAgXCJiYWNrZ3JvdW5kOiAjRTcyMjY0OyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJiYWNrZ3JvdW5kOiAjNkNBMkVBOyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJiYWNrZ3JvdW5kOiAjQjVEMzNEOyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJiYWNrZ3JvdW5kOiAjRkVEMjNGOyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJjb2xvcjogI0ZGRkZGRjsgYmFja2dyb3VuZDogI0U3MjI2NDsgcGFkZGluZzo1cHggMDtcIixcbiAgICAgIFwiY29sb3I6ICNFNzIyNjQ7IGJhY2tncm91bmQ6ICNGRkZGRkY7IHBhZGRpbmc6NXB4IDA7XCJcbiAgICBdO1xuICAgIGdsb2JhbFRoaXMuY29uc29sZS5sb2coLi4uYXJncyk7XG4gIH0gZWxzZSBpZiAoZ2xvYmFsVGhpcy5jb25zb2xlKSB7XG4gICAgZ2xvYmFsVGhpcy5jb25zb2xlLmxvZyhgUGl4aUpTICR7VkVSU0lPTn0gLSAke3R5cGV9IC0gaHR0cDovL3d3dy5waXhpanMuY29tL2ApO1xuICB9XG4gIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbmV4cG9ydCB7IHNheUhlbGxvIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYXlIZWxsby5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBzYXlIZWxsbyB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL3NheUhlbGxvLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi90eXBlcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEhlbGxvU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIC8qKlxuICAgKiBJdCBhbGwgc3RhcnRzIGhlcmUhIFRoaXMgaW5pdGlhdGVzIGV2ZXJ5IHN5c3RlbSwgcGFzc2luZyBpbiB0aGUgb3B0aW9ucyBmb3IgYW55IHN5c3RlbSBieSBuYW1lLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHRoZSBjb25maWcgZm9yIHRoZSByZW5kZXJlciBhbmQgYWxsIGl0cyBzeXN0ZW1zXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5oZWxsbykge1xuICAgICAgbGV0IG5hbWUgPSB0aGlzLl9yZW5kZXJlci5uYW1lO1xuICAgICAgaWYgKHRoaXMuX3JlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgICBuYW1lICs9IGAgJHt0aGlzLl9yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbn1gO1xuICAgICAgfVxuICAgICAgc2F5SGVsbG8obmFtZSk7XG4gICAgfVxuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuSGVsbG9TeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImhlbGxvXCIsXG4gIHByaW9yaXR5OiAtMlxufTtcbi8qKiBUaGUgZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgc3lzdGVtLiAqL1xuSGVsbG9TeXN0ZW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKiB7QGxpbmsgV2ViR0xPcHRpb25zLmhlbGxvfSAqL1xuICBoZWxsbzogZmFsc2Vcbn07XG5cbmV4cG9ydCB7IEhlbGxvU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IZWxsb1N5c3RlbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNsZWFuSGFzaChoYXNoKSB7XG4gIGxldCBjbGVhbiA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IGkgaW4gaGFzaCkge1xuICAgIGlmIChoYXNoW2ldID09IHZvaWQgMCkge1xuICAgICAgY2xlYW4gPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmICghY2xlYW4pXG4gICAgcmV0dXJuIGhhc2g7XG4gIGNvbnN0IGNsZWFuSGFzaDIgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChjb25zdCBpIGluIGhhc2gpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGhhc2hbaV07XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjbGVhbkhhc2gyW2ldID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjbGVhbkhhc2gyO1xufVxuZnVuY3Rpb24gY2xlYW5BcnJheShhcnIpIHtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycltpXSA9PSB2b2lkIDApIHtcbiAgICAgIG9mZnNldCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJbaSAtIG9mZnNldF0gPSBhcnJbaV07XG4gICAgfVxuICB9XG4gIGFyci5sZW5ndGggLT0gb2Zmc2V0O1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgeyBjbGVhbkFycmF5LCBjbGVhbkhhc2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsZWFuLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IGNsZWFuSGFzaCwgY2xlYW5BcnJheSB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2RhdGEvY2xlYW4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgcmVuZGVyYWJsZUdDVGljayA9IDA7XG5jb25zdCBfUmVuZGVyYWJsZUdDU3lzdGVtID0gY2xhc3MgX1JlbmRlcmFibGVHQ1N5c3RlbSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFJlbmRlcmFibGVHQ1N5c3RlbSBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbSB3b3JrcyBmb3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgLyoqIEFycmF5IG9mIHJlbmRlcmFibGVzIGJlaW5nIHRyYWNrZWQgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbiAqL1xuICAgIHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlcyA9IFtdO1xuICAgIC8qKiBBcnJheSBvZiBoYXNoIG9iamVjdHMgYmVpbmcgdHJhY2tlZCBmb3IgY2xlYW51cCAqL1xuICAgIHRoaXMuX21hbmFnZWRIYXNoZXMgPSBbXTtcbiAgICAvKiogQXJyYXkgb2YgYXJyYXlzIGJlaW5nIHRyYWNrZWQgZm9yIGNsZWFudXAgKi9cbiAgICB0aGlzLl9tYW5hZ2VkQXJyYXlzID0gW107XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiBzeXN0ZW0gd2l0aCB0aGUgcHJvdmlkZWQgb3B0aW9ucy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSByZW5kZXJlclxuICAgKi9cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX1JlbmRlcmFibGVHQ1N5c3RlbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMubWF4VW51c2VkVGltZSA9IG9wdGlvbnMucmVuZGVyYWJsZUdDTWF4VW51c2VkVGltZTtcbiAgICB0aGlzLl9mcmVxdWVuY3kgPSBvcHRpb25zLnJlbmRlcmFibGVHQ0ZyZXF1ZW5jeTtcbiAgICB0aGlzLmVuYWJsZWQgPSBvcHRpb25zLnJlbmRlcmFibGVHQ0FjdGl2ZTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB3aGV0aGVyIHRoZSBnYXJiYWdlIGNvbGxlY3Rpb24gc3lzdGVtIGlzIGN1cnJlbnRseSBlbmFibGVkLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIEdDIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgZ2V0IGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5faGFuZGxlcjtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbS5cbiAgICogV2hlbiBlbmFibGVkLCBzY2hlZHVsZXMgcGVyaW9kaWMgY2xlYW51cCBvZiByZXNvdXJjZXMuXG4gICAqIFdoZW4gZGlzYWJsZWQsIGNhbmNlbHMgYWxsIHNjaGVkdWxlZCBjbGVhbnVwcy5cbiAgICovXG4gIHNldCBlbmFibGVkKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCA9PT0gdmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVyID0gdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLnJlcGVhdChcbiAgICAgICAgKCkgPT4gdGhpcy5ydW4oKSxcbiAgICAgICAgdGhpcy5fZnJlcXVlbmN5LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIHRoaXMuX2hhc2hIYW5kbGVyID0gdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLnJlcGVhdChcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgaGFzaCBvZiB0aGlzLl9tYW5hZ2VkSGFzaGVzKSB7XG4gICAgICAgICAgICBoYXNoLmNvbnRleHRbaGFzaC5oYXNoXSA9IGNsZWFuSGFzaChoYXNoLmNvbnRleHRbaGFzaC5oYXNoXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aGlzLl9mcmVxdWVuY3lcbiAgICAgICk7XG4gICAgICB0aGlzLl9hcnJheUhhbmRsZXIgPSB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIucmVwZWF0KFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBhcnJheSBvZiB0aGlzLl9tYW5hZ2VkQXJyYXlzKSB7XG4gICAgICAgICAgICBjbGVhbkFycmF5KGFycmF5LmNvbnRleHRbYXJyYXkuaGFzaF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5fZnJlcXVlbmN5XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIuY2FuY2VsKHRoaXMuX2hhbmRsZXIpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLmNhbmNlbCh0aGlzLl9oYXNoSGFuZGxlcik7XG4gICAgICB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIuY2FuY2VsKHRoaXMuX2FycmF5SGFuZGxlcik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgaGFzaCB0YWJsZSB0byBiZSBtYW5hZ2VkIGJ5IHRoZSBnYXJiYWdlIGNvbGxlY3Rvci5cbiAgICogQHBhcmFtIGNvbnRleHQgLSBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGhhc2ggdGFibGVcbiAgICogQHBhcmFtIGhhc2ggLSBUaGUgcHJvcGVydHkgbmFtZSBvZiB0aGUgaGFzaCB0YWJsZVxuICAgKi9cbiAgYWRkTWFuYWdlZEhhc2goY29udGV4dCwgaGFzaCkge1xuICAgIHRoaXMuX21hbmFnZWRIYXNoZXMucHVzaCh7IGNvbnRleHQsIGhhc2ggfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYW4gYXJyYXkgdG8gYmUgbWFuYWdlZCBieSB0aGUgZ2FyYmFnZSBjb2xsZWN0b3IuXG4gICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBhcnJheVxuICAgKiBAcGFyYW0gaGFzaCAtIFRoZSBwcm9wZXJ0eSBuYW1lIG9mIHRoZSBhcnJheVxuICAgKi9cbiAgYWRkTWFuYWdlZEFycmF5KGNvbnRleHQsIGhhc2gpIHtcbiAgICB0aGlzLl9tYW5hZ2VkQXJyYXlzLnB1c2goeyBjb250ZXh0LCBoYXNoIH0pO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBHQyB0aW1lc3RhbXAgYW5kIHRyYWNraW5nIGJlZm9yZSByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIHJlbmRlciBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyXG4gICAqL1xuICBwcmVyZW5kZXIoe1xuICAgIGNvbnRhaW5lclxuICB9KSB7XG4gICAgdGhpcy5fbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29udGFpbmVyLnJlbmRlckdyb3VwLmdjVGljayA9IHJlbmRlcmFibGVHQ1RpY2srKztcbiAgICB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbkdDVGljayhjb250YWluZXIucmVuZGVyR3JvdXAsIGNvbnRhaW5lci5yZW5kZXJHcm91cC5nY1RpY2spO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydHMgdHJhY2tpbmcgYSByZW5kZXJhYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSByZW5kZXJhYmxlIC0gVGhlIHJlbmRlcmFibGUgdG8gdHJhY2tcbiAgICovXG4gIGFkZFJlbmRlcmFibGUocmVuZGVyYWJsZSkge1xuICAgIGlmICghdGhpcy5lbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChyZW5kZXJhYmxlLl9sYXN0VXNlZCA9PT0gLTEpIHtcbiAgICAgIHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlcy5wdXNoKHJlbmRlcmFibGUpO1xuICAgICAgcmVuZGVyYWJsZS5vbmNlKFwiZGVzdHJveWVkXCIsIHRoaXMuX3JlbW92ZVJlbmRlcmFibGUsIHRoaXMpO1xuICAgIH1cbiAgICByZW5kZXJhYmxlLl9sYXN0VXNlZCA9IHRoaXMuX25vdztcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybXMgZ2FyYmFnZSBjb2xsZWN0aW9uIGJ5IGNsZWFuaW5nIHVwIHVudXNlZCByZW5kZXJhYmxlcy5cbiAgICogUmVtb3ZlcyByZW5kZXJhYmxlcyB0aGF0IGhhdmVuJ3QgYmVlbiB1c2VkIGZvciBsb25nZXIgdGhhbiBtYXhVbnVzZWRUaW1lLlxuICAgKi9cbiAgcnVuKCkge1xuICAgIGNvbnN0IG5vdyA9IHRoaXMuX25vdztcbiAgICBjb25zdCBtYW5hZ2VkUmVuZGVyYWJsZXMgPSB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXM7XG4gICAgY29uc3QgcmVuZGVyUGlwZXMgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcztcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRSZW5kZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmVuZGVyYWJsZSA9IG1hbmFnZWRSZW5kZXJhYmxlc1tpXTtcbiAgICAgIGlmIChyZW5kZXJhYmxlID09PSBudWxsKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckdyb3VwID0gcmVuZGVyYWJsZS5yZW5kZXJHcm91cCA/PyByZW5kZXJhYmxlLnBhcmVudFJlbmRlckdyb3VwO1xuICAgICAgY29uc3QgY3VycmVudFRpY2sgPSByZW5kZXJHcm91cD8uaW5zdHJ1Y3Rpb25TZXQ/LmdjVGljayA/PyAtMTtcbiAgICAgIGlmICgocmVuZGVyR3JvdXA/LmdjVGljayA/PyAwKSA9PT0gY3VycmVudFRpY2spIHtcbiAgICAgICAgcmVuZGVyYWJsZS5fbGFzdFVzZWQgPSBub3c7XG4gICAgICB9XG4gICAgICBpZiAobm93IC0gcmVuZGVyYWJsZS5fbGFzdFVzZWQgPiB0aGlzLm1heFVudXNlZFRpbWUpIHtcbiAgICAgICAgaWYgKCFyZW5kZXJhYmxlLmRlc3Ryb3llZCkge1xuICAgICAgICAgIGNvbnN0IHJwID0gcmVuZGVyUGlwZXM7XG4gICAgICAgICAgaWYgKHJlbmRlckdyb3VwKVxuICAgICAgICAgICAgcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICBycFtyZW5kZXJhYmxlLnJlbmRlclBpcGVJZF0uZGVzdHJveVJlbmRlcmFibGUocmVuZGVyYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyYWJsZS5fbGFzdFVzZWQgPSAtMTtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIHJlbmRlcmFibGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX3JlbW92ZVJlbmRlcmFibGUsIHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFuYWdlZFJlbmRlcmFibGVzW2kgLSBvZmZzZXRdID0gcmVuZGVyYWJsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWFuYWdlZFJlbmRlcmFibGVzLmxlbmd0aCAtPSBvZmZzZXQ7XG4gIH1cbiAgLyoqIENsZWFucyB1cCB0aGUgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbS4gRGlzYWJsZXMgR0MgYW5kIHJlbW92ZXMgYWxsIHRyYWNrZWQgcmVzb3VyY2VzLiAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9tYW5hZ2VkSGFzaGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fbWFuYWdlZEFycmF5cy5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgcmVuZGVyYWJsZSBmcm9tIGJlaW5nIHRyYWNrZWQgd2hlbiBpdCdzIGRlc3Ryb3llZC5cbiAgICogQHBhcmFtIHJlbmRlcmFibGUgLSBUaGUgcmVuZGVyYWJsZSB0byBzdG9wIHRyYWNraW5nXG4gICAqL1xuICBfcmVtb3ZlUmVuZGVyYWJsZShyZW5kZXJhYmxlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXMuaW5kZXhPZihyZW5kZXJhYmxlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmVuZGVyYWJsZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fcmVtb3ZlUmVuZGVyYWJsZSwgdGhpcyk7XG4gICAgICB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXNbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIEdDIHRpY2sgY291bnRlciBmb3IgYSByZW5kZXIgZ3JvdXAgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICogQHBhcmFtIHJlbmRlckdyb3VwIC0gVGhlIHJlbmRlciBncm91cCB0byB1cGRhdGVcbiAgICogQHBhcmFtIGdjVGljayAtIFRoZSBuZXcgdGljayB2YWx1ZVxuICAgKi9cbiAgX3VwZGF0ZUluc3RydWN0aW9uR0NUaWNrKHJlbmRlckdyb3VwLCBnY1RpY2spIHtcbiAgICByZW5kZXJHcm91cC5pbnN0cnVjdGlvblNldC5nY1RpY2sgPSBnY1RpY2s7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiByZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuKSB7XG4gICAgICB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbkdDVGljayhjaGlsZCwgZ2NUaWNrKTtcbiAgICB9XG4gIH1cbn07XG4vKipcbiAqIEV4dGVuc2lvbiBtZXRhZGF0YSBmb3IgcmVnaXN0ZXJpbmcgdGhpcyBzeXN0ZW0gd2l0aCB0aGUgcmVuZGVyZXIuXG4gKiBAaWdub3JlXG4gKi9cbl9SZW5kZXJhYmxlR0NTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcInJlbmRlcmFibGVHQ1wiLFxuICBwcmlvcml0eTogMFxufTtcbi8qKlxuICogRGVmYXVsdCBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBnYXJiYWdlIGNvbGxlY3Rpb24gc3lzdGVtLlxuICogVGhlc2UgY2FuIGJlIG92ZXJyaWRkZW4gd2hlbiBpbml0aWFsaXppbmcgdGhlIHJlbmRlcmVyLlxuICovXG5fUmVuZGVyYWJsZUdDU3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKiogRW5hYmxlL2Rpc2FibGUgdGhlIGdhcmJhZ2UgY29sbGVjdG9yICovXG4gIHJlbmRlcmFibGVHQ0FjdGl2ZTogdHJ1ZSxcbiAgLyoqIFRpbWUgaW4gbXMgYmVmb3JlIGFuIHVudXNlZCByZXNvdXJjZSBpcyBjb2xsZWN0ZWQgKGRlZmF1bHQgMSBtaW51dGUpICovXG4gIHJlbmRlcmFibGVHQ01heFVudXNlZFRpbWU6IDZlNCxcbiAgLyoqIEhvdyBvZnRlbiB0byBydW4gZ2FyYmFnZSBjb2xsZWN0aW9uIGluIG1zIChkZWZhdWx0IDMwIHNlY29uZHMpICovXG4gIHJlbmRlcmFibGVHQ0ZyZXF1ZW5jeTogM2U0XG59O1xubGV0IFJlbmRlcmFibGVHQ1N5c3RlbSA9IF9SZW5kZXJhYmxlR0NTeXN0ZW07XG5cbmV4cG9ydCB7IFJlbmRlcmFibGVHQ1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyYWJsZUdDU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfVGV4dHVyZUdDU3lzdGVtID0gY2xhc3MgX1RleHR1cmVHQ1N5c3RlbSB7XG4gIC8qKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLiAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgfVxuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyAuLi5fVGV4dHVyZUdDU3lzdGVtLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgdGhpcy5jaGVja0NvdW50TWF4ID0gb3B0aW9ucy50ZXh0dXJlR0NDaGVja0NvdW50TWF4O1xuICAgIHRoaXMubWF4SWRsZSA9IG9wdGlvbnMudGV4dHVyZUdDQU1heElkbGUgPz8gb3B0aW9ucy50ZXh0dXJlR0NNYXhJZGxlO1xuICAgIHRoaXMuYWN0aXZlID0gb3B0aW9ucy50ZXh0dXJlR0NBY3RpdmU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZC5cbiAgICogSWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lLCBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLlxuICAgKi9cbiAgcG9zdHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuX3JlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY291bnQrKztcbiAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuICAgIGlmICh0aGlzLmNoZWNrQ291bnQgPiB0aGlzLmNoZWNrQ291bnRNYXgpIHtcbiAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG4gICAgICB0aGlzLnJ1bigpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkLlxuICAgKiBJZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUsIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuXG4gICAqL1xuICBydW4oKSB7XG4gICAgY29uc3QgbWFuYWdlZFRleHR1cmVzID0gdGhpcy5fcmVuZGVyZXIudGV4dHVyZS5tYW5hZ2VkVGV4dHVyZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICBpZiAodGV4dHVyZS5hdXRvR2FyYmFnZUNvbGxlY3QgJiYgdGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLl90b3VjaGVkID4gLTEgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUuX3RvdWNoZWQgPiB0aGlzLm1heElkbGUpIHtcbiAgICAgICAgdGV4dHVyZS5fdG91Y2hlZCA9IC0xO1xuICAgICAgICB0ZXh0dXJlLnVubG9hZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fVGV4dHVyZUdDU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJ0ZXh0dXJlR0NcIlxufTtcbi8qKiBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBUZXh0dXJlR0NTeXN0ZW0gKi9cbl9UZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhpcyB3aWxsIGVuYWJsZSB0aGUgZ2FyYmFnZSBjb2xsZWN0b3Igb24gdGhlIEdQVS5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGV4dHVyZUdDQWN0aXZlOiB0cnVlLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgOC4zLjBcbiAgICogQHNlZSB7QGxpbmsgVGV4dHVyZUdDU3lzdGVtT3B0aW9ucy50ZXh0dXJlR0NNYXhJZGxlfVxuICAgKi9cbiAgdGV4dHVyZUdDQU1heElkbGU6IG51bGwsXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBpZGxlIGZyYW1lcyBiZWZvcmUgYSB0ZXh0dXJlIGlzIGRlc3Ryb3llZCBieSBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAqIEBkZWZhdWx0IDYwICogNjBcbiAgICovXG4gIHRleHR1cmVHQ01heElkbGU6IDYwICogNjAsXG4gIC8qKlxuICAgKiBGcmFtZXMgYmV0d2VlbiB0d28gZ2FyYmFnZSBjb2xsZWN0aW9ucy5cbiAgICogQGRlZmF1bHQgNjAwXG4gICAqL1xuICB0ZXh0dXJlR0NDaGVja0NvdW50TWF4OiA2MDBcbn07XG5sZXQgVGV4dHVyZUdDU3lzdGVtID0gX1RleHR1cmVHQ1N5c3RlbTtcblxuZXhwb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlR0NTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uLy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL3NoYXBlcy9SZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJUYXJnZXQgfSBmcm9tICcuLi9yZW5kZXJUYXJnZXQvUmVuZGVyVGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBnZXRDYW52YXNUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZS91dGlscy9nZXRDYW52YXNUZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX1ZpZXdTeXN0ZW0gPSBjbGFzcyBfVmlld1N5c3RlbSB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIENTUyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHkuXG4gICAqIFRoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIEhUTUxDYW52YXNFbGVtZW50IGFuZCB3aWxsIGJlIGlnbm9yZWQgaWYgdGhlIGNhbnZhcyBpcyBhbiBPZmZzY3JlZW5DYW52YXMuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGF1dG9EZW5zaXR5KCkge1xuICAgIHJldHVybiB0aGlzLnRleHR1cmUuc291cmNlLmF1dG9EZW5zaXR5O1xuICB9XG4gIHNldCBhdXRvRGVuc2l0eSh2YWx1ZSkge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgfVxuICAvKiogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiAqL1xuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgfVxuICBzZXQgcmVzb2x1dGlvbih2YWx1ZSkge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UucmVzaXplKFxuICAgICAgdGhpcy50ZXh0dXJlLnNvdXJjZS53aWR0aCxcbiAgICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuaGVpZ2h0LFxuICAgICAgdmFsdWVcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBpbml0aWF0ZXMgdGhlIHZpZXcgc3lzdGVtXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gdGhlIG9wdGlvbnMgZm9yIHRoZSB2aWV3XG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgLi4uX1ZpZXdTeXN0ZW0uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy52aWV3KSB7XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiVmlld1N5c3RlbS52aWV3IGhhcyBiZWVuIHJlbmFtZWQgdG8gVmlld1N5c3RlbS5jYW52YXNcIik7XG4gICAgICBvcHRpb25zLmNhbnZhcyA9IG9wdGlvbnMudmlldztcbiAgICB9XG4gICAgdGhpcy5zY3JlZW4gPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzIHx8IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlQ2FudmFzKCk7XG4gICAgdGhpcy5hbnRpYWxpYXMgPSAhIW9wdGlvbnMuYW50aWFsaWFzO1xuICAgIHRoaXMudGV4dHVyZSA9IGdldENhbnZhc1RleHR1cmUodGhpcy5jYW52YXMsIG9wdGlvbnMpO1xuICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldCh7XG4gICAgICBjb2xvclRleHR1cmVzOiBbdGhpcy50ZXh0dXJlXSxcbiAgICAgIGRlcHRoOiAhIW9wdGlvbnMuZGVwdGgsXG4gICAgICBpc1Jvb3Q6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnRleHR1cmUuc291cmNlLnRyYW5zcGFyZW50ID0gb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGEgPCAxO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zLlxuICAgKiBAcGFyYW0gZGVzaXJlZFNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgKiBAcGFyYW0gZGVzaXJlZFNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uXG4gICAqL1xuICByZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgdGhpcy50ZXh0dXJlLnNvdXJjZS5yZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aDtcbiAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSB0aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBjYW52YXMgZnJvbSB0aGUgZG9tLlxuICAgKiBAcGFyYW0ge29wdGlvbnMgfCBmYWxzZX0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBkZXN0cm95aW5nIHRoZSB2aWV3LCBvciBcImZhbHNlXCIuXG4gICAqIEBleGFtcGxlXG4gICAqIHZpZXdTeXN0ZW0uZGVzdHJveSgpO1xuICAgKiB2aWV3U3lzdGVtLmRlc3Ryb3kodHJ1ZSk7XG4gICAqIHZpZXdTeXN0ZW0uZGVzdHJveSh7IHJlbW92ZVZpZXc6IHRydWUgfSk7XG4gICAqL1xuICBkZXN0cm95KG9wdGlvbnMgPSBmYWxzZSkge1xuICAgIGNvbnN0IHJlbW92ZVZpZXcgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgPyBvcHRpb25zIDogISFvcHRpb25zPy5yZW1vdmVWaWV3O1xuICAgIGlmIChyZW1vdmVWaWV3ICYmIHRoaXMuY2FudmFzLnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgIH1cbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fVmlld1N5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwidmlld1wiLFxuICBwcmlvcml0eTogMFxufTtcbi8qKiBUaGUgZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgdmlldyBzeXN0ZW0uICovXG5fVmlld1N5c3RlbS5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIHtAbGluayBXZWJHTE9wdGlvbnMud2lkdGh9XG4gICAqIEBkZWZhdWx0IDgwMFxuICAgKi9cbiAgd2lkdGg6IDgwMCxcbiAgLyoqXG4gICAqIHtAbGluayBXZWJHTE9wdGlvbnMuaGVpZ2h0fVxuICAgKiBAZGVmYXVsdCA2MDBcbiAgICovXG4gIGhlaWdodDogNjAwLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5hdXRvRGVuc2l0eX1cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGF1dG9EZW5zaXR5OiBmYWxzZSxcbiAgLyoqXG4gICAqIHtAbGluayBXZWJHTE9wdGlvbnMuYW50aWFsaWFzfVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYW50aWFsaWFzOiBmYWxzZVxufTtcbmxldCBWaWV3U3lzdGVtID0gX1ZpZXdTeXN0ZW07XG5cbmV4cG9ydCB7IFZpZXdTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZpZXdTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ3VzdG9tUmVuZGVyUGlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9DdXN0b21SZW5kZXJQaXBlLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJHcm91cFBpcGUgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBQaXBlLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJHcm91cFN5c3RlbSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9SZW5kZXJHcm91cFN5c3RlbS5tanMnO1xuaW1wb3J0IHsgU3ByaXRlUGlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL3Nwcml0ZS9TcHJpdGVQaXBlLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlckluaXRIb29rIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvZ2xvYmFsL2dsb2JhbEhvb2tzLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGVyUGlwZSB9IGZyb20gJy4uLy4uLy4uL2JhdGNoZXIvc2hhcmVkL0JhdGNoZXJQaXBlLm1qcyc7XG5pbXBvcnQgeyBBbHBoYU1hc2tQaXBlIH0gZnJvbSAnLi4vLi4vLi4vbWFzay9hbHBoYS9BbHBoYU1hc2tQaXBlLm1qcyc7XG5pbXBvcnQgeyBDb2xvck1hc2tQaXBlIH0gZnJvbSAnLi4vLi4vLi4vbWFzay9jb2xvci9Db2xvck1hc2tQaXBlLm1qcyc7XG5pbXBvcnQgeyBTdGVuY2lsTWFza1BpcGUgfSBmcm9tICcuLi8uLi8uLi9tYXNrL3N0ZW5jaWwvU3RlbmNpbE1hc2tQaXBlLm1qcyc7XG5pbXBvcnQgeyBCYWNrZ3JvdW5kU3lzdGVtIH0gZnJvbSAnLi4vYmFja2dyb3VuZC9CYWNrZ3JvdW5kU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBCbGVuZE1vZGVQaXBlIH0gZnJvbSAnLi4vYmxlbmRNb2Rlcy9CbGVuZE1vZGVQaXBlLm1qcyc7XG5pbXBvcnQgeyBFeHRyYWN0U3lzdGVtIH0gZnJvbSAnLi4vZXh0cmFjdC9FeHRyYWN0U3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBHZW5lcmF0ZVRleHR1cmVTeXN0ZW0gfSBmcm9tICcuLi9leHRyYWN0L0dlbmVyYXRlVGV4dHVyZVN5c3RlbS5tanMnO1xuaW1wb3J0IHsgR2xvYmFsVW5pZm9ybVN5c3RlbSB9IGZyb20gJy4uL3JlbmRlclRhcmdldC9HbG9iYWxVbmlmb3JtU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBTY2hlZHVsZXJTeXN0ZW0gfSBmcm9tICcuLi9TY2hlZHVsZXJTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEhlbGxvU3lzdGVtIH0gZnJvbSAnLi4vc3RhcnR1cC9IZWxsb1N5c3RlbS5tanMnO1xuaW1wb3J0IHsgUmVuZGVyYWJsZUdDU3lzdGVtIH0gZnJvbSAnLi4vdGV4dHVyZS9SZW5kZXJhYmxlR0NTeXN0ZW0ubWpzJztcbmltcG9ydCB7IFRleHR1cmVHQ1N5c3RlbSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZUdDU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBWaWV3U3lzdGVtIH0gZnJvbSAnLi4vdmlldy9WaWV3U3lzdGVtLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgU2hhcmVkU3lzdGVtcyA9IFtcbiAgQmFja2dyb3VuZFN5c3RlbSxcbiAgR2xvYmFsVW5pZm9ybVN5c3RlbSxcbiAgSGVsbG9TeXN0ZW0sXG4gIFZpZXdTeXN0ZW0sXG4gIFJlbmRlckdyb3VwU3lzdGVtLFxuICBUZXh0dXJlR0NTeXN0ZW0sXG4gIEdlbmVyYXRlVGV4dHVyZVN5c3RlbSxcbiAgRXh0cmFjdFN5c3RlbSxcbiAgUmVuZGVyZXJJbml0SG9vayxcbiAgUmVuZGVyYWJsZUdDU3lzdGVtLFxuICBTY2hlZHVsZXJTeXN0ZW1cbl07XG5jb25zdCBTaGFyZWRSZW5kZXJQaXBlcyA9IFtcbiAgQmxlbmRNb2RlUGlwZSxcbiAgQmF0Y2hlclBpcGUsXG4gIFNwcml0ZVBpcGUsXG4gIFJlbmRlckdyb3VwUGlwZSxcbiAgQWxwaGFNYXNrUGlwZSxcbiAgU3RlbmNpbE1hc2tQaXBlLFxuICBDb2xvck1hc2tQaXBlLFxuICBDdXN0b21SZW5kZXJQaXBlXG5dO1xuXG5leHBvcnQgeyBTaGFyZWRSZW5kZXJQaXBlcywgU2hhcmVkU3lzdGVtcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2hhcmVkU3lzdGVtcy5tanMubWFwXG4iLCJpbXBvcnQgeyB1bmlmb3JtUGFyc2VycyB9IGZyb20gJy4vdW5pZm9ybVBhcnNlcnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjcmVhdGVVYm9TeW5jRnVuY3Rpb24odWJvRWxlbWVudHMsIHBhcnNlckNvZGUsIGFycmF5R2VuZXJhdGlvbkZ1bmN0aW9uLCBzaW5nbGVTZXR0ZXJzTWFwKSB7XG4gIGNvbnN0IGZ1bmNGcmFnbWVudHMgPSBbYFxuICAgICAgICB2YXIgdiA9IG51bGw7XG4gICAgICAgIHZhciB2MiA9IG51bGw7XG4gICAgICAgIHZhciB0ID0gMDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG5hbWUgPSBudWxsO1xuICAgICAgICB2YXIgYXJyYXlPZmZzZXQgPSBudWxsO1xuICAgIGBdO1xuICBsZXQgcHJldiA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdWJvRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB1Ym9FbGVtZW50ID0gdWJvRWxlbWVudHNbaV07XG4gICAgY29uc3QgbmFtZSA9IHVib0VsZW1lbnQuZGF0YS5uYW1lO1xuICAgIGxldCBwYXJzZWQgPSBmYWxzZTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCB1bmlmb3JtUGFyc2VyID0gdW5pZm9ybVBhcnNlcnNbal07XG4gICAgICBpZiAodW5pZm9ybVBhcnNlci50ZXN0KHVib0VsZW1lbnQuZGF0YSkpIHtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goXG4gICAgICAgICAgYG5hbWUgPSBcIiR7bmFtZX1cIjtgLFxuICAgICAgICAgIGBvZmZzZXQgKz0gJHtvZmZzZXQgLSBwcmV2fTtgLFxuICAgICAgICAgIHVuaWZvcm1QYXJzZXJzW2pdW3BhcnNlckNvZGVdIHx8IHVuaWZvcm1QYXJzZXJzW2pdLnVib1xuICAgICAgICApO1xuICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgIGlmICh1Ym9FbGVtZW50LmRhdGEuc2l6ZSA+IDEpIHtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYXJyYXlHZW5lcmF0aW9uRnVuY3Rpb24odWJvRWxlbWVudCwgb2Zmc2V0IC0gcHJldikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBzaW5nbGVTZXR0ZXJzTWFwW3Vib0VsZW1lbnQuZGF0YS50eXBlXTtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goXG4gICAgICAgICAgLyogd2dzbCAqL1xuICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgdiA9IHV2LiR7bmFtZX07XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAke29mZnNldCAtIHByZXZ9O1xuICAgICAgICAgICAgICAgICAgICAke3RlbXBsYXRlfTtcbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHByZXYgPSBvZmZzZXQ7XG4gIH1cbiAgY29uc3QgZnJhZ21lbnRTcmMgPSBmdW5jRnJhZ21lbnRzLmpvaW4oXCJcXG5cIik7XG4gIHJldHVybiBuZXcgRnVuY3Rpb24oXG4gICAgXCJ1dlwiLFxuICAgIFwiZGF0YVwiLFxuICAgIFwiZGF0YUludDMyXCIsXG4gICAgXCJvZmZzZXRcIixcbiAgICBmcmFnbWVudFNyY1xuICApO1xufVxuXG5leHBvcnQgeyBjcmVhdGVVYm9TeW5jRnVuY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVVib1N5bmNGdW5jdGlvbi5tanMubWFwXG4iLCJpbXBvcnQgeyB1bnNhZmVFdmFsU3VwcG9ydGVkIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvYnJvd3Nlci91bnNhZmVFdmFsU3VwcG9ydGVkLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICcuLi9idWZmZXIvQnVmZmVyLm1qcyc7XG5pbXBvcnQgeyBCdWZmZXJVc2FnZSB9IGZyb20gJy4uL2J1ZmZlci9jb25zdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFVib1N5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKGFkYXB0b3IpIHtcbiAgICAvKiogQ2FjaGUgb2YgdW5pZm9ybSBidWZmZXIgbGF5b3V0cyBhbmQgc3luYyBmdW5jdGlvbnMsIHNvIHdlIGRvbid0IGhhdmUgdG8gcmUtY3JlYXRlIHRoZW0gKi9cbiAgICB0aGlzLl9zeW5jRnVuY3Rpb25IYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fYWRhcHRvciA9IGFkYXB0b3I7XG4gICAgdGhpcy5fc3lzdGVtQ2hlY2soKTtcbiAgfVxuICAvKipcbiAgICogT3ZlcnJpZGFibGUgZnVuY3Rpb24gYnkgYHBpeGkuanMvdW5zYWZlLWV2YWxgIHRvIHNpbGVuY2VcbiAgICogdGhyb3dpbmcgYW4gZXJyb3IgaWYgcGxhdGZvcm0gZG9lc24ndCBzdXBwb3J0IHVuc2FmZS1ldmFscy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zeXN0ZW1DaGVjaygpIHtcbiAgICBpZiAoIXVuc2FmZUV2YWxTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgcGxlYXNlIHVzZSBwaXhpLmpzL3Vuc2FmZS1ldmFsIG1vZHVsZSB0byBlbmFibGUgc3VwcG9ydC5cIik7XG4gICAgfVxuICB9XG4gIGVuc3VyZVVuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApIHtcbiAgICBjb25zdCB1bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApO1xuICAgIHVuaWZvcm1Hcm91cC5idWZmZXIgfHwgKHVuaWZvcm1Hcm91cC5idWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkodW5pZm9ybURhdGEubGF5b3V0LnNpemUgLyA0KSxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5VTklGT1JNIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KSk7XG4gIH1cbiAgZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApIHtcbiAgICByZXR1cm4gdGhpcy5fc3luY0Z1bmN0aW9uSGFzaFt1bmlmb3JtR3JvdXAuX3NpZ25hdHVyZV0gfHwgdGhpcy5faW5pdFVuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApO1xuICB9XG4gIF9pbml0VW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCkge1xuICAgIGNvbnN0IHVuaWZvcm1Hcm91cFNpZ25hdHVyZSA9IHVuaWZvcm1Hcm91cC5fc2lnbmF0dXJlO1xuICAgIGxldCB1bmlmb3JtRGF0YSA9IHRoaXMuX3N5bmNGdW5jdGlvbkhhc2hbdW5pZm9ybUdyb3VwU2lnbmF0dXJlXTtcbiAgICBpZiAoIXVuaWZvcm1EYXRhKSB7XG4gICAgICBjb25zdCBlbGVtZW50cyA9IE9iamVjdC5rZXlzKHVuaWZvcm1Hcm91cC51bmlmb3JtU3RydWN0dXJlcykubWFwKChpKSA9PiB1bmlmb3JtR3JvdXAudW5pZm9ybVN0cnVjdHVyZXNbaV0pO1xuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5fYWRhcHRvci5jcmVhdGVVYm9FbGVtZW50cyhlbGVtZW50cyk7XG4gICAgICBjb25zdCBzeW5jRnVuY3Rpb24gPSB0aGlzLl9nZW5lcmF0ZVVib1N5bmMobGF5b3V0LnVib0VsZW1lbnRzKTtcbiAgICAgIHVuaWZvcm1EYXRhID0gdGhpcy5fc3luY0Z1bmN0aW9uSGFzaFt1bmlmb3JtR3JvdXBTaWduYXR1cmVdID0ge1xuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHN5bmNGdW5jdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3N5bmNGdW5jdGlvbkhhc2hbdW5pZm9ybUdyb3VwU2lnbmF0dXJlXTtcbiAgfVxuICBfZ2VuZXJhdGVVYm9TeW5jKHVib0VsZW1lbnRzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FkYXB0b3IuZ2VuZXJhdGVVYm9TeW5jKHVib0VsZW1lbnRzKTtcbiAgfVxuICBzeW5jVW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCwgZGF0YSwgb2Zmc2V0KSB7XG4gICAgY29uc3QgdW5pZm9ybUdyb3VwRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybUdyb3VwRGF0YSh1bmlmb3JtR3JvdXApO1xuICAgIHVuaWZvcm1Hcm91cC5idWZmZXIgfHwgKHVuaWZvcm1Hcm91cC5idWZmZXIgPSBuZXcgQnVmZmVyKHtcbiAgICAgIGRhdGE6IG5ldyBGbG9hdDMyQXJyYXkodW5pZm9ybUdyb3VwRGF0YS5sYXlvdXQuc2l6ZSAvIDQpLFxuICAgICAgdXNhZ2U6IEJ1ZmZlclVzYWdlLlVOSUZPUk0gfCBCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIH0pKTtcbiAgICBsZXQgZGF0YUludDMyID0gbnVsbDtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIGRhdGEgPSB1bmlmb3JtR3JvdXAuYnVmZmVyLmRhdGE7XG4gICAgICBkYXRhSW50MzIgPSB1bmlmb3JtR3JvdXAuYnVmZmVyLmRhdGFJbnQzMjtcbiAgICB9XG4gICAgb2Zmc2V0IHx8IChvZmZzZXQgPSAwKTtcbiAgICB1bmlmb3JtR3JvdXBEYXRhLnN5bmNGdW5jdGlvbih1bmlmb3JtR3JvdXAudW5pZm9ybXMsIGRhdGEsIGRhdGFJbnQzMiwgb2Zmc2V0KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB1cGRhdGVVbmlmb3JtR3JvdXAodW5pZm9ybUdyb3VwKSB7XG4gICAgaWYgKHVuaWZvcm1Hcm91cC5pc1N0YXRpYyAmJiAhdW5pZm9ybUdyb3VwLl9kaXJ0eUlkKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHVuaWZvcm1Hcm91cC5fZGlydHlJZCA9IDA7XG4gICAgY29uc3Qgc3luY2VkID0gdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCk7XG4gICAgdW5pZm9ybUdyb3VwLmJ1ZmZlci51cGRhdGUoKTtcbiAgICByZXR1cm4gc3luY2VkO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc3luY0Z1bmN0aW9uSGFzaCA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgVWJvU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VYm9TeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3V0aWxzL2xvZ2dpbmcvd2Fybi5tanMnO1xuaW1wb3J0IHsgZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvZ2VvbWV0cnkvdXRpbHMvZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBlbnN1cmVBdHRyaWJ1dGVzKGdlb21ldHJ5LCBleHRyYWN0ZWREYXRhKSB7XG4gIGZvciAoY29uc3QgaSBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpXTtcbiAgICBjb25zdCBhdHRyaWJ1dGVEYXRhID0gZXh0cmFjdGVkRGF0YVtpXTtcbiAgICBpZiAoYXR0cmlidXRlRGF0YSkge1xuICAgICAgYXR0cmlidXRlLmZvcm1hdCA/PyAoYXR0cmlidXRlLmZvcm1hdCA9IGF0dHJpYnV0ZURhdGEuZm9ybWF0KTtcbiAgICAgIGF0dHJpYnV0ZS5vZmZzZXQgPz8gKGF0dHJpYnV0ZS5vZmZzZXQgPSBhdHRyaWJ1dGVEYXRhLm9mZnNldCk7XG4gICAgICBhdHRyaWJ1dGUuaW5zdGFuY2UgPz8gKGF0dHJpYnV0ZS5pbnN0YW5jZSA9IGF0dHJpYnV0ZURhdGEuaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKGBBdHRyaWJ1dGUgJHtpfSBpcyBub3QgcHJlc2VudCBpbiB0aGUgc2hhZGVyLCBidXQgaXMgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkuIFVuYWJsZSB0byBpbmZlciBhdHRyaWJ1dGUgZGV0YWlscy5gKTtcbiAgICB9XG4gIH1cbiAgZW5zdXJlU3RhcnRBbmRTdHJpZGUoZ2VvbWV0cnkpO1xufVxuZnVuY3Rpb24gZW5zdXJlU3RhcnRBbmRTdHJpZGUoZ2VvbWV0cnkpIHtcbiAgY29uc3QgeyBidWZmZXJzLCBhdHRyaWJ1dGVzIH0gPSBnZW9tZXRyeTtcbiAgY29uc3QgdGVtcFN0cmlkZSA9IHt9O1xuICBjb25zdCB0ZW1wU3RhcnQgPSB7fTtcbiAgZm9yIChjb25zdCBqIGluIGJ1ZmZlcnMpIHtcbiAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW2pdO1xuICAgIHRlbXBTdHJpZGVbYnVmZmVyLnVpZF0gPSAwO1xuICAgIHRlbXBTdGFydFtidWZmZXIudWlkXSA9IDA7XG4gIH1cbiAgZm9yIChjb25zdCBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlci51aWRdICs9IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KGF0dHJpYnV0ZS5mb3JtYXQpLnN0cmlkZTtcbiAgfVxuICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcykge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgYXR0cmlidXRlLnN0cmlkZSA/PyAoYXR0cmlidXRlLnN0cmlkZSA9IHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlci51aWRdKTtcbiAgICBhdHRyaWJ1dGUuc3RhcnQgPz8gKGF0dHJpYnV0ZS5zdGFydCA9IHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyLnVpZF0pO1xuICAgIHRlbXBTdGFydFthdHRyaWJ1dGUuYnVmZmVyLnVpZF0gKz0gZ2V0QXR0cmlidXRlSW5mb0Zyb21Gb3JtYXQoYXR0cmlidXRlLmZvcm1hdCkuc3RyaWRlO1xuICB9XG59XG5cbmV4cG9ydCB7IGVuc3VyZUF0dHJpYnV0ZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVuc3VyZUF0dHJpYnV0ZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvc2hhcGVzL1JlY3RhbmdsZS5tanMnO1xuaW1wb3J0IHsgQ0xFQVIgfSBmcm9tICcuLi8uLi9nbC9jb25zdC5tanMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlUHJvamVjdGlvbiB9IGZyb20gJy4uLy4uL2dwdS9yZW5kZXJUYXJnZXQvY2FsY3VsYXRlUHJvamVjdGlvbi5tanMnO1xuaW1wb3J0IHsgU3lzdGVtUnVubmVyIH0gZnJvbSAnLi4vc3lzdGVtL1N5c3RlbVJ1bm5lci5tanMnO1xuaW1wb3J0IHsgQ2FudmFzU291cmNlIH0gZnJvbSAnLi4vdGV4dHVyZS9zb3VyY2VzL0NhbnZhc1NvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVNvdXJjZSB9IGZyb20gJy4uL3RleHR1cmUvc291cmNlcy9UZXh0dXJlU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZS9UZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBnZXRDYW52YXNUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZS91dGlscy9nZXRDYW52YXNUZXh0dXJlLm1qcyc7XG5pbXBvcnQgeyBpc1JlbmRlcmluZ1RvU2NyZWVuIH0gZnJvbSAnLi9pc1JlbmRlcmluZ1RvU2NyZWVuLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJUYXJnZXQgfSBmcm9tICcuL1JlbmRlclRhcmdldC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFJlbmRlclRhcmdldFN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgLyoqIFRoaXMgaXMgdGhlIHJvb3Qgdmlld3BvcnQgZm9yIHRoZSByZW5kZXIgcGFzcyovXG4gICAgdGhpcy5yb290Vmlld1BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgLyoqIHRoZSBjdXJyZW50IHZpZXdwb3J0IHRoYXQgdGhlIGdwdSBpcyB1c2luZyAqL1xuICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgLyoqXG4gICAgICogYSBydW5uZXIgdGhhdCBsZXRzIHN5c3RlbXMga25vdyBpZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgaGFzIGNoYW5nZWQuXG4gICAgICogRWcgdGhlIFN0ZW5jaWwgU3lzdGVtIG5lZWRzIHRvIGtub3cgc28gaXQgY2FuIG1hbmFnZSB0aGUgc3RlbmNpbCBidWZmZXJcbiAgICAgKi9cbiAgICB0aGlzLm9uUmVuZGVyVGFyZ2V0Q2hhbmdlID0gbmV3IFN5c3RlbVJ1bm5lcihcIm9uUmVuZGVyVGFyZ2V0Q2hhbmdlXCIpO1xuICAgIC8qKiB0aGUgcHJvamVjdGlvbiBtYXRyaXggdGhhdCBpcyB1c2VkIGJ5IHRoZSBzaGFkZXJzIGJhc2VkIG9uIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCBhbmQgdGhlIHZpZXdwb3J0ICovXG4gICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuICAgIC8qKiB0aGUgZGVmYXVsdCBjbGVhciBjb2xvciBmb3IgcmVuZGVyIHRhcmdldHMgKi9cbiAgICB0aGlzLmRlZmF1bHRDbGVhckNvbG9yID0gWzAsIDAsIDAsIDBdO1xuICAgIC8qKlxuICAgICAqIGEgaGFzaCB0aGF0IHN0b3JlcyB0aGUgcmVuZGVyIHRhcmdldCBmb3IgYSBnaXZlbiByZW5kZXIgc3VyZmFjZS4gV2hlbiB5b3UgcGFzcyBpbiBhIHRleHR1cmUgc291cmNlLFxuICAgICAqIGEgcmVuZGVyIHRhcmdldCBpcyBjcmVhdGVkIGZvciBpdC4gVGhpcyBtYXAgc3RvcmVzIGFuZCBtYWtlcyBpdCBlYXN5IHRvIHJldHJpZXZlIHRoZSByZW5kZXIgdGFyZ2V0XG4gICAgICovXG4gICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgLyoqIEEgaGFzaCB0aGF0IHN0b3JlcyBhIGdwdSByZW5kZXIgdGFyZ2V0IGZvciBhIGdpdmVuIHJlbmRlciB0YXJnZXQuICovXG4gICAgdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIC8qKlxuICAgICAqIEEgc3RhY2sgdGhhdCBzdG9yZXMgdGhlIHJlbmRlciB0YXJnZXQgYW5kIGZyYW1lIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIHJlbmRlcmVkIHRvLlxuICAgICAqIFdoZW4gcHVzaCBpcyBjYWxsZWQsIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXQgaXMgc3RvcmVkIGluIHRoaXMgc3RhY2suXG4gICAgICogV2hlbiBwb3AgaXMgY2FsbGVkLCB0aGUgcHJldmlvdXMgcmVuZGVyIHRhcmdldCBpcyByZXN0b3JlZC5cbiAgICAgKi9cbiAgICB0aGlzLl9yZW5kZXJUYXJnZXRTdGFjayA9IFtdO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyYWJsZUdDLmFkZE1hbmFnZWRIYXNoKHRoaXMsIFwiX2dwdVJlbmRlclRhcmdldEhhc2hcIik7XG4gIH1cbiAgLyoqIGNhbGxlZCB3aGVuIGRldiB3YW50cyB0byBmaW5pc2ggYSByZW5kZXIgcGFzcyAqL1xuICBmaW5pc2hSZW5kZXJQYXNzKCkge1xuICAgIHRoaXMuYWRhcHRvci5maW5pc2hSZW5kZXJQYXNzKHRoaXMucmVuZGVyVGFyZ2V0KTtcbiAgfVxuICAvKipcbiAgICogY2FsbGVkIHdoZW4gdGhlIHJlbmRlcmVyIHN0YXJ0cyB0byByZW5kZXIgYSBzY2VuZS5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMudGFyZ2V0IC0gdGhlIHJlbmRlciB0YXJnZXQgdG8gcmVuZGVyIHRvXG4gICAqIEBwYXJhbSBvcHRpb25zLmNsZWFyIC0gdGhlIGNsZWFyIG1vZGUgdG8gdXNlLiBDYW4gYmUgdHJ1ZSBvciBhIENMRUFSIG51bWJlciAnQ09MT1IgfCBERVBUSCB8IFNURU5DSUwnIDBiMTExXG4gICAqIEBwYXJhbSBvcHRpb25zLmNsZWFyQ29sb3IgLSB0aGUgY29sb3IgdG8gY2xlYXIgdG9cbiAgICogQHBhcmFtIG9wdGlvbnMuZnJhbWUgLSB0aGUgZnJhbWUgdG8gcmVuZGVyIHRvXG4gICAqL1xuICByZW5kZXJTdGFydCh7XG4gICAgdGFyZ2V0LFxuICAgIGNsZWFyLFxuICAgIGNsZWFyQ29sb3IsXG4gICAgZnJhbWVcbiAgfSkge1xuICAgIHRoaXMuX3JlbmRlclRhcmdldFN0YWNrLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5wdXNoKFxuICAgICAgdGFyZ2V0LFxuICAgICAgY2xlYXIsXG4gICAgICBjbGVhckNvbG9yLFxuICAgICAgZnJhbWVcbiAgICApO1xuICAgIHRoaXMucm9vdFZpZXdQb3J0LmNvcHlGcm9tKHRoaXMudmlld3BvcnQpO1xuICAgIHRoaXMucm9vdFJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyVGFyZ2V0O1xuICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSBpc1JlbmRlcmluZ1RvU2NyZWVuKHRoaXMucm9vdFJlbmRlclRhcmdldCk7XG4gICAgdGhpcy5hZGFwdG9yLnByZXJlbmRlcj8uKHRoaXMucm9vdFJlbmRlclRhcmdldCk7XG4gIH1cbiAgcG9zdHJlbmRlcigpIHtcbiAgICB0aGlzLmFkYXB0b3IucG9zdHJlbmRlcj8uKHRoaXMucm9vdFJlbmRlclRhcmdldCk7XG4gIH1cbiAgLyoqXG4gICAqIEJpbmRpbmcgYSByZW5kZXIgc3VyZmFjZSEgVGhpcyBpcyB0aGUgbWFpbiBmdW5jdGlvbiBvZiB0aGUgcmVuZGVyIHRhcmdldCBzeXN0ZW0uXG4gICAqIEl0IHdpbGwgdGFrZSB0aGUgUmVuZGVyU3VyZmFjZSAod2hpY2ggY2FuIGJlIGEgdGV4dHVyZSwgY2FudmFzLCBvciByZW5kZXIgdGFyZ2V0KSBhbmQgYmluZCBpdCB0byB0aGUgcmVuZGVyZXIuXG4gICAqIE9uY2UgYm91bmQgYWxsIGRyYXcgY2FsbHMgd2lsbCBiZSByZW5kZXJlZCB0byB0aGUgcmVuZGVyIHN1cmZhY2UuXG4gICAqXG4gICAqIElmIGEgZnJhbWUgaXMgbm90IHByb3ZpZGUgYW5kIHRoZSByZW5kZXIgc3VyZmFjZSBpcyBhIHRleHR1cmUsIHRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB3aWxsIGJlIHVzZWQuXG4gICAqIEBwYXJhbSByZW5kZXJTdXJmYWNlIC0gdGhlIHJlbmRlciBzdXJmYWNlIHRvIGJpbmRcbiAgICogQHBhcmFtIGNsZWFyIC0gdGhlIGNsZWFyIG1vZGUgdG8gdXNlLiBDYW4gYmUgdHJ1ZSBvciBhIENMRUFSIG51bWJlciAnQ09MT1IgfCBERVBUSCB8IFNURU5DSUwnIDBiMTExXG4gICAqIEBwYXJhbSBjbGVhckNvbG9yIC0gdGhlIGNvbG9yIHRvIGNsZWFyIHRvXG4gICAqIEBwYXJhbSBmcmFtZSAtIHRoZSBmcmFtZSB0byByZW5kZXIgdG9cbiAgICogQHJldHVybnMgdGhlIHJlbmRlciB0YXJnZXQgdGhhdCB3YXMgYm91bmRcbiAgICovXG4gIGJpbmQocmVuZGVyU3VyZmFjZSwgY2xlYXIgPSB0cnVlLCBjbGVhckNvbG9yLCBmcmFtZSkge1xuICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHRoaXMuZ2V0UmVuZGVyVGFyZ2V0KHJlbmRlclN1cmZhY2UpO1xuICAgIGNvbnN0IGRpZENoYW5nZSA9IHRoaXMucmVuZGVyVGFyZ2V0ICE9PSByZW5kZXJUYXJnZXQ7XG4gICAgdGhpcy5yZW5kZXJUYXJnZXQgPSByZW5kZXJUYXJnZXQ7XG4gICAgdGhpcy5yZW5kZXJTdXJmYWNlID0gcmVuZGVyU3VyZmFjZTtcbiAgICBjb25zdCBncHVSZW5kZXJUYXJnZXQgPSB0aGlzLmdldEdwdVJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgIGlmIChyZW5kZXJUYXJnZXQucGl4ZWxXaWR0aCAhPT0gZ3B1UmVuZGVyVGFyZ2V0LndpZHRoIHx8IHJlbmRlclRhcmdldC5waXhlbEhlaWdodCAhPT0gZ3B1UmVuZGVyVGFyZ2V0LmhlaWdodCkge1xuICAgICAgdGhpcy5hZGFwdG9yLnJlc2l6ZUdwdVJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpO1xuICAgICAgZ3B1UmVuZGVyVGFyZ2V0LndpZHRoID0gcmVuZGVyVGFyZ2V0LnBpeGVsV2lkdGg7XG4gICAgICBncHVSZW5kZXJUYXJnZXQuaGVpZ2h0ID0gcmVuZGVyVGFyZ2V0LnBpeGVsSGVpZ2h0O1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2UgPSByZW5kZXJUYXJnZXQuY29sb3JUZXh0dXJlO1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3cG9ydDtcbiAgICBjb25zdCBwaXhlbFdpZHRoID0gc291cmNlLnBpeGVsV2lkdGg7XG4gICAgY29uc3QgcGl4ZWxIZWlnaHQgPSBzb3VyY2UucGl4ZWxIZWlnaHQ7XG4gICAgaWYgKCFmcmFtZSAmJiByZW5kZXJTdXJmYWNlIGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgZnJhbWUgPSByZW5kZXJTdXJmYWNlLmZyYW1lO1xuICAgIH1cbiAgICBpZiAoZnJhbWUpIHtcbiAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBzb3VyY2UuX3Jlc29sdXRpb247XG4gICAgICB2aWV3cG9ydC54ID0gZnJhbWUueCAqIHJlc29sdXRpb24gKyAwLjUgfCAwO1xuICAgICAgdmlld3BvcnQueSA9IGZyYW1lLnkgKiByZXNvbHV0aW9uICsgMC41IHwgMDtcbiAgICAgIHZpZXdwb3J0LndpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uICsgMC41IHwgMDtcbiAgICAgIHZpZXdwb3J0LmhlaWdodCA9IGZyYW1lLmhlaWdodCAqIHJlc29sdXRpb24gKyAwLjUgfCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB2aWV3cG9ydC54ID0gMDtcbiAgICAgIHZpZXdwb3J0LnkgPSAwO1xuICAgICAgdmlld3BvcnQud2lkdGggPSBwaXhlbFdpZHRoO1xuICAgICAgdmlld3BvcnQuaGVpZ2h0ID0gcGl4ZWxIZWlnaHQ7XG4gICAgfVxuICAgIGNhbGN1bGF0ZVByb2plY3Rpb24oXG4gICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXgsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIHZpZXdwb3J0LndpZHRoIC8gc291cmNlLnJlc29sdXRpb24sXG4gICAgICB2aWV3cG9ydC5oZWlnaHQgLyBzb3VyY2UucmVzb2x1dGlvbixcbiAgICAgICFyZW5kZXJUYXJnZXQuaXNSb290XG4gICAgKTtcbiAgICB0aGlzLmFkYXB0b3Iuc3RhcnRSZW5kZXJQYXNzKHJlbmRlclRhcmdldCwgY2xlYXIsIGNsZWFyQ29sb3IsIHZpZXdwb3J0KTtcbiAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICB0aGlzLm9uUmVuZGVyVGFyZ2V0Q2hhbmdlLmVtaXQocmVuZGVyVGFyZ2V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlbmRlclRhcmdldDtcbiAgfVxuICBjbGVhcih0YXJnZXQsIGNsZWFyID0gQ0xFQVIuQUxMLCBjbGVhckNvbG9yKSB7XG4gICAgaWYgKCFjbGVhcilcbiAgICAgIHJldHVybjtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICB0YXJnZXQgPSB0aGlzLmdldFJlbmRlclRhcmdldCh0YXJnZXQpO1xuICAgIH1cbiAgICB0aGlzLmFkYXB0b3IuY2xlYXIoXG4gICAgICB0YXJnZXQgfHwgdGhpcy5yZW5kZXJUYXJnZXQsXG4gICAgICBjbGVhcixcbiAgICAgIGNsZWFyQ29sb3IsXG4gICAgICB0aGlzLnZpZXdwb3J0XG4gICAgKTtcbiAgfVxuICBjb250ZXh0Q2hhbmdlKCkge1xuICAgIHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfVxuICAvKipcbiAgICogUHVzaCBhIHJlbmRlciBzdXJmYWNlIHRvIHRoZSByZW5kZXJlci4gVGhpcyB3aWxsIGJpbmQgdGhlIHJlbmRlciBzdXJmYWNlIHRvIHRoZSByZW5kZXJlcixcbiAgICogQHBhcmFtIHJlbmRlclN1cmZhY2UgLSB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gcHVzaFxuICAgKiBAcGFyYW0gY2xlYXIgLSB0aGUgY2xlYXIgbW9kZSB0byB1c2UuIENhbiBiZSB0cnVlIG9yIGEgQ0xFQVIgbnVtYmVyICdDT0xPUiB8IERFUFRIIHwgU1RFTkNJTCcgMGIxMTFcbiAgICogQHBhcmFtIGNsZWFyQ29sb3IgLSB0aGUgY29sb3IgdG8gY2xlYXIgdG9cbiAgICogQHBhcmFtIGZyYW1lIC0gdGhlIGZyYW1lIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0byB0aGUgcmVuZGVyIHN1cmZhY2VcbiAgICovXG4gIHB1c2gocmVuZGVyU3VyZmFjZSwgY2xlYXIgPSBDTEVBUi5BTEwsIGNsZWFyQ29sb3IsIGZyYW1lKSB7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5iaW5kKHJlbmRlclN1cmZhY2UsIGNsZWFyLCBjbGVhckNvbG9yLCBmcmFtZSk7XG4gICAgdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2sucHVzaCh7XG4gICAgICByZW5kZXJUYXJnZXQsXG4gICAgICBmcmFtZVxuICAgIH0pO1xuICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gIH1cbiAgLyoqIFBvcHMgdGhlIGN1cnJlbnQgcmVuZGVyIHRhcmdldCBmcm9tIHRoZSByZW5kZXJlciBhbmQgcmVzdG9yZXMgdGhlIHByZXZpb3VzIHJlbmRlciB0YXJnZXQuICovXG4gIHBvcCgpIHtcbiAgICB0aGlzLl9yZW5kZXJUYXJnZXRTdGFjay5wb3AoKTtcbiAgICBjb25zdCBjdXJyZW50UmVuZGVyVGFyZ2V0RGF0YSA9IHRoaXMuX3JlbmRlclRhcmdldFN0YWNrW3RoaXMuX3JlbmRlclRhcmdldFN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIHRoaXMuYmluZChjdXJyZW50UmVuZGVyVGFyZ2V0RGF0YS5yZW5kZXJUYXJnZXQsIGZhbHNlLCBudWxsLCBjdXJyZW50UmVuZGVyVGFyZ2V0RGF0YS5mcmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgdGhlIHJlbmRlciB0YXJnZXQgZnJvbSB0aGUgcHJvdmlkZSByZW5kZXIgc3VyZmFjZS4gRWcgaWYgaXRzIGEgdGV4dHVyZSxcbiAgICogaXQgd2lsbCByZXR1cm4gdGhlIHJlbmRlciB0YXJnZXQgZm9yIHRoZSB0ZXh0dXJlLlxuICAgKiBJZiBpdHMgYSByZW5kZXIgdGFyZ2V0LCBpdCB3aWxsIHJldHVybiB0aGUgc2FtZSByZW5kZXIgdGFyZ2V0LlxuICAgKiBAcGFyYW0gcmVuZGVyU3VyZmFjZSAtIHRoZSByZW5kZXIgc3VyZmFjZSB0byBnZXQgdGhlIHJlbmRlciB0YXJnZXQgZm9yXG4gICAqIEByZXR1cm5zIHRoZSByZW5kZXIgdGFyZ2V0IGZvciB0aGUgcmVuZGVyIHN1cmZhY2VcbiAgICovXG4gIGdldFJlbmRlclRhcmdldChyZW5kZXJTdXJmYWNlKSB7XG4gICAgaWYgKHJlbmRlclN1cmZhY2UuaXNUZXh0dXJlKSB7XG4gICAgICByZW5kZXJTdXJmYWNlID0gcmVuZGVyU3VyZmFjZS5zb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoLmdldChyZW5kZXJTdXJmYWNlKSA/PyB0aGlzLl9pbml0UmVuZGVyVGFyZ2V0KHJlbmRlclN1cmZhY2UpO1xuICB9XG4gIC8qKlxuICAgKiBDb3BpZXMgYSByZW5kZXIgc3VyZmFjZSB0byBhbm90aGVyIHRleHR1cmUuXG4gICAqXG4gICAqIE5PVEU6XG4gICAqIGZvciBzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZSwgVGhlIHJlbmRlciB0YXJnZXQgbXVzdCBiZSBzb21ldGhpbmcgdGhhdCBpcyB3cml0dGVuIHRvbyBieSB0aGUgcmVuZGVyZXJcbiAgICpcbiAgICogVGhlIGZvbGxvd2luZyBpcyBub3QgdmFsaWQ6XG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAqIGNhbnZhcy53aWR0aCA9IDIwMDtcbiAgICogY2FudmFzLmhlaWdodCA9IDIwMDtcbiAgICpcbiAgICogY29uc3QgY3R4ID0gY2FudmFzMi5nZXRDb250ZXh0KCcyZCcpIVxuICAgKiBjdHguZmlsbFN0eWxlID0gJ3JlZCdcbiAgICogY3R4LmZpbGxSZWN0KDAsIDAsIDIwMCwgMjAwKTtcbiAgICpcbiAgICogY29uc3QgdGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHtcbiAgICogICB3aWR0aDogMjAwLFxuICAgKiAgIGhlaWdodDogMjAwLFxuICAgKiB9KVxuICAgKiBjb25zdCByZW5kZXJUYXJnZXQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQuZ2V0UmVuZGVyVGFyZ2V0KGNhbnZhczIpO1xuICAgKlxuICAgKiByZW5kZXJlci5yZW5kZXJUYXJnZXQuY29weVRvVGV4dHVyZShyZW5kZXJUYXJnZXQsdGV4dHVyZSwge3g6MCx5OjB9LHt3aWR0aDoyMDAsaGVpZ2h0OjIwMH0se3g6MCx5OjB9KTtcbiAgICpcbiAgICogVGhlIGJlc3Qgd2F5IHRvIGNvcHkgYSBjYW52YXMgaXMgdG8gY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGl0LiBUaGVuIHJlbmRlciB3aXRoIHRoYXQuXG4gICAqXG4gICAqIFBhcnNpbmcgaW4gYSBSZW5kZXJUYXJnZXQgY2FudmFzIGNvbnRleHQgKHdpdGggYSAyZCBjb250ZXh0KVxuICAgKiBAcGFyYW0gc291cmNlUmVuZGVyU3VyZmFjZVRleHR1cmUgLSB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gY29weSBmcm9tXG4gICAqIEBwYXJhbSBkZXN0aW5hdGlvblRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBjb3B5IHRvXG4gICAqIEBwYXJhbSBvcmlnaW5TcmMgLSB0aGUgb3JpZ2luIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBvcmlnaW5TcmMueCAtIHRoZSB4IG9yaWdpbiBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gb3JpZ2luU3JjLnkgLSB0aGUgeSBvcmlnaW4gb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIHNpemUgLSB0aGUgc2l6ZSBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gc2l6ZS53aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gc2l6ZS5oZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBvcmlnaW5EZXN0IC0gdGhlIGRlc3RpbmF0aW9uIG9yaWdpbiAodG9wIGxlZnQgdG8gcGFzdGUgZnJvbSEpXG4gICAqIEBwYXJhbSBvcmlnaW5EZXN0LnggLSB0aGUgeCBvcmlnaW4gb2YgdGhlIHBhc3RlXG4gICAqIEBwYXJhbSBvcmlnaW5EZXN0LnkgLSB0aGUgeSBvcmlnaW4gb2YgdGhlIHBhc3RlXG4gICAqL1xuICBjb3B5VG9UZXh0dXJlKHNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlLCBkZXN0aW5hdGlvblRleHR1cmUsIG9yaWdpblNyYywgc2l6ZSwgb3JpZ2luRGVzdCkge1xuICAgIGlmIChvcmlnaW5TcmMueCA8IDApIHtcbiAgICAgIHNpemUud2lkdGggKz0gb3JpZ2luU3JjLng7XG4gICAgICBvcmlnaW5EZXN0LnggLT0gb3JpZ2luU3JjLng7XG4gICAgICBvcmlnaW5TcmMueCA9IDA7XG4gICAgfVxuICAgIGlmIChvcmlnaW5TcmMueSA8IDApIHtcbiAgICAgIHNpemUuaGVpZ2h0ICs9IG9yaWdpblNyYy55O1xuICAgICAgb3JpZ2luRGVzdC55IC09IG9yaWdpblNyYy55O1xuICAgICAgb3JpZ2luU3JjLnkgPSAwO1xuICAgIH1cbiAgICBjb25zdCB7IHBpeGVsV2lkdGgsIHBpeGVsSGVpZ2h0IH0gPSBzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZTtcbiAgICBzaXplLndpZHRoID0gTWF0aC5taW4oc2l6ZS53aWR0aCwgcGl4ZWxXaWR0aCAtIG9yaWdpblNyYy54KTtcbiAgICBzaXplLmhlaWdodCA9IE1hdGgubWluKHNpemUuaGVpZ2h0LCBwaXhlbEhlaWdodCAtIG9yaWdpblNyYy55KTtcbiAgICByZXR1cm4gdGhpcy5hZGFwdG9yLmNvcHlUb1RleHR1cmUoXG4gICAgICBzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZSxcbiAgICAgIGRlc3RpbmF0aW9uVGV4dHVyZSxcbiAgICAgIG9yaWdpblNyYyxcbiAgICAgIHNpemUsXG4gICAgICBvcmlnaW5EZXN0XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogZW5zdXJlcyB0aGF0IHdlIGhhdmUgYSBkZXB0aCBzdGVuY2lsIGJ1ZmZlciBhdmFpbGFibGUgdG8gcmVuZGVyIHRvXG4gICAqIFRoaXMgaXMgdXNlZCBieSB0aGUgbWFzayBzeXN0ZW0gdG8gbWFrZSBzdXJlIHdlIGhhdmUgYSBzdGVuY2lsIGJ1ZmZlci5cbiAgICovXG4gIGVuc3VyZURlcHRoU3RlbmNpbCgpIHtcbiAgICBpZiAoIXRoaXMucmVuZGVyVGFyZ2V0LnN0ZW5jaWwpIHtcbiAgICAgIHRoaXMucmVuZGVyVGFyZ2V0LnN0ZW5jaWwgPSB0cnVlO1xuICAgICAgdGhpcy5hZGFwdG9yLnN0YXJ0UmVuZGVyUGFzcyh0aGlzLnJlbmRlclRhcmdldCwgZmFsc2UsIG51bGwsIHRoaXMudmlld3BvcnQpO1xuICAgIH1cbiAgfVxuICAvKiogbnVrZXMgdGhlIHJlbmRlciB0YXJnZXQgc3lzdGVtICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2guZm9yRWFjaCgocmVuZGVyVGFyZ2V0LCBrZXkpID0+IHtcbiAgICAgIGlmIChyZW5kZXJUYXJnZXQgIT09IGtleSkge1xuICAgICAgICByZW5kZXJUYXJnZXQuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2guY2xlYXIoKTtcbiAgICB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cbiAgX2luaXRSZW5kZXJUYXJnZXQocmVuZGVyU3VyZmFjZSkge1xuICAgIGxldCByZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgIGlmIChDYW52YXNTb3VyY2UudGVzdChyZW5kZXJTdXJmYWNlKSkge1xuICAgICAgcmVuZGVyU3VyZmFjZSA9IGdldENhbnZhc1RleHR1cmUocmVuZGVyU3VyZmFjZSkuc291cmNlO1xuICAgIH1cbiAgICBpZiAocmVuZGVyU3VyZmFjZSBpbnN0YW5jZW9mIFJlbmRlclRhcmdldCkge1xuICAgICAgcmVuZGVyVGFyZ2V0ID0gcmVuZGVyU3VyZmFjZTtcbiAgICB9IGVsc2UgaWYgKHJlbmRlclN1cmZhY2UgaW5zdGFuY2VvZiBUZXh0dXJlU291cmNlKSB7XG4gICAgICByZW5kZXJUYXJnZXQgPSBuZXcgUmVuZGVyVGFyZ2V0KHtcbiAgICAgICAgY29sb3JUZXh0dXJlczogW3JlbmRlclN1cmZhY2VdXG4gICAgICB9KTtcbiAgICAgIGlmIChyZW5kZXJTdXJmYWNlLnNvdXJjZSBpbnN0YW5jZW9mIENhbnZhc1NvdXJjZSkge1xuICAgICAgICByZW5kZXJUYXJnZXQuaXNSb290ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJlbmRlclN1cmZhY2Uub25jZShcImRlc3Ryb3lcIiwgKCkgPT4ge1xuICAgICAgICByZW5kZXJUYXJnZXQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoLmRlbGV0ZShyZW5kZXJTdXJmYWNlKTtcbiAgICAgICAgY29uc3QgZ3B1UmVuZGVyVGFyZ2V0ID0gdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaFtyZW5kZXJUYXJnZXQudWlkXTtcbiAgICAgICAgaWYgKGdwdVJlbmRlclRhcmdldCkge1xuICAgICAgICAgIHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2hbcmVuZGVyVGFyZ2V0LnVpZF0gPSBudWxsO1xuICAgICAgICAgIHRoaXMuYWRhcHRvci5kZXN0cm95R3B1UmVuZGVyVGFyZ2V0KGdwdVJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoLnNldChyZW5kZXJTdXJmYWNlLCByZW5kZXJUYXJnZXQpO1xuICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gIH1cbiAgZ2V0R3B1UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoW3JlbmRlclRhcmdldC51aWRdIHx8ICh0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoW3JlbmRlclRhcmdldC51aWRdID0gdGhpcy5hZGFwdG9yLmluaXRHcHVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KSk7XG4gIH1cbiAgcmVzZXRTdGF0ZSgpIHtcbiAgICB0aGlzLnJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJTdXJmYWNlID0gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgeyBSZW5kZXJUYXJnZXRTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlclRhcmdldFN5c3RlbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGlzUmVuZGVyaW5nVG9TY3JlZW4ocmVuZGVyVGFyZ2V0KSB7XG4gIGNvbnN0IHJlc291cmNlID0gcmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZS5zb3VyY2UucmVzb3VyY2U7XG4gIHJldHVybiBnbG9iYWxUaGlzLkhUTUxDYW52YXNFbGVtZW50ICYmIHJlc291cmNlIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyhyZXNvdXJjZSk7XG59XG5cbmV4cG9ydCB7IGlzUmVuZGVyaW5nVG9TY3JlZW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUmVuZGVyaW5nVG9TY3JlZW4ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjYWxjdWxhdGVQcm9qZWN0aW9uKHBtLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBmbGlwWSkge1xuICBjb25zdCBzaWduID0gZmxpcFkgPyAxIDogLTE7XG4gIHBtLmlkZW50aXR5KCk7XG4gIHBtLmEgPSAxIC8gd2lkdGggKiAyO1xuICBwbS5kID0gc2lnbiAqICgxIC8gaGVpZ2h0ICogMik7XG4gIHBtLnR4ID0gLTEgLSB4ICogcG0uYTtcbiAgcG0udHkgPSAtc2lnbiAtIHkgKiBwbS5kO1xuICByZXR1cm4gcG07XG59XG5cbmV4cG9ydCB7IGNhbGN1bGF0ZVByb2plY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGN1bGF0ZVByb2plY3Rpb24ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBibGVuZE1vZGVJZHMgPSB7XG4gIG5vcm1hbDogMCxcbiAgYWRkOiAxLFxuICBtdWx0aXBseTogMixcbiAgc2NyZWVuOiAzLFxuICBvdmVybGF5OiA0LFxuICBlcmFzZTogNSxcbiAgXCJub3JtYWwtbnBtXCI6IDYsXG4gIFwiYWRkLW5wbVwiOiA3LFxuICBcInNjcmVlbi1ucG1cIjogOCxcbiAgbWluOiA5LFxuICBtYXg6IDEwXG59O1xuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcbmNvbnN0IERFUFRIX01BU0sgPSA1O1xuY29uc3QgX1N0YXRlID0gY2xhc3MgX1N0YXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5kYXRhID0gMDtcbiAgICB0aGlzLmJsZW5kTW9kZSA9IFwibm9ybWFsXCI7XG4gICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcbiAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICB0aGlzLmRlcHRoTWFzayA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBnZXQgYmxlbmQoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgQkxFTkQpO1xuICB9XG4gIHNldCBibGVuZCh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IEJMRU5EO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBvZmZzZXRzKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IE9GRlNFVCk7XG4gIH1cbiAgc2V0IG9mZnNldHModmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBPRkZTRVQpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgT0ZGU0VUO1xuICAgIH1cbiAgfVxuICAvKiogVGhlIGN1bGxpbmcgc2V0dGluZ3MgZm9yIHRoaXMgc3RhdGUgbm9uZSAtIE5vIGN1bGxpbmcgYmFjayAtIEJhY2sgZmFjZSBjdWxsaW5nIGZyb250IC0gRnJvbnQgZmFjZSBjdWxsaW5nICovXG4gIHNldCBjdWxsTW9kZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gXCJub25lXCIpIHtcbiAgICAgIHRoaXMuY3VsbGluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmN1bGxpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2xvY2t3aXNlRnJvbnRGYWNlID0gdmFsdWUgPT09IFwiZnJvbnRcIjtcbiAgfVxuICBnZXQgY3VsbE1vZGUoKSB7XG4gICAgaWYgKCF0aGlzLmN1bGxpbmcpIHtcbiAgICAgIHJldHVybiBcIm5vbmVcIjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2xvY2t3aXNlRnJvbnRGYWNlID8gXCJmcm9udFwiIDogXCJiYWNrXCI7XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBjdWxsaW5nIG9mIHBvbHlnb25zLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgZ2V0IGN1bGxpbmcoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORyk7XG4gIH1cbiAgc2V0IGN1bGxpbmcodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBDVUxMSU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IENVTExJTkc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBkZXB0aFRlc3QoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfVEVTVCk7XG4gIH1cbiAgc2V0IGRlcHRoVGVzdCh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgREVQVEhfVEVTVDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgd3JpdGluZyB0byB0aGUgZGVwdGggYnVmZmVyLlxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBnZXQgZGVwdGhNYXNrKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX01BU0spO1xuICB9XG4gIHNldCBkZXB0aE1hc2sodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9NQVNLKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IERFUFRIX01BU0s7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgZnJvbnQgb3IgYmFjay1mYWNpbmcgcG9seWdvbnMgY2FuIGJlIGN1bGxlZC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBjbG9ja3dpc2VGcm9udEZhY2UoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmIDEgPDwgV0lORElORyk7XG4gIH1cbiAgc2V0IGNsb2Nrd2lzZUZyb250RmFjZSh2YWx1ZSkge1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAxIDw8IFdJTkRJTkcpICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5kYXRhIF49IDEgPDwgV0lORElORztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgbm9ybWFsYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICAgKiBAZGVmYXVsdCAnbm9ybWFsJ1xuICAgKi9cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICB9XG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLmJsZW5kID0gdmFsdWUgIT09IFwibm9uZVwiO1xuICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIHRoaXMuX2JsZW5kTW9kZUlkID0gYmxlbmRNb2RlSWRzW3ZhbHVlXSB8fCAwO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICAgKiBAZGVmYXVsdCAwXG4gICAqL1xuICBnZXQgcG9seWdvbk9mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9seWdvbk9mZnNldDtcbiAgfVxuICBzZXQgcG9seWdvbk9mZnNldCh2YWx1ZSkge1xuICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgW3BpeGkuanMvY29yZTpTdGF0ZSBibGVuZE1vZGU9JHt0aGlzLmJsZW5kTW9kZX0gY2xvY2t3aXNlRnJvbnRGYWNlPSR7dGhpcy5jbG9ja3dpc2VGcm9udEZhY2V9IGN1bGxpbmc9JHt0aGlzLmN1bGxpbmd9IGRlcHRoTWFzaz0ke3RoaXMuZGVwdGhNYXNrfSBwb2x5Z29uT2Zmc2V0PSR7dGhpcy5wb2x5Z29uT2Zmc2V0fV1gO1xuICB9XG4gIC8qKlxuICAgKiBBIHF1aWNrbHkgZ2V0dGluZyBhbiBpbnN0YW5jZSBvZiBhIFN0YXRlIHRoYXQgaXMgY29uZmlndXJlZCBmb3IgMmQgcmVuZGVyaW5nLlxuICAgKiBAcmV0dXJucyBhIG5ldyBTdGF0ZSB3aXRoIHZhbHVlcyBzZXQgZm9yIDJkIHJlbmRlcmluZ1xuICAgKi9cbiAgc3RhdGljIGZvcjJkKCkge1xuICAgIGNvbnN0IHN0YXRlID0gbmV3IF9TdGF0ZSgpO1xuICAgIHN0YXRlLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgIHN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5fU3RhdGUuZGVmYXVsdDJkID0gX1N0YXRlLmZvcjJkKCk7XG5sZXQgU3RhdGUgPSBfU3RhdGU7XG5cbmV4cG9ydCB7IFN0YXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGF0ZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IHVuaWZvcm1QYXJzZXJzID0gW1xuICAvLyB1cGxvYWRpbmcgcGl4aSBtYXRyaXggb2JqZWN0IHRvIG1hdDNcbiAge1xuICAgIHR5cGU6IFwibWF0M3gzPGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLnZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlLmEgIT09IHZvaWQgMDtcbiAgICB9LFxuICAgIHVibzogYFxuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IHV2W25hbWVdLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBkYXRhW29mZnNldF0gPSBtYXRyaXhbMF07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDFdID0gbWF0cml4WzFdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IG1hdHJpeFsyXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNF0gPSBtYXRyaXhbM107XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDVdID0gbWF0cml4WzRdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA2XSA9IG1hdHJpeFs1XTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgOF0gPSBtYXRyaXhbNl07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDldID0gbWF0cml4WzddO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxMF0gPSBtYXRyaXhbOF07XG4gICAgICAgIGAsXG4gICAgdW5pZm9ybTogYFxuICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1ZFtuYW1lXS5sb2NhdGlvbiwgZmFsc2UsIHV2W25hbWVdLnRvQXJyYXkodHJ1ZSkpO1xuICAgICAgICBgXG4gIH0sXG4gIC8vIHVwbG9hZGluZyBhIHBpeGkgcmVjdGFuZ2xlIGFzIGEgdmVjNFxuICB7XG4gICAgdHlwZTogXCJ2ZWM0PGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzQ8ZjMyPlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiBkYXRhLnZhbHVlLndpZHRoICE9PSB2b2lkIDAsXG4gICAgdWJvOiBgXG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBkYXRhW29mZnNldF0gPSB2Lng7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdi55O1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHYud2lkdGg7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDNdID0gdi5oZWlnaHQ7XG4gICAgICAgIGAsXG4gICAgdW5pZm9ybTogYFxuICAgICAgICAgICAgY3YgPSB1ZFtuYW1lXS52YWx1ZTtcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGlmIChjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgY3ZbMF0gPSB2Lng7XG4gICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XG4gICAgICAgICAgICAgICAgY3ZbMl0gPSB2LndpZHRoO1xuICAgICAgICAgICAgICAgIGN2WzNdID0gdi5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW25hbWVdLmxvY2F0aW9uLCB2LngsIHYueSwgdi53aWR0aCwgdi5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gIH0sXG4gIC8vIHVwbG9hZGluZyBhIHBpeGkgcG9pbnQgYXMgYSB2ZWMyXG4gIHtcbiAgICB0eXBlOiBcInZlYzI8ZjMyPlwiLFxuICAgIHRlc3Q6IChkYXRhKSA9PiBkYXRhLnR5cGUgPT09IFwidmVjMjxmMzI+XCIgJiYgZGF0YS5zaXplID09PSAxICYmIGRhdGEudmFsdWUueCAhPT0gdm9pZCAwLFxuICAgIHVibzogYFxuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi54O1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHYueTtcbiAgICAgICAgYCxcbiAgICB1bmlmb3JtOiBgXG4gICAgICAgICAgICBjdiA9IHVkW25hbWVdLnZhbHVlO1xuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgaWYgKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSkge1xuICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xuICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZFtuYW1lXS5sb2NhdGlvbiwgdi54LCB2LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gIH0sXG4gIC8vIHVwbG9hZGluZyBhIHBpeGkgY29sb3IgYXMgYSB2ZWM0XG4gIHtcbiAgICB0eXBlOiBcInZlYzQ8ZjMyPlwiLFxuICAgIHRlc3Q6IChkYXRhKSA9PiBkYXRhLnR5cGUgPT09IFwidmVjNDxmMzI+XCIgJiYgZGF0YS5zaXplID09PSAxICYmIGRhdGEudmFsdWUucmVkICE9PSB2b2lkIDAsXG4gICAgdWJvOiBgXG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBkYXRhW29mZnNldF0gPSB2LnJlZDtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSB2LmdyZWVuO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHYuYmx1ZTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2LmFscGhhO1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGN2ID0gdWRbbmFtZV0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBpZiAoY3ZbMF0gIT09IHYucmVkIHx8IGN2WzFdICE9PSB2LmdyZWVuIHx8IGN2WzJdICE9PSB2LmJsdWUgfHwgY3ZbM10gIT09IHYuYWxwaGEpIHtcbiAgICAgICAgICAgICAgICBjdlswXSA9IHYucmVkO1xuICAgICAgICAgICAgICAgIGN2WzFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgICAgICBjdlsyXSA9IHYuYmx1ZTtcbiAgICAgICAgICAgICAgICBjdlszXSA9IHYuYWxwaGE7XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkW25hbWVdLmxvY2F0aW9uLCB2LnJlZCwgdi5ncmVlbiwgdi5ibHVlLCB2LmFscGhhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIGNvbG9yIGFzIGEgdmVjM1xuICB7XG4gICAgdHlwZTogXCJ2ZWMzPGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzM8ZjMyPlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiBkYXRhLnZhbHVlLnJlZCAhPT0gdm9pZCAwLFxuICAgIHVibzogYFxuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi5yZWQ7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2LmJsdWU7XG4gICAgICAgIGAsXG4gICAgdW5pZm9ybTogYFxuICAgICAgICAgICAgY3YgPSB1ZFtuYW1lXS52YWx1ZTtcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGlmIChjdlswXSAhPT0gdi5yZWQgfHwgY3ZbMV0gIT09IHYuZ3JlZW4gfHwgY3ZbMl0gIT09IHYuYmx1ZSkge1xuICAgICAgICAgICAgICAgIGN2WzBdID0gdi5yZWQ7XG4gICAgICAgICAgICAgICAgY3ZbMV0gPSB2LmdyZWVuO1xuICAgICAgICAgICAgICAgIGN2WzJdID0gdi5ibHVlO1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZih1ZFtuYW1lXS5sb2NhdGlvbiwgdi5yZWQsIHYuZ3JlZW4sIHYuYmx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgfVxuXTtcblxuZXhwb3J0IHsgdW5pZm9ybVBhcnNlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuaWZvcm1QYXJzZXJzLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgQmF0Y2hhYmxlU3ByaXRlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iYXRjaGVyTmFtZSA9IFwiZGVmYXVsdFwiO1xuICAgIHRoaXMudG9wb2xvZ3kgPSBcInRyaWFuZ2xlLWxpc3RcIjtcbiAgICAvLyBiYXRjaCBzcGVjaWZpYy4uXG4gICAgdGhpcy5hdHRyaWJ1dGVTaXplID0gNDtcbiAgICB0aGlzLmluZGV4U2l6ZSA9IDY7XG4gICAgdGhpcy5wYWNrQXNRdWFkID0gdHJ1ZTtcbiAgICB0aGlzLnJvdW5kUGl4ZWxzID0gMDtcbiAgICB0aGlzLl9hdHRyaWJ1dGVTdGFydCA9IDA7XG4gICAgLy8gbG9jYXRpb24gaW4gdGhlIGJ1ZmZlclxuICAgIHRoaXMuX2JhdGNoZXIgPSBudWxsO1xuICAgIHRoaXMuX2JhdGNoID0gbnVsbDtcbiAgfVxuICBnZXQgYmxlbmRNb2RlKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBCbGVuZE1vZGU7XG4gIH1cbiAgZ2V0IGNvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmFibGUuZ3JvdXBDb2xvckFscGhhO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gICAgdGhpcy5ib3VuZHMgPSBudWxsO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gIH1cbn1cblxuZXhwb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXRjaGFibGVTcHJpdGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgQ2FudmFzU291cmNlIH0gZnJvbSAnLi4vc291cmNlcy9DYW52YXNTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi9UZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgY2FudmFzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0Q2FudmFzVGV4dHVyZShjYW52YXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFjYW52YXNDYWNoZS5oYXMoY2FudmFzKSkge1xuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh7XG4gICAgICBzb3VyY2U6IG5ldyBDYW52YXNTb3VyY2Uoe1xuICAgICAgICByZXNvdXJjZTogY2FudmFzLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9KVxuICAgIH0pO1xuICAgIGNvbnN0IG9uRGVzdHJveSA9ICgpID0+IHtcbiAgICAgIGlmIChjYW52YXNDYWNoZS5nZXQoY2FudmFzKSA9PT0gdGV4dHVyZSkge1xuICAgICAgICBjYW52YXNDYWNoZS5kZWxldGUoY2FudmFzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRleHR1cmUub25jZShcImRlc3Ryb3lcIiwgb25EZXN0cm95KTtcbiAgICB0ZXh0dXJlLnNvdXJjZS5vbmNlKFwiZGVzdHJveVwiLCBvbkRlc3Ryb3kpO1xuICAgIGNhbnZhc0NhY2hlLnNldChjYW52YXMsIHRleHR1cmUpO1xuICB9XG4gIHJldHVybiBjYW52YXNDYWNoZS5nZXQoY2FudmFzKTtcbn1cbmZ1bmN0aW9uIGhhc0NhY2hlZENhbnZhc1RleHR1cmUoY2FudmFzKSB7XG4gIHJldHVybiBjYW52YXNDYWNoZS5oYXMoY2FudmFzKTtcbn1cblxuZXhwb3J0IHsgZ2V0Q2FudmFzVGV4dHVyZSwgaGFzQ2FjaGVkQ2FudmFzVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q2FudmFzVGV4dHVyZS5tanMubWFwXG4iXSwibmFtZXMiOlsiX1JlbmRlclRhcmdldCIsImNvbnN0cnVjdG9yIiwiZGVzY3JpcHRvciIsInRoaXMiLCJ1aWQiLCJjb2xvclRleHR1cmVzIiwiZGlydHlJZCIsImlzUm9vdCIsIl9zaXplIiwiRmxvYXQzMkFycmF5IiwiX21hbmFnZWRDb2xvclRleHR1cmVzIiwiZGVmYXVsdE9wdGlvbnMiLCJzdGVuY2lsIiwiZGVwdGgiLCJpIiwicHVzaCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzb2x1dGlvbiIsImFudGlhbGlhcyIsIm1hcCIsInRleHR1cmUiLCJzb3VyY2UiLCJjb2xvclNvdXJjZSIsImNvbG9yVGV4dHVyZSIsInJlc2l6ZSIsIl9yZXNvbHV0aW9uIiwib24iLCJvblNvdXJjZVJlc2l6ZSIsImRlcHRoU3RlbmNpbFRleHR1cmUiLCJlbnN1cmVEZXB0aFN0ZW5jaWxUZXh0dXJlIiwic2l6ZSIsInBpeGVsV2lkdGgiLCJwaXhlbEhlaWdodCIsImZvcm1hdCIsImF1dG9HZW5lcmF0ZU1pcG1hcHMiLCJtaXBMZXZlbENvdW50Iiwic2tpcENvbG9yVGV4dHVyZSIsImZvckVhY2giLCJkZXN0cm95Iiwib2ZmIiwiUmVuZGVyVGFyZ2V0IiwiQnVmZmVyUmVzb3VyY2UiLCJidWZmZXIiLCJvZmZzZXQiLCJzdXBlciIsIl9yZXNvdXJjZVR5cGUiLCJfdG91Y2hlZCIsIl9yZXNvdXJjZUlkIiwiX2J1ZmZlclJlc291cmNlIiwiZGVzdHJveWVkIiwib25CdWZmZXJDaGFuZ2UiLCJlbWl0IiwiZGVzdHJveUJ1ZmZlciIsIkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aSIsIk5PTkUiLCJESVNBQkxFRCIsInN0ZW5jaWxXcml0ZU1hc2siLCJzdGVuY2lsUmVhZE1hc2siLCJSRU5ERVJJTkdfTUFTS19BREQiLCJzdGVuY2lsRnJvbnQiLCJjb21wYXJlIiwicGFzc09wIiwic3RlbmNpbEJhY2siLCJSRU5ERVJJTkdfTUFTS19SRU1PVkUiLCJNQVNLX0FDVElWRSIsIklOVkVSU0VfTUFTS19BQ1RJVkUiLCJsb29wTWF0cml4IiwiY29sIiwicm93IiwidWJvU3luY0Z1bmN0aW9uc1NURDQwIiwiZjMyIiwiaTMyIiwidWJvU3luY0Z1bmN0aW9uc1dHU0wiLCJsb2NhbFVuaWZvcm1CaXQiLCJuYW1lIiwidmVydGV4IiwiaGVhZGVyIiwibWFpbiIsImVuZCIsImxvY2FsVW5pZm9ybUJpdEdyb3VwMiIsInJlcGxhY2UiLCJsb2NhbFVuaWZvcm1CaXRHbCIsImNvbG9yMzJCaXRUb1VuaWZvcm0iLCJhYmdyIiwib3V0IiwiYWxwaGEiLCJ0ZXh0dXJlQml0IiwiZnJhZ21lbnQiLCJ0ZXh0dXJlQml0R2wiLCJDdXN0b21SZW5kZXJQaXBlIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJ1cGRhdGVSZW5kZXJhYmxlIiwiZGVzdHJveVJlbmRlcmFibGUiLCJ2YWxpZGF0ZVJlbmRlcmFibGUiLCJhZGRSZW5kZXJhYmxlIiwiY29udGFpbmVyIiwiaW5zdHJ1Y3Rpb25TZXQiLCJyZW5kZXJQaXBlcyIsImJhdGNoIiwiYnJlYWsiLCJhZGQiLCJleGVjdXRlIiwiaXNSZW5kZXJhYmxlIiwicmVuZGVyIiwiZXh0ZW5zaW9uIiwidHlwZSIsIldlYkdMUGlwZXMiLCJXZWJHUFVQaXBlcyIsIkNhbnZhc1BpcGVzIiwiZXhlY3V0ZUluc3RydWN0aW9ucyIsInJlbmRlckdyb3VwIiwiaW5zdHJ1Y3Rpb25zIiwiaW5zdHJ1Y3Rpb25TaXplIiwiaW5zdHJ1Y3Rpb24iLCJyZW5kZXJQaXBlSWQiLCJ0ZW1wTWF0cml4IiwiTWF0cml4IiwiUmVuZGVyR3JvdXBQaXBlIiwiYWRkUmVuZGVyR3JvdXAiLCJpc0NhY2hlZEFzVGV4dHVyZSIsIl9hZGRSZW5kZXJhYmxlQ2FjaGVBc1RleHR1cmUiLCJfYWRkUmVuZGVyYWJsZURpcmVjdCIsIl9leGVjdXRlQ2FjaGVBc1RleHR1cmUiLCJfZXhlY3V0ZURpcmVjdCIsIl9iYXRjaGFibGVSZW5kZXJHcm91cCIsInJldHVybiIsImJhdGNoYWJsZVJlbmRlckdyb3VwIiwiZ2V0IiwiQmF0Y2hhYmxlU3ByaXRlIiwicmVuZGVyYWJsZSIsInJvb3QiLCJ0cmFuc2Zvcm0iLCJyZWxhdGl2ZUdyb3VwVHJhbnNmb3JtIiwiYm91bmRzIiwiX3RleHR1cmVCb3VuZHMiLCJhZGRUb0JhdGNoIiwidGV4dHVyZU5lZWRzVXBkYXRlIiwid29ybGRUcmFuc2Zvcm1NYXRyaXgiLCJpZGVudGl0eSIsInRyYW5zbGF0ZSIsIngiLCJ5IiwicmVuZGVyVGFyZ2V0IiwiZnJhbWUiLCJnbG9iYWxVbmlmb3JtcyIsIndvcmxkQ29sb3IiLCJmaW5pc2hSZW5kZXJQYXNzIiwicG9wIiwiX2JhdGNoZXIiLCJ1cGRhdGVFbGVtZW50IiwiZ2VvbWV0cnkiLCJidWZmZXJzIiwidXBkYXRlIiwiaW52ZXJzZVBhcmVudFRleHR1cmVUcmFuc2Zvcm0iLCJ3b3JsZENvbG9yQWxwaGEiLCJjbGVhckxpc3QiLCJsaXN0IiwiaW5kZXgiLCJqIiwibGVuZ3RoIiwidGVtcENvbnRhaW5lciIsIkNvbnRhaW5lciIsIlVQREFURV9CTEVORF9DT0xPUl9WSVNJQkxFIiwidXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zIiwidXBkYXRlQ2hpbGRSZW5kZXJHcm91cHMiLCJ3b3JsZEFscGhhIiwicmVuZGVyR3JvdXBQYXJlbnQiLCJ3b3JsZFRyYW5zZm9ybSIsImFwcGVuZEZyb20iLCJtdWx0aXBseUNvbG9ycyIsImdyb3VwQ29sb3IiLCJncm91cEFscGhhIiwiY29weUZyb20iLCJsb2NhbFRyYW5zZm9ybSIsImxvY2FsQ29sb3IiLCJsb2NhbEFscGhhIiwidXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0iLCJjaGlsZHJlblRvVXBkYXRlIiwidXBkYXRlVGljayIsInJlbmRlckdyb3VwRGVwdGgiLCJOdW1iZXIiLCJjaGlsZHJlbkF0RGVwdGgiLCJjaGlsZCIsInBhcmVudFJlbmRlckdyb3VwIiwicmVsYXRpdmVSZW5kZXJHcm91cERlcHRoIiwidXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4iLCJyZW5kZXJHcm91cENoaWxkcmVuIiwidXBkYXRlRmxhZ3MiLCJkaWRDaGFuZ2UiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsInBhcmVudCIsIl91cGRhdGVGbGFncyIsInVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5IiwiY2hpbGRyZW4iLCJzdHJ1Y3R1cmVEaWRDaGFuZ2UiLCJncm91cENvbG9yQWxwaGEiLCJncm91cEJsZW5kTW9kZSIsImxvY2FsQmxlbmRNb2RlIiwiZ2xvYmFsRGlzcGxheVN0YXR1cyIsImxvY2FsRGlzcGxheVN0YXR1cyIsIlJlbmRlckdyb3VwU3lzdGVtIiwib3JpZ2luYWxMb2NhbFRyYW5zZm9ybSIsIl91cGRhdGVDYWNoZWRSZW5kZXJHcm91cHMiLCJfdXBkYXRlUmVuZGVyR3JvdXBzIiwic3RhcnQiLCJ1bmlmb3JtQmF0Y2giLCJyZW5kZXJFbmQiLCJjbG9zZXN0Q2FjaGVBc1RleHR1cmUiLCJ1cGRhdGVDYWNoZVRleHR1cmUiLCJfcGFyZW50Q2FjaGVBc1RleHR1cmVSZW5kZXJHcm91cCIsImludmFsaWRhdGVNYXRyaWNlcyIsImdldExvY2FsQm91bmRzIiwiY2VpbCIsImxhc3RUZXh0dXJlIiwiVGV4dHVyZVBvb2wiLCJyZXR1cm5UZXh0dXJlIiwidGV4dHVyZU9wdGlvbnMiLCJ2aWV3IiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJCb3VuZHMiLCJydW5PblJlbmRlciIsImNoaWxkcmVuUmVuZGVyYWJsZXNUb1VwZGF0ZSIsInJlYnVpbGRSZXF1aXJlZCIsInZhbGlkYXRlUmVuZGVyYWJsZXMiLCJfYnVpbGRJbnN0cnVjdGlvbnMiLCJfdXBkYXRlUmVuZGVyYWJsZXMiLCJ1cGxvYWQiLCJkaWRWaWV3VXBkYXRlIiwicmVuZGVyZXJPclBpcGVzIiwicmVzZXQiLCJidWlsZFN0YXJ0IiwiYmxlbmRNb2RlIiwiY29sb3JNYXNrIiwic29ydGFibGVDaGlsZHJlbiIsInNvcnRDaGlsZHJlbiIsImNvbGxlY3RSZW5kZXJhYmxlc1dpdGhFZmZlY3RzIiwiYnVpbGRFbmQiLCJXZWJHTFN5c3RlbSIsIldlYkdQVVN5c3RlbSIsIkNhbnZhc1N5c3RlbSIsIlNwcml0ZVBpcGUiLCJzcHJpdGUiLCJncHVTcHJpdGUiLCJfZ2V0R3B1U3ByaXRlIiwiX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZSIsImNoZWNrQW5kVXBkYXRlVGV4dHVyZSIsIl90ZXh0dXJlIiwiYmF0Y2hhYmxlU3ByaXRlIiwidmlzdWFsQm91bmRzIiwiX2dwdURhdGEiLCJfaW5pdEdQVVNwcml0ZSIsImdyb3VwVHJhbnNmb3JtIiwicm91bmRQaXhlbHMiLCJfcm91bmRQaXhlbHMiLCJfQmF0Y2hlclBpcGUiLCJhZGFwdG9yIiwic3RhdGUiLCJTdGF0ZSIsImZvcjJkIiwiX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldCIsIk9iamVjdCIsImNyZWF0ZSIsIl9hY3RpdmVCYXRjaGVzIiwiX2FkYXB0b3IiLCJpbml0IiwiZ2V0QmF0Y2hlciIsIl9hdmFpbGFibGVCYXRjaGVycyIsImJhdGNoZXJzIiwiZGVmYXVsdCIsIkRlZmF1bHRCYXRjaGVyIiwibWF4VGV4dHVyZXMiLCJsaW1pdHMiLCJtYXhCYXRjaGFibGVUZXh0dXJlcyIsIl9hY3RpdmVCYXRjaCIsImJlZ2luIiwiYmF0Y2hhYmxlT2JqZWN0IiwiYmF0Y2hlck5hbWUiLCJiYXRjaGVzIiwiaW5kZXhCdWZmZXIiLCJzZXREYXRhV2l0aFNpemUiLCJpbmRleFNpemUiLCJhdHRyaWJ1dGVCdWZmZXIiLCJmbG9hdDMyVmlldyIsImF0dHJpYnV0ZVNpemUiLCJiYXRjaGVyIiwiZGlydHkiLCJhY3Rpb24iLCJzaGFkZXIiLCJCYXRjaGVyUGlwZSIsImhhbmRsZUJ5TWFwIiwiQmF0Y2hlciIsIl9GaWx0ZXIiLCJTaGFkZXIiLCJvcHRpb25zIiwiZW5hYmxlZCIsIl9zdGF0ZSIsInBhZGRpbmciLCJibGVuZFJlcXVpcmVkIiwiY2xpcFRvVmlld3BvcnQiLCJhZGRSZXNvdXJjZSIsImFwcGx5IiwiZmlsdGVyTWFuYWdlciIsImlucHV0Iiwib3V0cHV0IiwiY2xlYXJNb2RlIiwiYXBwbHlGaWx0ZXIiLCJ2YWx1ZSIsImZyb20iLCJncHUiLCJnbCIsInJlc3QiLCJncHVQcm9ncmFtIiwiZ2xQcm9ncmFtIiwiR3B1UHJvZ3JhbSIsIkdsUHJvZ3JhbSIsIkZpbHRlciIsIk1hc2tGaWx0ZXIiLCJ0ZXh0dXJlTWF0cml4IiwiVGV4dHVyZU1hdHJpeCIsImZpbHRlclVuaWZvcm1zIiwiVW5pZm9ybUdyb3VwIiwidUZpbHRlck1hdHJpeCIsInVNYXNrQ2xhbXAiLCJ1Q2xhbXBGcmFtZSIsInVBbHBoYSIsInVJbnZlcnNlIiwiaW52ZXJzZSIsImVudHJ5UG9pbnQiLCJyZXNvdXJjZXMiLCJ1TWFza1RleHR1cmUiLCJfdGV4dHVyZU1hdHJpeCIsInVuaWZvcm1zIiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4IiwicHJlcGVuZCIsIm1hcENvb3JkIiwidGVtcEJvdW5kcyIsIkFscGhhTWFza0VmZmVjdCIsIkZpbHRlckVmZmVjdCIsImZpbHRlcnMiLCJTcHJpdGUiLCJUZXh0dXJlIiwiRU1QVFkiLCJBbHBoYU1hc2tQaXBlIiwiX2FjdGl2ZU1hc2tTdGFnZSIsIm1hc2siLCJtYXNrZWRDb250YWluZXIiLCJfbWFza09wdGlvbnMiLCJjYW5CdW5kbGUiLCJyZW5kZXJNYXNrVG9UZXh0dXJlIiwibWFza0NvbnRhaW5lciIsImluY2x1ZGVJbkJ1aWxkIiwiY29sbGVjdFJlbmRlcmFibGVzIiwiX21hc2tlZENvbnRhaW5lciIsInJlbmRlck1hc2siLCJmaWx0ZXJFZmZlY3QiLCJtZWFzdXJhYmxlIiwiZ2V0R2xvYmFsQm91bmRzIiwiY29sb3JUZXh0dXJlU291cmNlIiwiZmlsdGVyVGV4dHVyZSIsInR4IiwibWluWCIsInR5IiwibWluWSIsIm1hc2tEYXRhIiwiV0VCR0wiLCJmaWx0ZXIiLCJDb2xvck1hc2tQaXBlIiwiX2NvbG9yU3RhY2siLCJfY29sb3JTdGFja0luZGV4IiwiX2N1cnJlbnRDb2xvciIsIl9jb250YWluZXIiLCJjb2xvclN0YWNrIiwiY3VycmVudENvbG9yIiwiX21hc2siLCJzZXRNYXNrIiwiU3RlbmNpbE1hc2tQaXBlIiwiX21hc2tTdGFja0hhc2giLCJfbWFza0hhc2giLCJXZWFrTWFwIiwiX2EiLCJlZmZlY3QiLCJzZXRCbGVuZE1vZGUiLCJoYXMiLCJzZXQiLCJpbnN0cnVjdGlvbnNTdGFydCIsImluc3RydWN0aW9uc0xlbmd0aCIsInJlbmRlclRhcmdldFVpZCIsIm1hc2tTdGFja0luZGV4IiwiZW5zdXJlRGVwdGhTdGVuY2lsIiwic2V0U3RlbmNpbE1vZGUiLCJjbGVhciIsIlNURU5DSUwiLCJfQmFja2dyb3VuZFN5c3RlbSIsImNsZWFyQmVmb3JlUmVuZGVyIiwiX2JhY2tncm91bmRDb2xvciIsIkNvbG9yIiwiY29sb3IiLCJiYWNrZ3JvdW5kIiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZEFscGhhIiwic2V0QWxwaGEiLCJzZXRWYWx1ZSIsImNvbG9yUmdiYSIsInRvQXJyYXkiLCJwcmlvcml0eSIsIkJhY2tncm91bmRTeXN0ZW0iLCJCTEVORF9NT0RFX0ZJTFRFUlMiLCJoYW5kbGUiLCJCbGVuZE1vZGUiLCJFcnJvciIsInJlZiIsIkJsZW5kTW9kZVBpcGUiLCJfaXNBZHZhbmNlZCIsIl9maWx0ZXJIYXNoIiwicnVubmVycyIsInByZXJlbmRlciIsIl9hY3RpdmVCbGVuZE1vZGUiLCJfZW5kQWR2YW5jZWRCbGVuZE1vZGUiLCJfYmVnaW5BZHZhbmNlZEJsZW5kTW9kZSIsIl9yZW5kZXJhYmxlTGlzdCIsIndhcm4iLCJyZW5kZXJhYmxlcyIsImltYWdlVHlwZXMiLCJwbmciLCJqcGciLCJ3ZWJwIiwiX0V4dHJhY3RTeXN0ZW0iLCJfbm9ybWFsaXplT3B0aW9ucyIsImRlZmF1bHRzIiwidGFyZ2V0IiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsImJhc2U2NCIsImRlZmF1bHRJbWFnZU9wdGlvbnMiLCJxdWFsaXR5IiwiY2FudmFzIiwidG9CbG9iIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJibG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsIm9uZXJyb3IiLCJyZWFkQXNEYXRhVVJMIiwidG9EYXRhVVJMIiwiY29udmVydFRvQmxvYiIsImdlbmVyYXRlQ2FudmFzIiwidGV4dHVyZUdlbmVyYXRvciIsImdlbmVyYXRlVGV4dHVyZSIsInBpeGVscyIsInBpeGVsSW5mbyIsImdldFBpeGVscyIsImRvd25sb2FkIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImZpbGVuYW1lIiwiaHJlZiIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJsb2ciLCJjb25zb2xlIiwic3R5bGUiLCJqb2luIiwiRXh0cmFjdFN5c3RlbSIsIlJlbmRlclRleHR1cmUiLCJUZXh0dXJlU291cmNlIiwidGVtcFJlY3QiLCJSZWN0YW5nbGUiLCJub0NvbG9yIiwiR2VuZXJhdGVUZXh0dXJlU3lzdGVtIiwidGV4dHVyZVNvdXJjZU9wdGlvbnMiLCJjbGVhckNvbG9yIiwiQXJyYXkiLCJpc0FycmF5Iiwic2hhcmVkIiwicmVnaW9uIiwiY29weVRvIiwicmVjdGFuZ2xlIiwiTWF0aCIsIm1heCIsInVwZGF0ZU1pcG1hcHMiLCJHbG9iYWxVbmlmb3JtU3lzdGVtIiwiX3N0YWNrSW5kZXgiLCJfZ2xvYmFsVW5pZm9ybURhdGFTdGFjayIsIl91bmlmb3Jtc1Bvb2wiLCJfYWN0aXZlVW5pZm9ybXMiLCJfYmluZEdyb3VwUG9vbCIsIl9hY3RpdmVCaW5kR3JvdXBzIiwiYmluZCIsInByb2plY3Rpb25NYXRyaXgiLCJjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEiLCJwcm9qZWN0aW9uRGF0YSIsIlBvaW50IiwiZ2xvYmFsVW5pZm9ybURhdGEiLCJiaW5kR3JvdXAiLCJ1bmlmb3JtR3JvdXAiLCJfY3JlYXRlVW5pZm9ybXMiLCJ1UHJvamVjdGlvbk1hdHJpeCIsInVSZXNvbHV0aW9uIiwidVdvcmxkVHJhbnNmb3JtTWF0cml4IiwidVdvcmxkQ29sb3JBbHBoYSIsImdldFVuaWZvcm1CaW5kR3JvdXAiLCJCaW5kR3JvdXAiLCJzZXRSZXNvdXJjZSIsIl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEiLCJpc1N0YXRpYyIsIlNjaGVkdWxlclN5c3RlbSIsIl90YXNrcyIsIl9vZmZzZXQiLCJUaWNrZXIiLCJzeXN0ZW0iLCJfdXBkYXRlIiwicmVwZWF0IiwiZnVuYyIsImR1cmF0aW9uIiwidXNlT2Zmc2V0IiwiaWQiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImxhc3QiLCJjYW5jZWwiLCJzcGxpY2UiLCJ0YXNrIiwiZWxhcHNlZCIsInJlbW92ZSIsInNhaWRIZWxsbyIsIkhlbGxvU3lzdGVtIiwiaGVsbG8iLCJjb250ZXh0Iiwid2ViR0xWZXJzaW9uIiwiZ2V0TmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiYXJncyIsImdsb2JhbFRoaXMiLCJzYXlIZWxsbyIsImNsZWFuSGFzaCIsImhhc2giLCJjbGVhbiIsImNsZWFuSGFzaDIiLCJjbGVhbkFycmF5IiwiYXJyIiwicmVuZGVyYWJsZUdDVGljayIsIl9SZW5kZXJhYmxlR0NTeXN0ZW0iLCJfbWFuYWdlZFJlbmRlcmFibGVzIiwiX21hbmFnZWRIYXNoZXMiLCJfbWFuYWdlZEFycmF5cyIsIm1heFVudXNlZFRpbWUiLCJyZW5kZXJhYmxlR0NNYXhVbnVzZWRUaW1lIiwiX2ZyZXF1ZW5jeSIsInJlbmRlcmFibGVHQ0ZyZXF1ZW5jeSIsInJlbmRlcmFibGVHQ0FjdGl2ZSIsIl9oYW5kbGVyIiwic2NoZWR1bGVyIiwicnVuIiwiX2hhc2hIYW5kbGVyIiwiX2FycmF5SGFuZGxlciIsImFycmF5IiwiYWRkTWFuYWdlZEhhc2giLCJhZGRNYW5hZ2VkQXJyYXkiLCJfbm93IiwiZ2NUaWNrIiwiX3VwZGF0ZUluc3RydWN0aW9uR0NUaWNrIiwiX2xhc3RVc2VkIiwib25jZSIsIl9yZW1vdmVSZW5kZXJhYmxlIiwibWFuYWdlZFJlbmRlcmFibGVzIiwiY3VycmVudFRpY2siLCJycCIsIlJlbmRlcmFibGVHQ1N5c3RlbSIsIl9UZXh0dXJlR0NTeXN0ZW0iLCJjb3VudCIsImNoZWNrQ291bnQiLCJjaGVja0NvdW50TWF4IiwidGV4dHVyZUdDQ2hlY2tDb3VudE1heCIsIm1heElkbGUiLCJ0ZXh0dXJlR0NBTWF4SWRsZSIsInRleHR1cmVHQ01heElkbGUiLCJhY3RpdmUiLCJ0ZXh0dXJlR0NBY3RpdmUiLCJwb3N0cmVuZGVyIiwicmVuZGVyaW5nVG9TY3JlZW4iLCJtYW5hZ2VkVGV4dHVyZXMiLCJhdXRvR2FyYmFnZUNvbGxlY3QiLCJyZXNvdXJjZSIsInVubG9hZCIsIlRleHR1cmVHQ1N5c3RlbSIsIl9WaWV3U3lzdGVtIiwiYXV0b0RlbnNpdHkiLCJkZXByZWNhdGlvbiIsInNjcmVlbiIsImNyZWF0ZUNhbnZhcyIsImdldENhbnZhc1RleHR1cmUiLCJ0cmFuc3BhcmVudCIsImRlc2lyZWRTY3JlZW5XaWR0aCIsImRlc2lyZWRTY3JlZW5IZWlnaHQiLCJyZW1vdmVWaWV3IiwicGFyZW50Tm9kZSIsIlNoYXJlZFN5c3RlbXMiLCJTaGFyZWRSZW5kZXJQaXBlcyIsImNyZWF0ZVVib1N5bmNGdW5jdGlvbiIsInVib0VsZW1lbnRzIiwicGFyc2VyQ29kZSIsImFycmF5R2VuZXJhdGlvbkZ1bmN0aW9uIiwic2luZ2xlU2V0dGVyc01hcCIsImZ1bmNGcmFnbWVudHMiLCJwcmV2IiwidWJvRWxlbWVudCIsImRhdGEiLCJwYXJzZWQiLCJ0ZXN0IiwidWJvIiwidGVtcGxhdGUiLCJmcmFnbWVudFNyYyIsIkZ1bmN0aW9uIiwiVWJvU3lzdGVtIiwiX3N5bmNGdW5jdGlvbkhhc2giLCJfc3lzdGVtQ2hlY2siLCJlbnN1cmVVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtRGF0YSIsImdldFVuaWZvcm1Hcm91cERhdGEiLCJsYXlvdXQiLCJ1c2FnZSIsIlVOSUZPUk0iLCJDT1BZX0RTVCIsIl9zaWduYXR1cmUiLCJfaW5pdFVuaWZvcm1Hcm91cCIsInVuaWZvcm1Hcm91cFNpZ25hdHVyZSIsImVsZW1lbnRzIiwia2V5cyIsInVuaWZvcm1TdHJ1Y3R1cmVzIiwiY3JlYXRlVWJvRWxlbWVudHMiLCJzeW5jRnVuY3Rpb24iLCJfZ2VuZXJhdGVVYm9TeW5jIiwiZ2VuZXJhdGVVYm9TeW5jIiwic3luY1VuaWZvcm1Hcm91cCIsInVuaWZvcm1Hcm91cERhdGEiLCJkYXRhSW50MzIiLCJ1cGRhdGVVbmlmb3JtR3JvdXAiLCJfZGlydHlJZCIsInN5bmNlZCIsImVuc3VyZUF0dHJpYnV0ZXMiLCJleHRyYWN0ZWREYXRhIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZURhdGEiLCJpbnN0YW5jZSIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJzdHJpZGUiLCJlbnN1cmVTdGFydEFuZFN0cmlkZSIsIlJlbmRlclRhcmdldFN5c3RlbSIsInJvb3RWaWV3UG9ydCIsInZpZXdwb3J0Iiwib25SZW5kZXJUYXJnZXRDaGFuZ2UiLCJTeXN0ZW1SdW5uZXIiLCJkZWZhdWx0Q2xlYXJDb2xvciIsIl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoIiwiTWFwIiwiX2dwdVJlbmRlclRhcmdldEhhc2giLCJfcmVuZGVyVGFyZ2V0U3RhY2siLCJyZW5kZXJhYmxlR0MiLCJyZW5kZXJTdGFydCIsInJvb3RSZW5kZXJUYXJnZXQiLCJIVE1MQ2FudmFzRWxlbWVudCIsImNvbnRhaW5zIiwiaXNSZW5kZXJpbmdUb1NjcmVlbiIsInJlbmRlclN1cmZhY2UiLCJnZXRSZW5kZXJUYXJnZXQiLCJncHVSZW5kZXJUYXJnZXQiLCJnZXRHcHVSZW5kZXJUYXJnZXQiLCJyZXNpemVHcHVSZW5kZXJUYXJnZXQiLCJwbSIsImZsaXBZIiwic2lnbiIsImEiLCJkIiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN0YXJ0UmVuZGVyUGFzcyIsIkFMTCIsImNvbnRleHRDaGFuZ2UiLCJjdXJyZW50UmVuZGVyVGFyZ2V0RGF0YSIsImlzVGV4dHVyZSIsIl9pbml0UmVuZGVyVGFyZ2V0IiwiY29weVRvVGV4dHVyZSIsInNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlIiwiZGVzdGluYXRpb25UZXh0dXJlIiwib3JpZ2luU3JjIiwib3JpZ2luRGVzdCIsIm1pbiIsImtleSIsIkNhbnZhc1NvdXJjZSIsImRlbGV0ZSIsImRlc3Ryb3lHcHVSZW5kZXJUYXJnZXQiLCJpbml0R3B1UmVuZGVyVGFyZ2V0IiwicmVzZXRTdGF0ZSIsImJsZW5kTW9kZUlkcyIsIm5vcm1hbCIsIm11bHRpcGx5Iiwib3ZlcmxheSIsImVyYXNlIiwiX1N0YXRlIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwiZGVwdGhNYXNrIiwib2Zmc2V0cyIsImN1bGxNb2RlIiwiY3VsbGluZyIsImNsb2Nrd2lzZUZyb250RmFjZSIsImRlcHRoVGVzdCIsIl9ibGVuZE1vZGUiLCJfYmxlbmRNb2RlSWQiLCJfcG9seWdvbk9mZnNldCIsInRvU3RyaW5nIiwiZGVmYXVsdDJkIiwidW5pZm9ybVBhcnNlcnMiLCJ1bmlmb3JtIiwicmVkIiwidG9wb2xvZ3kiLCJwYWNrQXNRdWFkIiwiX2F0dHJpYnV0ZVN0YXJ0IiwiX2JhdGNoIiwiY2FudmFzQ2FjaGUiLCJvbkRlc3Ryb3kiXSwic291cmNlUm9vdCI6IiJ9